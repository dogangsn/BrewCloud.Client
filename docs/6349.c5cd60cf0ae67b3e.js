"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[6349],{6349:(Y,T,i)=>{i.r(T),i.d(T,{StoreModule:()=>Z});var A=i(9299),r=i(4006),a=i(671),d=i(5412),m=i(487),g=i(5263),v=i(9079);class k{constructor(e,o,n){this.depotCode=e,this.depotName=o,this.active=n}}class F{constructor(e,o,n,c){this.id=e,this.depotCode=o,this.depotName=n,this.active=c}}var t=i(4650),y=i(5707),w=i(1723),B=i(6717);class p{constructor(e){this._httpService=e}getStoreList(){return this._httpService.getRequest(w.z.store.storeList)}createStores(e){return this._httpService.post(w.z.store.createStore,e)}deletedStores(e){return this._httpService.post(w.z.store.deleteStore,e)}updateStores(e){return this._httpService.post(w.z.store.updateStore,e)}}p.\u0275fac=function(e){return new(e||p)(t.LFG(B.O))},p.\u0275prov=t.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"});var f=i(4859),S=i(9549),h=i(7392),b=i(284),D=i(6895),N=i(6709);function L(s,e){1&s&&(t.TgZ(0,"span"),t._uU(1,"Depo G\xfcncelle"),t.qZA())}function z(s,e){1&s&&(t.TgZ(0,"span"),t._uU(1,"Depo Ekle"),t.qZA())}class C{constructor(e,o,n,c,l){this._dialogRef=e,this._formBuilder=o,this._translocoService=n,this._storeservice=c,this.data=l,this.buttonDisabled=!1,this.selectedstore=l}ngOnInit(){this.store=this._formBuilder.group({depotCode:["",r.kI.required],depotName:["",r.kI.required],active:[!0]}),this.fillFormData(this.selectedstore)}fillFormData(e){null!==this.selectedstore&&this.store.setValue({depotCode:e.depotCode,depotName:e.depotName,active:e.active})}closeDialog(){this._dialogRef.close({status:null})}addOrUpdateStore(){this.buttonDisabled=!0,this.selectedstore?this.updatestore():this.addstore()}addstore(){const e=new k(this.getFormValueByName("depotCode"),this.getFormValueByName("depotName"),this.getFormValueByName("active"));this._storeservice.createStores(e).subscribe(o=>{o.isSuccessful?(this.showSweetAlert("success"),this._dialogRef.close({status:!0})):this.showSweetAlert("error")},o=>{console.log(o)})}updatestore(){const e=new F(this.selectedstore.id,this.getFormValueByName("depotCode"),this.getFormValueByName("depotName"),this.getFormValueByName("active"));this._storeservice.updateStores(e).subscribe(o=>{o.isSuccessful?(this.showSweetAlert("success"),this._dialogRef.close({status:!0})):this.showSweetAlert("error")},o=>{console.log(o)})}getFormValueByName(e){return this.store.get(e).value}showSweetAlert(e){if("success"===e){const o=new m.c(this.translate("sweetalert.success"),this.translate("sweetalert.transactionSuccessful"),v.p.success);g.m.sweetAlert(o)}else{const o=new m.c(this.translate("sweetalert.error"),this.translate("sweetalert.transactionFailed"),v.p.error);g.m.sweetAlert(o)}}translate(e){return this._translocoService.translate(e)}}C.\u0275fac=function(e){return new(e||C)(t.Y36(d.so),t.Y36(r.qu),t.Y36(y.Vn),t.Y36(p),t.Y36(d.WI))},C.\u0275cmp=t.Xpm({type:C,selectors:[["app-create-edit-store-dialog"]],decls:42,vars:15,consts:[["mat-dialog-title","",1,"mat-dialog-title"],[1,"dialog-close-button",3,"tabIndex","click"],[1,"material-icons"],[1,"modalForm"],[1,"modal-header"],[1,"modal-title"],[4,"ngIf"],[1,"modal-body","mbody-store"],[1,"qm-pr-content"],[1,"container-fluid",3,"formGroup"],[1,"row"],[1,"col-sm-12","mt-2","common-width"],[1,"mb-2",3,"checked","color","formControlName"],[2,"width","100%"],["matInput","",3,"formControlName"],[1,"flex","flex-col","sm:flex-row","sm:items-center","justify-between","mt-4","sm:mt-6"],[1,"-ml-2"],["mat-icon-button",""],[1,"icon-size-5",3,"svgIcon"],[1,"flex","items-center","mt-4","sm:mt-0"],["mat-stroked-button","",1,"ml-auto","sm:ml-0",3,"click"],["mat-flat-button","",1,"order-first","sm:order-last",3,"color","disabled","click"]],template:function(e,o){1&e&&(t.TgZ(0,"h1",0)(1,"button",1),t.NdJ("click",function(){return o.closeDialog()}),t.TgZ(2,"span",2),t._uU(3," highlight_off "),t.qZA()()(),t.TgZ(4,"div",3)(5,"mat-dialog-content")(6,"div",4)(7,"h5",5),t.YNc(8,L,2,0,"span",6),t.YNc(9,z,2,0,"span",6),t.qZA()(),t.TgZ(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"mat-checkbox",12),t._uU(16," Aktif "),t.qZA()(),t.TgZ(17,"div",11)(18,"mat-form-field",13)(19,"mat-label"),t._uU(20,"Depo Kodu"),t.qZA(),t._UZ(21,"input",14),t.qZA()(),t.TgZ(22,"div",11)(23,"mat-form-field",13)(24,"mat-label"),t._uU(25,"Depo Ad\u0131"),t.qZA(),t._UZ(26,"input",14),t.qZA()()()()(),t.TgZ(27,"div",15)(28,"div",16)(29,"button",17),t._UZ(30,"mat-icon",18),t.qZA(),t.TgZ(31,"button",17),t._UZ(32,"mat-icon",18),t.qZA(),t.TgZ(33,"button",17),t._UZ(34,"mat-icon",18),t.qZA(),t.TgZ(35,"button",17),t._UZ(36,"mat-icon",18),t.qZA()(),t.TgZ(37,"div",19)(38,"button",20),t.NdJ("click",function(){return o.closeDialog()}),t._uU(39," Vazge\xe7 "),t.qZA(),t.TgZ(40,"button",21),t.NdJ("click",function(){return o.addOrUpdateStore()}),t._uU(41," Kaydet "),t.qZA()()()()()()),2&e&&(t.xp6(1),t.Q6J("tabIndex",-1),t.xp6(7),t.Q6J("ngIf",o.selectedstore),t.xp6(1),t.Q6J("ngIf",!o.selectedstore),t.xp6(3),t.Q6J("formGroup",o.store),t.xp6(3),t.Q6J("checked",!0)("color","primary")("formControlName","active"),t.xp6(6),t.Q6J("formControlName","depotCode"),t.xp6(5),t.Q6J("formControlName","depotName"),t.xp6(4),t.Q6J("svgIcon","heroicons_solid:paper-clip"),t.xp6(2),t.Q6J("svgIcon","heroicons_solid:link"),t.xp6(2),t.Q6J("svgIcon","heroicons_solid:emoji-happy"),t.xp6(2),t.Q6J("svgIcon","heroicons_solid:photograph"),t.xp6(4),t.Q6J("color","primary")("disabled",o.buttonDisabled))},dependencies:[r.Fj,r.JJ,r.JL,f.lW,f.RK,S.KE,S.hX,h.Hw,b.Nt,r.sg,r.u,D.O5,N.oG,d.uh,d.xY]});var J=i(8739);const E=["paginator"];function R(s,e){1&s&&(t.TgZ(0,"th",26),t._uU(1," Depo Kodu "),t.qZA())}function O(s,e){if(1&s&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&s){const o=e.$implicit;t.xp6(1),t.hij(" ",o.depotCode," ")}}function V(s,e){1&s&&(t.TgZ(0,"th",26),t._uU(1," Depo Ad\u0131 "),t.qZA())}function G(s,e){if(1&s&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&s){const o=e.$implicit;t.xp6(1),t.hij(" ",o.depotName," ")}}function H(s,e){1&s&&(t.TgZ(0,"th",26),t._uU(1," Aktif "),t.qZA())}function q(s,e){1&s&&(t.TgZ(0,"mat-icon",30),t._uU(1,"check_box"),t.qZA())}function P(s,e){1&s&&(t.TgZ(0,"mat-icon",30),t._uU(1,"check_box_outline_blank"),t.qZA())}function j(s,e){if(1&s&&(t.TgZ(0,"td",27),t.YNc(1,q,2,0,"mat-icon",28),t.YNc(2,P,2,0,"ng-template",null,29,t.W1O),t.qZA()),2&s){const o=e.$implicit,n=t.MAs(3);t.xp6(1),t.Q6J("ngIf",o.active)("ngIfElse",n)}}function K(s,e){1&s&&t._UZ(0,"tr",31)}function M(s,e){1&s&&t._UZ(0,"tr",32)}function W(s,e){1&s&&(t.TgZ(0,"th",26),t._uU(1," \u0130\u015flemler "),t.qZA())}function X(s,e){if(1&s){const o=t.EpF();t.TgZ(0,"td",27)(1,"button",33),t.NdJ("click",function(){const l=t.CHM(o).$implicit,u=t.oxw();return t.KtG(u.redirectToUpdate(l.id))}),t.TgZ(2,"mat-icon",34),t._uU(3,"edit"),t.qZA()(),t.TgZ(4,"button",35),t.NdJ("click",function(){const l=t.CHM(o).$implicit,u=t.oxw();return t.KtG(u.redirectToDelete(l.id))}),t.TgZ(5,"mat-icon",30),t._uU(6,"delete"),t.qZA()()()}}const $=function(){return[5,10,20]};class x{constructor(e,o,n){this._dialog=e,this._storeservice=o,this._translocoService=n,this.displayedColumns=["depotName","depotCode","active","actions"],this.storeList=[],this.dataSource=new a.by(this.storeList),this.redirectToUpdate=c=>{this.isUpdateButtonActive=!0;const l=this.storeList.find(u=>u.id===c);l&&this._dialog.open(C,{maxWidth:"100vw !important",disableClose:!0,data:l}).afterClosed().subscribe(U=>{U.status&&this.getStoreList()})},this.redirectToDelete=c=>{const l=new m.c(this.translate("sweetalert.areYouSure"),this.translate("sweetalert.areYouSureDelete"),v.p.warning);g.m.sweetAlertOfQuestion(l).then(u=>{u.isConfirmed&&this._storeservice.deletedStores({id:c}).subscribe(at=>{if(at.isSuccessful){this.getStoreList();const lt=new m.c(this.translate("sweetalert.success"),this.translate("sweetalert.transactionSuccessful"),v.p.success);g.m.sweetAlert(lt)}else console.error("Silme i\u015flemi ba\u015far\u0131s\u0131z.")})})}}ngAfterViewInit(){this.dataSource.paginator=this.paginator}ngOnInit(){this.getStoreList()}getStoreList(){this._storeservice.getStoreList().subscribe(e=>{this.storeList=e.data,this.dataSource=new a.by(this.storeList),this.dataSource.paginator=this.paginator})}addPanelOpen(){this.isUpdateButtonActive=!1,this._dialog.open(C,{maxWidth:"100vw !important",disableClose:!0,data:null}).afterClosed().subscribe(o=>{o.status&&this.getStoreList()})}showSweetAlert(e){if("success"===e){const o=new m.c(this.translate("sweetalert.success"),this.translate("sweetalert.transactionSuccessful"),v.p.success);g.m.sweetAlert(o)}else{const o=new m.c(this.translate("sweetalert.error"),this.translate("sweetalert.transactionFailed"),v.p.error);g.m.sweetAlert(o)}}translate(e){return this._translocoService.translate(e)}}x.\u0275fac=function(e){return new(e||x)(t.Y36(d.uw),t.Y36(p),t.Y36(y.Vn))},x.\u0275cmp=t.Xpm({type:x,selectors:[["app-store"]],viewQuery:function(e,o){if(1&e&&t.Gf(E,5),2&e){let n;t.iGM(n=t.CRH())&&(o.paginator=n.first)}},decls:37,vars:9,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex","flex-col","sm:flex-row","flex-0","sm:items-center","sm:justify-between","p-6","pb-22","sm:pt-12","sm:pb-28","sm:px-10","bg-default","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1"],[1,"mt-2"],[1,"text-3xl","md:text-4xl","font-extrabold","tracking-tight","leading-7","sm:leading-10","truncate"],[1,"font-medium","tracking-tight","text-secondary"],[1,"flex","shrink-0","items-center","mt-6","sm:mt-0","sm:ml-4"],["mat-flat-button","",1,"ml-3",3,"color","click"],[1,"icon-size-5","mr-2",3,"svgIcon"],[1,"flex-auto","-mt-16","p-6","sm:p-10","rounded-t-2xl","shadow","bg-card"],[1,"mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","depotCode"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","depotName"],["matColumnDef","active"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["matColumnDef","actions"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["paginator",""],["mat-header-cell",""],["mat-cell",""],["class","mat-18",4,"ngIf","ngIfElse"],["inactiveIcon",""],[1,"mat-18"],["mat-header-row",""],["mat-row",""],["mat-icon-button","","color","accent",3,"click"],["aria-label","Edit"],["mat-icon-button","","color","warn",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"a",4),t._UZ(6,"mat-icon",5),t.TgZ(7,"span",6),t._uU(8,"Back"),t.qZA()()()(),t.TgZ(9,"div",7)(10,"h2",8),t._uU(11," Depo "),t.qZA()(),t.TgZ(12,"div",9),t._uU(13,"Depo/Envanter Bilgileri"),t.qZA()(),t.TgZ(14,"div",10)(15,"button",11),t.NdJ("click",function(){return o.addPanelOpen()}),t._UZ(16,"mat-icon",12),t._uU(17," Yeni Depo "),t.qZA()()(),t.TgZ(18,"div",13)(19,"div",14)(20,"table",15),t.ynx(21,16),t.YNc(22,R,2,0,"th",17),t.YNc(23,O,2,1,"td",18),t.BQk(),t.ynx(24,19),t.YNc(25,V,2,0,"th",17),t.YNc(26,G,2,1,"td",18),t.BQk(),t.ynx(27,20),t.YNc(28,H,2,0,"th",17),t.YNc(29,j,4,2,"td",18),t.BQk(),t.YNc(30,K,1,0,"tr",21),t.YNc(31,M,1,0,"tr",22),t.ynx(32,23),t.YNc(33,W,2,0,"th",17),t.YNc(34,X,7,0,"td",18),t.BQk(),t.qZA(),t._UZ(35,"mat-paginator",24,25),t.qZA()()()),2&e&&(t.xp6(5),t.Q6J("routerLink","./.."),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:chevron-left"),t.xp6(9),t.Q6J("color","primary"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:plus"),t.xp6(4),t.Q6J("dataSource",o.dataSource),t.xp6(10),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(4),t.Q6J("pageSizeOptions",t.DdM(8,$)))},dependencies:[f.lW,f.RK,h.Hw,a.BZ,a.fO,a.as,a.w1,a.Dz,a.nj,a.ge,a.ev,a.XQ,a.Gk,D.O5,J.NW,A.rH]});var I=i(5804),_=i(8255),Q=i(4385),tt=i(3162),et=i(3238),ot=i(6308),st=i(455),it=i(266),nt=i(4466);const rt=[{path:"",component:x}];class Z{}Z.\u0275fac=function(e){return new(e||Z)},Z.\u0275mod=t.oAB({type:Z}),Z.\u0275inj=t.cJS({imports:[r.u5,f.ot,S.lN,h.Ps,b.c,r.u5,r.UX,I.J,_.Tx,r.u5,a.p0,D.ez,h.Ps,S.lN,f.ot,S.lN,h.Ps,b.c,r.u5,r.UX,I.J,_.Tx,Q.LD,h.Ps,N.p9,f.ot,N.p9,S.lN,h.Ps,b.c,_.Tx,J.TU,tt.Cv,et.si,ot.JX,Q.LD,st.rP,it.AV,nt.m,d.Is,A.Bz.forChild(rt)]})},487:(Y,T,i)=>{i.d(T,{c:()=>A});class A{constructor(a,d,m){this.title=a,this.text=d,this.icon=m}}}}]);