"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[5717],{88640:(E,h,a)=>{a.d(h,{C:()=>c});var t=a(51723),r=a(94650),g=a(76717);let c=(()=>{class u{constructor(n){this._httpService=n}getExaminationlist(n){return this._httpService.post(t.z.examinations.examinationlist,n)}getExaminationlistById(n){return this._httpService.post(t.z.examinations.getExamination,n)}getExaminationlistByPatientId(n){return this._httpService.post(t.z.examinations.getExaminationlistByPatient,n)}createExamination(n){return this._httpService.post(t.z.examinations.createExamination,n)}getSymptomlist(){return this._httpService.getRequest(t.z.examinations.symptomlist)}updateExamination(n){return this._httpService.post(t.z.examinations.updateExamination,n)}updateExaminationStatus(n){return this._httpService.post(t.z.examinations.updateExaminationStatus,n)}deleteExamination(n){return this._httpService.post(t.z.examinations.deleteExamination,n)}static#t=this.\u0275fac=function(p){return new(p||u)(r.LFG(g.O))};static#e=this.\u0275prov=r.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})()},98358:(E,h,a)=>{a.d(h,{P:()=>c});var t=a(51723),r=a(94650),g=a(76717);let c=(()=>{class u{constructor(n){this._httpService=n}gtPatientList(){return this._httpService.getRequest(t.z.patient.getPatientList)}getPatientFindById(n){return this._httpService.post(t.z.patient.getPatientFindById,n)}getWeightControls(n){return this._httpService.post(t.z.patient.getWeightControls,n)}updatePatientsWeight(n){return this._httpService.post(t.z.patient.updatePatientsWeight,n)}static#t=this.\u0275fac=function(p){return new(p||u)(r.LFG(g.O))};static#e=this.\u0275prov=r.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})()},85717:(E,h,a)=>{a.d(h,{j:()=>q});var t=a(94650),r=a(24006),g=a(77579),c=a(29521),u=a(12687),N=a(68675),n=a(54004),p=a(70487),A=a(69079),Z=a(45263),f=a(65412),D=a(37188),b=a(82722);class U{constructor(d,e,i,o,s,l,I,y,C,X,k,tt){this.id=d,this.date=e,this.status=i,this.customerId=o,this.patientId=s,this.bodyTemperature=l,this.pulse=I,this.respiratoryRate=y,this.weight=C,this.complaintStory=X,this.treatmentDescription=k,this.symptoms=tt}}var V=a(49345),B=a(30430),J=a(88640),w=a(98358),S=a(36895),L=a(4859),_=a(59549),O=a(97392),P=a(284),Q=a(84385),M=a(3238),T=a(71948),R=a(22284),x=a(77331),F=a(47957),v=a(37084);const z=["symptomInput"];function H(m,d){if(1&m&&(t.TgZ(0,"mat-radio-button",47),t._uU(1),t.qZA()),2&m){const e=d.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function Y(m,d){if(1&m&&(t.TgZ(0,"mat-option",48),t._uU(1),t.qZA()),2&m){const e=d.$implicit;t.Q6J("value",e.id),t.xp6(1),t.AsE("",e.firstName," ",e.lastName,"")}}function K(m,d){if(1&m&&(t.TgZ(0,"mat-option",48),t._uU(1),t.qZA()),2&m){const e=d.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function W(m,d){if(1&m){const e=t.EpF();t.TgZ(0,"mat-chip-row",49),t.NdJ("removed",function(){const s=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.remove(s))}),t._uU(1),t.TgZ(2,"button",50)(3,"mat-icon"),t._uU(4,"cancel"),t.qZA()()()}if(2&m){const e=d.$implicit;t.xp6(1),t.hij(" ",e," "),t.xp6(1),t.uIk("aria-label","remove "+e)}}function $(m,d){if(1&m&&(t.TgZ(0,"mat-option",48),t._uU(1),t.qZA()),2&m){const e=d.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}const j=function(){return{"aria-label":"Date And Time"}},G=function(){return{standalone:!0}};let q=(()=>{class m{constructor(e,i,o,s,l,I,y){this._customerService=e,this._formBuilder=i,this._translocoService=o,this._dialogRef=s,this._examinationService=l,this._patientListService=I,this.data=y,this.patientList=[],this.customers=[],this.panelOpenState=!1,this.separatorKeysCodes=[c.K5,c.OC],this.symptomCtrl=new r.NI(""),this.symptoms=[],this.allSymptoms=[],this.lastSelectedValue=new Date,this.now=new Date,this.examinationDate=new Date,this.addOnBlur=!0,this.announcer=(0,t.f3M)(u.Kd),this.states=["Aktif","Tamamland\u0131","Bekliyor"],this.addEnabled=!0,this.destroy$=new g.x,this.selectedExaminationId=y,this.selectedState=this.states[0],this.filteredSymptoms=this.symptomCtrl.valueChanges.pipe((0,N.O)(null),(0,n.U)(C=>C?this._filter(C):this.allSymptoms.slice()))}ngOnInit(){(0,D.$)(this.getCustomerList(),this.getSymptomsList(),this.getExamination(),this.getPatients()).pipe((0,b.R)(this.destroy$)).subscribe({next:e=>{this.setCustomerList(e[0]),this.setSymptomsList(e[1]),this.setExamination(e[2]),this.setPatients(e[3])},error:e=>{console.log(e)},complete:()=>{this.fillFormData(this.examination)}}),this.examinationForm=this._formBuilder.group({customerId:["",r.kI.required],patientId:["",r.kI.required],bodyTemperature:[""],pulse:[""],respiratoryRate:[""],weight:[""],complaintAndHistory:[""],treatmentDescription:[""],selectedState:[this.selectedState]})}getExamination(){if(null==this.selectedExaminationId)var e={id:"00000000-0000-0000-0000-000000000000"};else e={id:this.selectedExaminationId};return this._examinationService.getExaminationlistById(e)}setExamination(e){e.data&&(this.examination=e.data)}getPatients(){return this._patientListService.gtPatientList()}setPatients(e){e.data&&(null!=this.examination&&(e.data=e.data.filter(i=>i.customerId==this.examination.customerId)),this.patientList=e.data)}getCustomerList(){return this._customerService.getcustomerlist()}setCustomerList(e){e.data&&(this.customers=e.data)}getSymptomsList(){return this._examinationService.getSymptomlist()}setSymptomsList(e){e.data&&(this.allSymptoms=e.data)}getPatientList(){this._customerService.getPatientsByCustomerId(this.customers[0].id).subscribe(e=>{this.patientList=e.data})}getFormValueByName(e){return this.examinationForm.get(e).value}examinationadd(){new p.c(this.translate("sweetalert.areYouSure"),this.translate("sweetalert.apponitnmentAreSure"),A.p.warning)}closeDialog(){this._dialogRef.close({status:null})}handleCustomerChange(e){const i={id:e.value};null==i.id&&(i.id=e),this._customerService.getPatientsByCustomerId(i).subscribe(o=>{this.patientList=o.data,1===this.patientList.length&&this.examinationForm.get("patientId").patchValue(this.patientList[0].id)})}add(e){const i=(e.value||"").trim();this.allSymptoms.some(s=>s.toLowerCase().startsWith(i.toLowerCase()))||(i&&this.symptoms.push(i),e.chipInput.clear(),this.symptomCtrl.setValue(null))}remove(e){const i=this.symptoms.indexOf(e);i>=0&&this.symptoms.splice(i,1)}selected(e){this.symptoms.includes(e.option.viewValue)||this.symptoms.push(e.option.viewValue),this.symptomInput.nativeElement.value="",this.symptomCtrl.setValue(null)}_filter(e){const i=e.toLowerCase();return this.allSymptoms.filter(o=>o.toLowerCase().includes(i))}handleValueChange(e){this.lastSelectedValue=e.value,console.log("Yeni tarih ve saat: ",this.lastSelectedValue)}translate(e){return this._translocoService.translate(e)}showSweetAlert(e){if("success"===e){const i=new p.c(this.translate("sweetalert.success"),this.translate("sweetalert.transactionSuccessful"),A.p.success);Z.m.sweetAlert(i)}else{const i=new p.c(this.translate("sweetalert.error"),this.translate("sweetalert.transactionFailed"),A.p.error);Z.m.sweetAlert(i)}}updateExamination(){this.symptomsString=this.symptoms.join(", ");const e=new U(this.selectedExaminationId,this.lastSelectedValue,this.getFormValueByName("selectedState"),void 0===this.getFormValueByName("customerId")||null===this.getFormValueByName("customerId")||""===this.getFormValueByName("customerId")?"00000000-0000-0000-0000-000000000000":this.getFormValueByName("customerId"),void 0===this.getFormValueByName("patientId")||null===this.getFormValueByName("patientId")||""===this.getFormValueByName("patientId")?"00000000-0000-0000-0000-000000000000":this.getFormValueByName("patientId"),null===this.getFormValueByName("bodyTemperature")?"":this.getFormValueByName("bodyTemperature"),null===this.getFormValueByName("pulse")?"":this.getFormValueByName("pulse"),null===this.getFormValueByName("respiratoryRate")?"":this.getFormValueByName("respiratoryRate"),null===this.getFormValueByName("weight")?"":this.getFormValueByName("weight"),null===this.getFormValueByName("complaintAndHistory")?"":this.getFormValueByName("complaintAndHistory"),null===this.getFormValueByName("treatmentDescription")?"":this.getFormValueByName("treatmentDescription"),this.symptomsString);this._examinationService.updateExamination(e).subscribe(i=>{i.isSuccessful?(this.showSweetAlert("success"),this._dialogRef.close({status:!0})):this.showSweetAlert("error")},i=>{console.log(i)})}addOrUpdateExamination(){this.buttonDisabled=!0,this.selectedExaminationId?this.updateExamination():this.examinationadd()}fillFormData(e){null!=this.examination&&(this.examinationDate=this.examination.date,this.symptoms=this.examination.symptoms.split(",").map(o=>o.trim()),this.examinationForm.setValue({customerId:this.examination.customerId,patientId:this.examination.patientId,bodyTemperature:this.examination.bodyTemperature,pulse:this.examination.pulse,respiratoryRate:this.examination.respiratoryRate,weight:this.examination.weight,complaintAndHistory:this.examination.complaintStory,treatmentDescription:this.examination.treatmentDescription,selectedState:this.states[this.examination.status]}))}static#t=this.\u0275fac=function(i){return new(i||m)(t.Y36(V.v),t.Y36(r.QS),t.Y36(B.Vn),t.Y36(f.so),t.Y36(J.C),t.Y36(w.P),t.Y36(f.WI))};static#e=this.\u0275cmp=t.Xpm({type:m,selectors:[["app-examination-add-dialog"]],viewQuery:function(i,o){if(1&i&&t.Gf(z,5),2&i){let s;t.iGM(s=t.CRH())&&(o.symptomInput=s.first)}},decls:94,vars:36,consts:[["mat-dialog-title","",1,"mat-dialog-title"],[1,"dialog-close-button",3,"tabIndex","click"],[1,"material-icons"],[1,""],[1,"modal-header"],[1,"modal-title"],[1,"flex-auto","mt-8","p-6","sm:p-10","rounded-t-2xl","shadow","bg-card"],[3,"formGroup"],[1,"float",":","left","flex","gt-xs:flex-row","mb-2"],[1,"dx-field"],[1,"font-semibold","text-gray-700"],[1,"dx-field","mt-1"],["type","datetime",3,"value","min","inputAttr","onValueChanged"],[1,"flex-auto","ml-3"],[1,"ml-3"],["aria-labelledby","example-radio-group-label",1,"example-radio-group",3,"formControlName"],["class","example-radio-button",3,"value",4,"ngFor","ngForOf"],[1,"flex","float",":","left","gt-md:flex-row"],[1,"flex-auto","gt-xs:pl-3"],["name","customerId",3,"placeholder","formControlName","selectionChange"],[3,"ngModelOptions","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"ml-5","flex-auto","gt-xs:pl-3"],["name","patientId",3,"formControlName","placeholder"],["type","number","matInput","","name","bodyTemperature",3,"formControlName"],["matSuffix","",1,"icon-size-5",3,"svgIcon"],["type","number","matInput","","name","pulse",3,"formControlName"],["type","number","matInput","","name","respiratoryRate",3,"formControlName"],["type","number","matInput","","name","weight",3,"formControlName"],["appearance","fill",1,"example-chip-list","flex-wrap","mt-1"],[1,"flex-wrap","my-2","w-full"],["aria-label","Fruit selection",1,"ml-2"],["chipGrid",""],[3,"removed",4,"ngFor","ngForOf"],["placeholder","   New Fruit...",1,"mt-1","w-full","border","rounded-md","border-dashed",3,"formControl","matChipInputFor","matAutocomplete","matChipInputSeparatorKeyCodes","matChipInputTokenEnd"],["fruitInput",""],[3,"optionSelected"],["auto","matAutocomplete"],[1,"flex","float",":","left","gt-xs:flex-row"],[1,"w-1/6","pr-2"],["matInput","","name","complaintAndHistory",3,"formControlName"],[1,"ml-5","w-1/6","pr-2"],["matInput","","name","treatmentDescription",3,"formControlName"],[3,"opened","closed"],[1,"flex","items-center","mt-4","sm:mt-0","justify-end"],["mat-stroked-button","",1,"ml-auto","sm:ml-0","mx-2",3,"click"],["mat-flat-button","",1,"order-first","sm:order-last",3,"color","click"],[1,"example-radio-button",3,"value"],[3,"value"],[3,"removed"],["matChipRemove",""]],template:function(i,o){if(1&i&&(t.TgZ(0,"h1",0)(1,"button",1),t.NdJ("click",function(){return o.closeDialog()}),t.TgZ(2,"span",2),t._uU(3," highlight_off "),t.qZA()()(),t.TgZ(4,"div")(5,"mat-dialog-content",3)(6,"div",4)(7,"h5",5)(8,"span"),t._uU(9,"Muayne Ekle"),t.qZA()()(),t.TgZ(10,"div",6)(11,"div",7)(12,"div",8)(13,"div",9)(14,"mat-label",10),t._uU(15,"Muayne Tarihi"),t.qZA(),t.TgZ(16,"div",11)(17,"dx-date-box",12),t.NdJ("onValueChanged",function(l){return o.handleValueChange(l)}),t.qZA()()(),t.TgZ(18,"div",13)(19,"div",14)(20,"mat-label",10),t._uU(21,"Muayne Durumu"),t.qZA()(),t.TgZ(22,"div")(23,"mat-radio-group",15),t.YNc(24,H,2,2,"mat-radio-button",16),t.qZA()()()(),t.TgZ(25,"div",17)(26,"mat-form-field",18)(27,"mat-label"),t._uU(28,"M\xfc\u015fteri"),t.qZA(),t.TgZ(29,"mat-select",19),t.NdJ("selectionChange",function(l){return o.handleCustomerChange(l)}),t._UZ(30,"mat-select-filter",20),t.YNc(31,Y,2,3,"mat-option",21),t.qZA()(),t.TgZ(32,"mat-form-field",22)(33,"mat-label"),t._uU(34,"Hasta"),t.qZA(),t.TgZ(35,"mat-select",23)(36,"mat-option"),t._uU(37,"None"),t.qZA(),t.YNc(38,K,2,2,"mat-option",21),t.qZA()()(),t.TgZ(39,"div",17)(40,"mat-form-field",18)(41,"mat-label"),t._uU(42,"V\xfccut Is\u0131s\u0131 (Derece)"),t.qZA(),t._UZ(43,"input",24)(44,"mat-icon",25),t.qZA(),t.TgZ(45,"mat-form-field",22)(46,"mat-label"),t._uU(47,"Nab\u0131z"),t.qZA(),t._UZ(48,"input",26)(49,"mat-icon",25),t.qZA(),t.TgZ(50,"mat-form-field",22)(51,"mat-label"),t._uU(52,"Solunum H\u0131z\u0131"),t.qZA(),t._UZ(53,"input",27)(54,"mat-icon",25),t.qZA(),t.TgZ(55,"mat-form-field",22)(56,"mat-label"),t._uU(57,"A\u011f\u0131rl\u0131k"),t.qZA(),t._UZ(58,"input",28)(59,"mat-icon",25),t.qZA()(),t.TgZ(60,"mat-label",10),t._uU(61,"Semptomlar"),t.qZA(),t.TgZ(62,"mat-form-field",29)(63,"div",30)(64,"mat-chip-grid",31,32),t.YNc(66,W,5,2,"mat-chip-row",33),t.qZA(),t.TgZ(67,"input",34,35),t.NdJ("matChipInputTokenEnd",function(l){return o.add(l)}),t.qZA(),t.TgZ(69,"mat-autocomplete",36,37),t.NdJ("optionSelected",function(l){return o.selected(l)}),t.YNc(71,$,2,2,"mat-option",21),t.ALo(72,"async"),t.qZA()()(),t.TgZ(73,"div",38)(74,"mat-form-field",39)(75,"mat-label"),t._uU(76,"\u015eikayet & Hikaye"),t.qZA(),t._UZ(77,"textarea",40),t.qZA(),t.TgZ(78,"mat-form-field",41)(79,"mat-label"),t._uU(80,"Tedavi A\xe7\u0131klamas\u0131"),t.qZA(),t._UZ(81,"textarea",42),t.qZA()()(),t.TgZ(82,"mat-accordion")(83,"mat-expansion-panel",43),t.NdJ("opened",function(){return o.panelOpenState=!0})("closed",function(){return o.panelOpenState=!1}),t.TgZ(84,"mat-expansion-panel-header")(85,"mat-panel-title"),t._uU(86,"Yap\u0131lan \u0130\u015flemler & Kullan\u0131lan Malzemeler"),t.qZA()(),t.TgZ(87,"p"),t._uU(88,"I'm visible because I am open"),t.qZA()()()()(),t.TgZ(89,"div",44)(90,"button",45),t.NdJ("click",function(){return o.closeDialog()}),t._uU(91," Vazge\xe7 "),t.qZA(),t.TgZ(92,"button",46),t.NdJ("click",function(){return o.addOrUpdateExamination()}),t._uU(93," Kaydet "),t.qZA()()()),2&i){const s=t.MAs(65),l=t.MAs(70);t.xp6(1),t.Q6J("tabIndex",-1),t.xp6(10),t.Q6J("formGroup",o.examinationForm),t.xp6(6),t.Q6J("value",o.examinationDate)("min",o.now)("inputAttr",t.DdM(34,j)),t.xp6(6),t.Q6J("formControlName","selectedState"),t.xp6(1),t.Q6J("ngForOf",o.states),t.xp6(5),t.Q6J("placeholder","M\xfc\u015fteri")("formControlName","customerId"),t.xp6(1),t.Q6J("ngModelOptions",t.DdM(35,G))("ngModel",o.selectedCustomerId),t.xp6(1),t.Q6J("ngForOf",o.customers),t.xp6(4),t.Q6J("formControlName","patientId")("placeholder","Hasta"),t.xp6(3),t.Q6J("ngForOf",o.patientList),t.xp6(5),t.Q6J("formControlName","bodyTemperature"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:receipt-tax"),t.xp6(4),t.Q6J("formControlName","pulse"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:receipt-tax"),t.xp6(4),t.Q6J("formControlName","respiratoryRate"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:receipt-tax"),t.xp6(4),t.Q6J("formControlName","weight"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:receipt-tax"),t.xp6(7),t.Q6J("ngForOf",o.symptoms),t.xp6(1),t.Q6J("formControl",o.symptomCtrl)("matChipInputFor",s)("matAutocomplete",l)("matChipInputSeparatorKeyCodes",o.separatorKeysCodes),t.xp6(4),t.Q6J("ngForOf",t.lcZ(72,32,o.filteredSymptoms)),t.xp6(6),t.Q6J("formControlName","complaintAndHistory"),t.xp6(4),t.Q6J("formControlName","treatmentDescription"),t.xp6(11),t.Q6J("color","primary")}},dependencies:[S.sg,r.Fj,r.wV,r.JJ,r.JL,r.On,L.lW,_.KE,_.hX,_.R9,O.Hw,P.Nt,r.oH,r.sg,r.u,f.uh,f.xY,Q.gD,M.ey,T.VQ,T.U0,R.M,x.RA,x.oH,x.qH,x.z3,F.XC,F.ZL,v.pp,v.ib,v.yz,v.yK,S.Ov]})}return m})()}}]);