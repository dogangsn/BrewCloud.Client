"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[9227],{9345:(g,m,o)=>{o.d(m,{v:()=>s});var a=o(1723),u=o(4650),l=o(6717);class s{constructor(i){this._httpService=i}getcustomerlist(){return this._httpService.getRequest(a.z.customers.customerslist)}createCustomers(i){return this._httpService.post(a.z.customers.createCustomers,i)}getVetVetAnimalsType(){return this._httpService.getRequest(a.z.customers.animalsTypeList)}getAnimalBreedsDefList(){return this._httpService.getRequest(a.z.customers.animalBreedsDefList)}deleteCustomers(i){return this._httpService.post(a.z.customers.deleteCustomer,i)}getCustomersFindById(i){return this._httpService.post(a.z.customers.getCustomersFindById,i)}updateCustomerById(i){return this._httpService.post(a.z.customers.updateCustomerById,i)}createPatients(i){return this._httpService.post(a.z.customers.createPatient,i)}deletePatients(i){return this._httpService.post(a.z.customers.deletePatient,i)}getTransactionMovementList(i){return this._httpService.post(a.z.customers.getTransactionMovement,i)}}s.\u0275fac=function(i){return new(i||s)(u.LFG(l.O))},s.\u0275prov=u.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})},7507:(g,m,o)=>{o.d(m,{N:()=>s});var a=o(1723),u=o(4650),l=o(6717);class s{constructor(i){this._httpService=i}getProductCategoryList(){return this._httpService.getRequest(a.z.productcategory.productcategoryList)}createProductCategory(i){return this._httpService.post(a.z.productcategory.createProductCategory,i)}updateProductCategory(i){return this._httpService.post(a.z.productcategory.updateProductCategory,i)}deleteProductCategory(i){return this._httpService.post(a.z.productcategory.deleteProductCategory,i)}}s.\u0275fac=function(i){return new(i||s)(u.LFG(l.O))},s.\u0275prov=u.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})},6056:(g,m,o)=>{o.d(m,{d:()=>s});var a=o(1723),u=o(4650),l=o(6717);class s{constructor(i){this._httpService=i}GetProductDescriptionList(){return this._httpService.getRequest(a.z.productdescription.productdescriptionList)}createProductDescription(i){return this._httpService.post(a.z.productdescription.createProductDescriptions,i)}deleteProductDescription(i){return this._httpService.post(a.z.productdescription.deleteProductDescriptions,i)}updateProductDescription(i){return this._httpService.post(a.z.productdescription.updateProductDescriptions,i)}getProductDescriptionFilters(i){return this._httpService.post(a.z.productdescription.productDescriptionFilters,i)}}s.\u0275fac=function(i){return new(i||s)(u.LFG(l.O))},s.\u0275prov=u.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})},3822:(g,m,o)=>{o.d(m,{X:()=>s});var a=o(1723),u=o(4650),l=o(6717);class s{constructor(i){this._httpService=i}getUnitsList(){return this._httpService.getRequest(a.z.units.unitsList)}createUnits(i){return this._httpService.post(a.z.units.createUnits,i)}updateUnits(i){return this._httpService.post(a.z.units.updateUnits,i)}deleteUnits(i){return this._httpService.post(a.z.units.deleteUnits,i)}}s.\u0275fac=function(i){return new(i||s)(u.LFG(l.O))},s.\u0275prov=u.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})},3225:(g,m,o)=>{o.d(m,{R:()=>s});var a=o(1723),u=o(4650),l=o(6717);class s{constructor(i){this._httpService=i}getSuppliersList(){return this._httpService.getRequest(a.z.suppliers.suppliersList)}createSuppliers(i){return this._httpService.post(a.z.suppliers.Createsuppliers,i)}deleteSuppliers(i){return this._httpService.post(a.z.suppliers.Deletesuppliers,i)}updateSuppliers(i){return this._httpService.post(a.z.suppliers.Updatesuppliers,i)}}s.\u0275fac=function(i){return new(i||s)(u.LFG(l.O))},s.\u0275prov=u.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})},9227:(g,m,o)=>{o.d(m,{i:()=>v});var a=o(5412),u=o(4006),l=o(487),s=o(9079),p=o(5263);class i{constructor(e,r,c,d,_,y,D,C,h,P,T,A,I,Z,F,N,S,B){this.name=e,this.unitId=r,this.categoryId=c,this.productTypeId=d,this.supplierId=_,this.productCode=D,this.productBarcode=y,this.ratio=C,this.buyingPrice=h,this.sellingPrice=P,this.criticalAmount=T,this.active=A,this.sellingIncludeKDV=I,this.buyingIncludeKDV=Z,this.fixPrice=F,this.isExpirationDate=N,this.animalType=S,this.numberRepetitions=B}}class U{constructor(e,r,c,d,_,y,D,C,h,P,T,A,I,Z,F,N,S,B,et){this.Id=e,this.name=r,this.unitId=c,this.categoryId=d,this.productTypeId=_,this.supplierId=y,this.productCode=C,this.productBarcode=D,this.ratio=h,this.buyingPrice=P,this.sellingPrice=T,this.criticalAmount=A,this.active=I,this.sellingIncludeKDV=Z,this.buyingIncludeKDV=F,this.fixPrice=N,this.isExpirationDate=S,this.animalType=B,this.numberRepetitions=et}}var f=(()=>{return(n=f||(f={}))[n.STOK=1]="STOK",n[n["A\u015eI / \u0130LA\xc7"]=2]="A\u015eI / \u0130LA\xc7",f;var n})(),t=o(4650),O=o(5707),L=o(6056),J=o(3822),K=o(7507),Q=o(3225),R=o(9345),E=o(4859),b=o(9549),z=o(7392),M=o(284),x=o(6895),q=o(4385),w=o(3238),Y=o(6709);function k(n,e){1&n&&(t.TgZ(0,"span"),t._uU(1,"\xdcr\xfcn G\xfcncelle"),t.qZA())}function W(n,e){1&n&&(t.TgZ(0,"span"),t._uU(1,"\xdcr\xfcn Ekle"),t.qZA())}function G(n,e){if(1&n&&(t.TgZ(0,"mat-option",34),t._uU(1),t.qZA()),2&n){const r=e.$implicit;t.Q6J("value",r.id),t.xp6(1),t.Oqu(r.unitName)}}function H(n,e){if(1&n&&(t.TgZ(0,"mat-option",34),t._uU(1),t.qZA()),2&n){const r=e.$implicit;t.Q6J("value",r.id),t.xp6(1),t.Oqu(r.name)}}function $(n,e){if(1&n&&(t.TgZ(0,"mat-option",34),t._uU(1),t.qZA()),2&n){const r=e.$implicit;t.Q6J("value",r.id),t.xp6(1),t.Oqu(r.name)}}function j(n,e){if(1&n&&(t.TgZ(0,"mat-option",34),t._uU(1),t.qZA()),2&n){const r=e.$implicit;t.Q6J("value",r.id),t.xp6(1),t.Oqu(r.suppliername)}}function X(n,e){if(1&n&&(t.TgZ(0,"mat-option",34),t._uU(1),t.qZA()),2&n){const r=e.$implicit;t.Q6J("value",r.type),t.xp6(1),t.hij(" ",r.name,"")}}function tt(n,e){if(1&n&&(t.TgZ(0,"div",14)(1,"mat-form-field",15)(2,"mat-label"),t._uU(3,"T\xfcr"),t.qZA(),t.TgZ(4,"mat-select",35),t.YNc(5,X,2,2,"mat-option",17),t.qZA()(),t.TgZ(6,"mat-form-field",15)(7,"mat-label"),t._uU(8,"Tekrar Say\u0131s\u0131"),t.qZA(),t._UZ(9,"input",13),t.qZA()()),2&n){const r=t.oxw();t.xp6(4),t.Q6J("formControlName","animalType"),t.xp6(1),t.Q6J("ngForOf",r.animalTypesList),t.xp6(4),t.Q6J("formControlName","numberRepetitions")}}class v{constructor(e,r,c,d,_,y,D,C,h){this._dialogRef=e,this._formBuilder=r,this._translocoService=c,this._productDefService=d,this._unitsservice=_,this._productcategoryservice=y,this._suppliersService=D,this._customerService=C,this.data=h,this.units=[],this.productcategories=[],this.supplierscards=[],this.animalTypesList=[],this.mapproducttype=[],this.buttonDisabled=!1,this.producttype=h.producttype,this.visibleProductType=h.visibleProductType,this.selectedProductdescription=h.selectedProductdescription}ngOnInit(){for(var e in f)"number"==typeof f[e]&&this.mapproducttype.push({id:f[e],name:e});this.UnitsList(),this.ProductCategoryList(),this.getSuppliers(),this.visibleProductType&&this.getAnimalTypesList(),this.productdescription=this._formBuilder.group({name:["",[u.kI.required]],unitId:["",[u.kI.required]],categoryId:["00000000-0000-0000-0000-000000000000"],productTypeId:{value:this.producttype,disabled:!0},supplierId:["00000000-0000-0000-0000-000000000000"],productBarcode:[""],productCode:[""],ratio:[0,[u.kI.required]],buyingPrice:[0,[u.kI.required,n=>/^\d+(\.\d{1,2})?$/.test(n.value)?null:{invalidNumber:{value:n.value}}]],sellingPrice:[0,[u.kI.required]],criticalAmount:[0],active:[!0],sellingIncludeKDV:[!1],buyingIncludeKDV:[!1],fixPrice:[!1],isExpirationDate:[!1],animalType:[],numberRepetitions:[]}),this.fillFormData(this.selectedProductdescription)}UnitsList(){this._unitsservice.getUnitsList().subscribe(e=>{this.units=e.data,console.log(this.units)})}ProductCategoryList(){this._productcategoryservice.getProductCategoryList().subscribe(e=>{this.productcategories=e.data,console.log(this.productcategories)})}getSuppliers(){this._suppliersService.getSuppliersList().subscribe(e=>{this.supplierscards=e.data,console.log(this.supplierscards)})}fillFormData(e){null!==this.selectedProductdescription&&this.productdescription.setValue({name:e.name,unitId:e.unitId,categoryId:e.categoryId,productTypeId:e.productTypeId,supplierId:e.supplierId,productBarcode:e.productBarcode,productCode:e.productCode,ratio:e.ratio,buyingPrice:e.buyingPrice,sellingPrice:e.sellingPrice,criticalAmount:e.criticalAmount,active:e.active,sellingIncludeKDV:e.sellingIncludeKDV,buyingIncludeKDV:e.buyingIncludeKDV,fixPrice:e.fixPrice,isExpirationDate:e.isExpirationDate,animalType:e.animalType,numberRepetitions:e.numberRepetitions})}addOrUpdateProductDef(){this.buttonDisabled=!0,this.selectedProductdescription?this.updateProductDef():this.addProductDef()}closeDialog(){this._dialogRef.close({status:null})}addProductDef(){const e=new i(this.getFormValueByName("name"),this.getFormValueByName("unitId"),this.getFormValueByName("categoryId"),this.getFormValueByName("productTypeId"),this.getFormValueByName("supplierId"),this.getFormValueByName("productBarcode"),this.getFormValueByName("productCode"),this.getFormValueByName("ratio"),this.getFormValueByName("buyingPrice"),this.getFormValueByName("sellingPrice"),this.getFormValueByName("criticalAmount"),this.getFormValueByName("active"),this.getFormValueByName("sellingIncludeKDV"),this.getFormValueByName("buyingIncludeKDV"),this.getFormValueByName("fixPrice"),this.getFormValueByName("isExpirationDate"),this.getFormValueByName("animalType"),this.getFormValueByName("numberRepetitions"));this.validateControl(e)||this._productDefService.createProductDescription(e).subscribe(r=>{r.isSuccessful?(this.showSweetAlert("success","sweetalert.transactionSuccessful"),this._dialogRef.close({status:!0})):this.showSweetAlert("error","sweetalert.transactionFailed")},r=>{console.log(r)})}updateProductDef(){const e=new U(this.selectedProductdescription.id,this.getFormValueByName("name"),this.getFormValueByName("unitId"),this.getFormValueByName("categoryId"),this.getFormValueByName("productTypeId"),this.getFormValueByName("supplierId"),this.getFormValueByName("productBarcode"),this.getFormValueByName("productCode"),this.getFormValueByName("ratio"),this.getFormValueByName("buyingPrice"),this.getFormValueByName("sellingPrice"),this.getFormValueByName("criticalAmount"),this.getFormValueByName("active"),this.getFormValueByName("sellingIncludeKDV"),this.getFormValueByName("buyingIncludeKDV"),this.getFormValueByName("fixPrice"),this.getFormValueByName("isExpirationDate"),this.getFormValueByName("animalType"),this.getFormValueByName("numberRepetitions"));this._productDefService.updateProductDescription(e).subscribe(r=>{r.isSuccessful?(this.showSweetAlert("success","sweetalert.transactionSuccessful"),this._dialogRef.close({status:!0})):this.showSweetAlert("error","sweetalert.transactionFailed")},r=>{console.log(r)})}getFormValueByName(e){return this.productdescription.get(e).value}showSweetAlert(e,r){if("success"===e){const c=new l.c(this.translate("sweetalert.success"),this.translate(r),s.p.success);p.m.sweetAlert(c)}else{const c=new l.c(this.translate("sweetalert.error"),this.translate(r),s.p.error);p.m.sweetAlert(c)}}translate(e){return this._translocoService.translate(e)}validateControl(e){return e.buyingPrice<=0?(this.showSweetAlert("error","Al\u0131\u015f Fiyat\u0131 0(S\u0131f\u0131rdan) B\xfcy\xfck olmal\u0131d\u0131r."),!0):e.sellingPrice<=0?(this.showSweetAlert("error","Sat\u0131\u015f Fiyat\u0131 0(S\u0131f\u0131rdan) B\xfcy\xfck olmal\u0131d\u0131r."),!0):e.ratio<=0&&(this.showSweetAlert("error","KDV Oran\u0131 0(S\u0131f\u0131rdan) B\xfcy\xfck olmal\u0131d\u0131r."),!0)}formatPrice(e){const c=parseFloat(e.target.value.replace(",","."));if(isNaN(c))this.isInvalidPrice=!0;else{this.isInvalidPrice=!1;const d=c.toFixed(2);console.log(d)}}getAnimalTypesList(){this._customerService.getVetVetAnimalsType().subscribe(e=>{this.animalTypesList=e.data,console.log("an\u0131mals",this.animalTypesList)})}}v.\u0275fac=function(e){return new(e||v)(t.Y36(a.so),t.Y36(u.qu),t.Y36(O.Vn),t.Y36(L.d),t.Y36(J.X),t.Y36(K.N),t.Y36(Q.R),t.Y36(R.v),t.Y36(a.WI))},v.\u0275cmp=t.Xpm({type:v,selectors:[["app-create-edit-productdescription-dialog"]],decls:101,vars:42,consts:[["mat-dialog-title","",1,"mat-dialog-title"],[1,"dialog-close-button",3,"tabIndex","click"],[1,"material-icons"],[1,"modalForm"],[1,"modal-header"],[1,"modal-title"],[4,"ngIf"],[1,"modal-body","mbody-productdescription"],[1,"qm-pr-content"],[1,"container-fluid",3,"formGroup"],[1,"row"],[1,"col-sm-12","mt-2","common-width"],[2,"width","100%"],["matInput","",3,"formControlName"],[1,"float",":","left","flex","gt-xs:flex-row"],[1,"ml-5","flex-auto","gt-xs:pl-3"],["name","units",3,"formControlName","placeholder"],[3,"value",4,"ngFor","ngForOf"],["name","productcategori",3,"formControlName","placeholder"],["name","mapproducttype",3,"formControlName","placeholder","disabled"],["name","supplierscard",3,"formControlName","placeholder"],["matInput","",3,"formControlName","input"],["class","float : left flex  gt-xs:flex-row",4,"ngIf"],[1,"flex","flex-col","gt-sm:flex-row"],[1,"flex","flex-col"],[1,"mb-2",3,"checked","color","formControlName"],[1,"mb-2",3,"color","formControlName"],[1,"flex","flex-col","sm:flex-row","sm:items-center","justify-between","mt-4","sm:mt-6"],[1,"-ml-2"],["mat-icon-button",""],[1,"icon-size-5",3,"svgIcon"],[1,"flex","items-center","mt-4","sm:mt-0"],["mat-stroked-button","",1,"ml-auto","sm:ml-0",3,"click"],["mat-flat-button","",1,"order-first","sm:order-last",3,"color","disabled","click"],[3,"value"],["name","animalType",3,"formControlName"]],template:function(e,r){1&e&&(t.TgZ(0,"h1",0)(1,"button",1),t.NdJ("click",function(){return r.closeDialog()}),t.TgZ(2,"span",2),t._uU(3," highlight_off "),t.qZA()()(),t.TgZ(4,"div",3)(5,"mat-dialog-content")(6,"div",4)(7,"h5",5),t.YNc(8,k,2,0,"span",6),t.YNc(9,W,2,0,"span",6),t.qZA()(),t.TgZ(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"mat-form-field",12)(16,"mat-label"),t._uU(17,"\xdcr\xfcn Ad\u0131"),t.qZA(),t._UZ(18,"input",13),t.qZA()()(),t.TgZ(19,"div",14)(20,"mat-form-field",15)(21,"mat-label"),t._uU(22,"Birim"),t.qZA(),t.TgZ(23,"mat-select",16)(24,"mat-option"),t._uU(25,"None"),t.qZA(),t.YNc(26,G,2,2,"mat-option",17),t.qZA()(),t.TgZ(27,"mat-form-field",15)(28,"mat-label"),t._uU(29,"\xdcr\xfcn Kategori"),t.qZA(),t.TgZ(30,"mat-select",18)(31,"mat-option"),t._uU(32,"None"),t.qZA(),t.YNc(33,H,2,2,"mat-option",17),t.qZA()()(),t.TgZ(34,"div",14)(35,"mat-form-field",15)(36,"mat-label"),t._uU(37,"\xdcr\xfcn Tipi"),t.qZA(),t.TgZ(38,"mat-select",19),t.YNc(39,$,2,2,"mat-option",17),t.qZA()(),t.TgZ(40,"mat-form-field",15)(41,"mat-label"),t._uU(42,"Tedarik\xe7i"),t.qZA(),t.TgZ(43,"mat-select",20)(44,"mat-option"),t._uU(45,"None"),t.qZA(),t.YNc(46,j,2,2,"mat-option",17),t.qZA()()(),t.TgZ(47,"div",14)(48,"mat-form-field",15)(49,"mat-label"),t._uU(50,"\xdcr\xfcn Barkod"),t.qZA(),t._UZ(51,"input",13),t.qZA(),t.TgZ(52,"mat-form-field",15)(53,"mat-label"),t._uU(54,"\xdcr\xfcn Kodu"),t.qZA(),t._UZ(55,"input",13),t.qZA(),t.TgZ(56,"mat-form-field",15)(57,"mat-label"),t._uU(58,"KDV %"),t.qZA(),t._UZ(59,"input",13),t.qZA()(),t.TgZ(60,"div",14)(61,"mat-form-field",15)(62,"mat-label"),t._uU(63,"Al\u0131\u015f Fiyat\u0131"),t.qZA(),t.TgZ(64,"input",21),t.NdJ("input",function(d){return r.formatPrice(d)}),t.qZA()(),t.TgZ(65,"mat-form-field",15)(66,"mat-label"),t._uU(67,"Sat\u0131\u015f Fiyat\u0131"),t.qZA(),t._UZ(68,"input",13),t.qZA(),t.TgZ(69,"mat-form-field",15)(70,"mat-label"),t._uU(71,"Kritik Stok Miktar\u0131"),t.qZA(),t._UZ(72,"input",13),t.qZA()(),t.YNc(73,tt,10,3,"div",22),t.TgZ(74,"div",23)(75,"div",24)(76,"mat-checkbox",25),t._uU(77," Aktif "),t.qZA(),t.TgZ(78,"mat-checkbox",26),t._uU(79," \xdcr\xfcn Sat\u0131\u015f Fiyat\u0131na KDV Dahil "),t.qZA(),t.TgZ(80,"mat-checkbox",26),t._uU(81," \xdcr\xfcn Al\u0131\u015f Fiyat\u0131na KDV Dahil "),t.qZA(),t.TgZ(82,"mat-checkbox",26),t._uU(83," Miktarl\u0131 Sat\u0131\u015flarda Fiyat Sabitlensin "),t.qZA(),t.TgZ(84,"mat-checkbox",26),t._uU(85," Seri Numaral\u0131 ve Son Kullanma Tarihli \xdcr\xfcn Takip Et "),t.qZA()()()()(),t.TgZ(86,"div",27)(87,"div",28)(88,"button",29),t._UZ(89,"mat-icon",30),t.qZA(),t.TgZ(90,"button",29),t._UZ(91,"mat-icon",30),t.qZA(),t.TgZ(92,"button",29),t._UZ(93,"mat-icon",30),t.qZA(),t.TgZ(94,"button",29),t._UZ(95,"mat-icon",30),t.qZA()(),t.TgZ(96,"div",31)(97,"button",32),t.NdJ("click",function(){return r.closeDialog()}),t._uU(98," Vazge\xe7 "),t.qZA(),t.TgZ(99,"button",33),t.NdJ("click",function(){return r.addOrUpdateProductDef()}),t._uU(100," Kaydet "),t.qZA()()()()()()),2&e&&(t.xp6(1),t.Q6J("tabIndex",-1),t.xp6(7),t.Q6J("ngIf",r.selectedProductdescription),t.xp6(1),t.Q6J("ngIf",!r.selectedProductdescription),t.xp6(3),t.Q6J("formGroup",r.productdescription),t.xp6(6),t.Q6J("formControlName","name"),t.xp6(5),t.Q6J("formControlName","unitId")("placeholder","Birim"),t.xp6(3),t.Q6J("ngForOf",r.units),t.xp6(4),t.Q6J("formControlName","categoryId")("placeholder","\xdcr\xfcn Kategori"),t.xp6(3),t.Q6J("ngForOf",r.productcategories),t.xp6(5),t.Q6J("formControlName","productTypeId")("placeholder","\xdcr\xfcn Tipi")("disabled",!0),t.xp6(1),t.Q6J("ngForOf",r.mapproducttype),t.xp6(4),t.Q6J("formControlName","supplierId")("placeholder","Tedarik\xe7i"),t.xp6(3),t.Q6J("ngForOf",r.supplierscards),t.xp6(5),t.Q6J("formControlName","productBarcode"),t.xp6(4),t.Q6J("formControlName","productCode"),t.xp6(4),t.Q6J("formControlName","ratio"),t.xp6(5),t.Q6J("formControlName","buyingPrice"),t.xp6(4),t.Q6J("formControlName","sellingPrice"),t.xp6(4),t.Q6J("formControlName","criticalAmount"),t.xp6(1),t.Q6J("ngIf",r.visibleProductType),t.xp6(3),t.Q6J("checked",!0)("color","primary")("formControlName","active"),t.xp6(2),t.Q6J("color","primary")("formControlName","sellingIncludeKDV"),t.xp6(2),t.Q6J("color","primary")("formControlName","buyingIncludeKDV"),t.xp6(2),t.Q6J("color","primary")("formControlName","fixPrice"),t.xp6(2),t.Q6J("color","primary")("formControlName","productBarcode"),t.xp6(5),t.Q6J("svgIcon","heroicons_solid:paper-clip"),t.xp6(2),t.Q6J("svgIcon","heroicons_solid:link"),t.xp6(2),t.Q6J("svgIcon","heroicons_solid:emoji-happy"),t.xp6(2),t.Q6J("svgIcon","heroicons_solid:photograph"),t.xp6(4),t.Q6J("color","primary")("disabled",r.buttonDisabled))},dependencies:[u.Fj,u.JJ,u.JL,E.lW,E.RK,b.KE,b.hX,z.Hw,M.Nt,u.sg,u.u,x.sg,x.O5,q.gD,w.ey,Y.oG,a.uh,a.xY]})},487:(g,m,o)=>{o.d(m,{c:()=>a});class a{constructor(l,s,p){this.title=l,this.text=s,this.icon=p}}}}]);