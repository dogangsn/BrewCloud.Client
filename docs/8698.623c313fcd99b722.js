"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[8698],{3225:(U,g,o)=>{o.d(g,{R:()=>r});var f=o(1723),n=o(4650),m=o(6717);class r{constructor(p){this._httpService=p}getSuppliersList(){return this._httpService.getRequest(f.z.suppliers.suppliersList)}createSuppliers(p){return this._httpService.post(f.z.suppliers.Createsuppliers,p)}deleteSuppliers(p){return this._httpService.post(f.z.suppliers.Deletesuppliers,p)}updateSuppliers(p){return this._httpService.post(f.z.suppliers.Updatesuppliers,p)}}r.\u0275fac=function(p){return new(p||r)(n.LFG(m.O))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})},8698:(U,g,o)=>{o.r(g),o.d(g,{SuppliersModule:()=>C});var f=o(9299),n=o(4006),m=o(4859),r=o(9549),d=o(7392),p=o(284),N=o(5804),b=o(8255),u=o(671),x=o(487),Z=o(5263),T=o(9079),v=o(5412);class Y{constructor(t,s,l,a){this.suppliername=t,this.email=s,this.phone=l,this.active=a}}class k{constructor(t,s,l,a,c){this.id=t,this.suppliername=s,this.email=l,this.phone=a,this.active=c}}var e=o(4650),y=o(3225),J=o(5707),I=o(6895),A=o(6709);function B(i,t){1&i&&(e.TgZ(0,"span"),e._uU(1,"Tedarik\xe7i Ekle"),e.qZA())}function F(i,t){1&i&&(e.TgZ(0,"span"),e._uU(1,"Tedarik\xe7i G\xfcncelle"),e.qZA())}class S{constructor(t,s,l,a,c){this._dialogRef=t,this._formBuilder=s,this._Suppliers=l,this._translocoService=a,this.data=c,this.buttonDisabled=!1,this.selectedsuppliers=c}ngOnInit(){this.suppliers=this._formBuilder.group({suppliername:["",n.kI.required],email:["",n.kI.required],phone:["",n.kI.required],active:[!0]}),this.fillFormData(this.selectedsuppliers)}fillFormData(t){null!==this.selectedsuppliers&&this.suppliers.setValue({suppliername:t.suppliername,email:t.email,phone:t.phone,active:t.active})}closeDialog(){this._dialogRef.close({status:null})}addOrUpdateStore(){this.buttonDisabled=!0,this.selectedsuppliers?this.updateSupplier():this.addsuppliers()}updateSupplier(){const t=new k(this.selectedsuppliers.id,this.getFormValueByName("suppliername"),this.getFormValueByName("email"),this.getFormValueByName("phone"),this.getFormValueByName("active"));this._Suppliers.updateSuppliers(t).subscribe(s=>{s.isSuccessful?(this.showSweetAlert("success"),this._dialogRef.close({status:!0})):this.showSweetAlert("error")},s=>{console.log(s)})}addsuppliers(){const t=new Y(this.getFormValueByName("suppliername"),this.getFormValueByName("email"),this.getFormValueByName("phone"),this.getFormValueByName("active"));this._Suppliers.createSuppliers(t).subscribe(s=>{s.isSuccessful?(this.showSweetAlert("success"),this._dialogRef.close({status:!0})):this.showSweetAlert("error")},s=>{console.log(s)})}getFormValueByName(t){return this.suppliers.get(t).value}showSweetAlert(t){if("success"===t){const s=new x.c(this.translate("sweetalert.success"),this.translate("sweetalert.transactionSuccessful"),T.p.success);Z.m.sweetAlert(s)}else{const s=new x.c(this.translate("sweetalert.error"),this.translate("sweetalert.transactionFailed"),T.p.error);Z.m.sweetAlert(s)}}translate(t){return this._translocoService.translate(t)}formatPhoneNumber(t){const s=t.replace(/\D/g,"");let l="";s.length>0&&(l+="("+s.substring(0,3)+")"),s.length>3&&(l+=" "+s.substring(3,6)),s.length>6&&(l+="-"+s.substring(6,10)),this.suppliers.get("phone").setValue(l)}}S.\u0275fac=function(t){return new(t||S)(e.Y36(v.so),e.Y36(n.qu),e.Y36(y.R),e.Y36(J.Vn),e.Y36(v.WI))},S.\u0275cmp=e.Xpm({type:S,selectors:[["app-create-edit-suppliers-dialog"]],decls:51,vars:19,consts:[["mat-dialog-title","",1,"mat-dialog-title"],[1,"dialog-close-button",3,"tabIndex","click"],[1,"material-icons"],[1,"modalForm"],[1,"modal-header"],[1,"modal-title"],[4,"ngIf"],[1,"modal-body","mbody-productcategory"],[1,"qm-pr-content"],[1,"container-fluid",3,"formGroup"],[1,"row"],[1,"col-sm-12","mt-2","common-width"],[2,"width","100%"],["matInput","",3,"formControlName"],["matSuffix","",1,"icon-size-5",3,"svgIcon"],["placeholder","(555) 555-5555","matInput","",3,"formControlName","input"],[1,"flex","flex-col","gt-sm:flex-row"],[1,"flex","flex-col"],[1,"mb-2",3,"checked","formControlName","color"],[1,"flex","flex-col","sm:flex-row","sm:items-center","justify-between","mt-4","sm:mt-6"],[1,"-ml-2"],["mat-icon-button",""],[1,"icon-size-5",3,"svgIcon"],[1,"flex","items-center","mt-4","sm:mt-0"],["mat-stroked-button","",1,"ml-auto","sm:ml-0",3,"click"],["mat-flat-button","",1,"order-first","sm:order-last",3,"color","disabled","click"]],template:function(t,s){1&t&&(e.TgZ(0,"h1",0)(1,"button",1),e.NdJ("click",function(){return s.closeDialog()}),e.TgZ(2,"span",2),e._uU(3," highlight_off "),e.qZA()()(),e.TgZ(4,"div",3)(5,"mat-dialog-content")(6,"div",4)(7,"h5",5),e.YNc(8,B,2,0,"span",6),e.YNc(9,F,2,0,"span",6),e.qZA()(),e.TgZ(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"mat-form-field",12)(16,"mat-label"),e._uU(17,"Tedarik\xe7i Ad\u0131"),e.qZA(),e._UZ(18,"input",13)(19,"mat-icon",14),e.qZA()(),e.TgZ(20,"div",11)(21,"mat-form-field",12)(22,"mat-label"),e._uU(23,"E-Mail"),e.qZA(),e._UZ(24,"input",13)(25,"mat-icon",14),e.qZA()(),e.TgZ(26,"div",11)(27,"mat-form-field",12)(28,"mat-label"),e._uU(29,"Telefon"),e.qZA(),e.TgZ(30,"input",15),e.NdJ("input",function(a){return s.formatPhoneNumber(a.target.value)}),e.qZA(),e._UZ(31,"mat-icon",14),e.qZA()(),e.TgZ(32,"div",16)(33,"div",17)(34,"mat-checkbox",18),e._uU(35," Durum "),e.qZA()()()()()(),e.TgZ(36,"div",19)(37,"div",20)(38,"button",21),e._UZ(39,"mat-icon",22),e.qZA(),e.TgZ(40,"button",21),e._UZ(41,"mat-icon",22),e.qZA(),e.TgZ(42,"button",21),e._UZ(43,"mat-icon",22),e.qZA(),e.TgZ(44,"button",21),e._UZ(45,"mat-icon",22),e.qZA()(),e.TgZ(46,"div",23)(47,"button",24),e.NdJ("click",function(){return s.closeDialog()}),e._uU(48," Vazge\xe7 "),e.qZA(),e.TgZ(49,"button",25),e.NdJ("click",function(){return s.addOrUpdateStore()}),e._uU(50," Kaydet "),e.qZA()()()()()()),2&t&&(e.xp6(1),e.Q6J("tabIndex",-1),e.xp6(7),e.Q6J("ngIf",!s.selectedsuppliers),e.xp6(1),e.Q6J("ngIf",s.selectedsuppliers),e.xp6(3),e.Q6J("formGroup",s.suppliers),e.xp6(6),e.Q6J("formControlName","suppliername"),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:user-circle"),e.xp6(5),e.Q6J("formControlName","email"),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:mail"),e.xp6(5),e.Q6J("formControlName","phone"),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:phone"),e.xp6(3),e.Q6J("checked",!1)("formControlName","active")("color","primary"),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:paper-clip"),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:link"),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:emoji-happy"),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:photograph"),e.xp6(4),e.Q6J("color","primary")("disabled",s.buttonDisabled))},dependencies:[n.Fj,n.JJ,n.JL,m.lW,m.RK,r.KE,r.hX,r.R9,d.Hw,p.Nt,n.sg,n.u,I.O5,A.oG,v.uh,v.xY]});var M=o(4902),Q=o(8739);const R=["paginator"];function O(i,t){1&i&&(e.TgZ(0,"th",27),e._uU(1," Tedarik\xe7i Ad\u0131 "),e.qZA())}function z(i,t){if(1&i&&(e.TgZ(0,"td",28),e._uU(1),e.qZA()),2&i){const s=t.$implicit;e.xp6(1),e.hij(" ",s.suppliername," ")}}function P(i,t){1&i&&(e.TgZ(0,"th",27),e._uU(1," E-Mail "),e.qZA())}function V(i,t){if(1&i&&(e.TgZ(0,"td",28),e._uU(1),e.qZA()),2&i){const s=t.$implicit;e.xp6(1),e.hij(" ",s.email," ")}}function L(i,t){1&i&&(e.TgZ(0,"th",27),e._uU(1," Telefon "),e.qZA())}function G(i,t){if(1&i&&(e.TgZ(0,"td",28),e._uU(1),e.qZA()),2&i){const s=t.$implicit;e.xp6(1),e.hij(" ",s.phone," ")}}function H(i,t){1&i&&(e.TgZ(0,"th",27),e._uU(1," Durumu "),e.qZA())}function K(i,t){if(1&i){const s=e.EpF();e.TgZ(0,"td",28)(1,"mat-checkbox",29),e.NdJ("ngModelChange",function(a){const h=e.CHM(s).$implicit;return e.KtG(h.active=a)}),e.qZA()()}if(2&i){const s=t.$implicit;e.xp6(1),e.Q6J("ngModel",s.active)("disabled",!0)}}function q(i,t){1&i&&(e.TgZ(0,"th",27),e._uU(1," \u0130\u015flemler "),e.qZA())}function j(i,t){if(1&i){const s=e.EpF();e.TgZ(0,"td",28)(1,"button",30),e.NdJ("click",function(){const c=e.CHM(s).$implicit,h=e.oxw();return e.KtG(h.redirectToUpdate(c.id))}),e.TgZ(2,"mat-icon",31),e._uU(3,"edit"),e.qZA()(),e.TgZ(4,"button",32),e.NdJ("click",function(){const c=e.CHM(s).$implicit,h=e.oxw();return e.KtG(h.redirectToDelete(c.id))}),e.TgZ(5,"mat-icon",33),e._uU(6,"delete"),e.qZA()()()}}function W(i,t){1&i&&e._UZ(0,"tr",34)}function X(i,t){1&i&&e._UZ(0,"tr",35)}const $=function(){return[5,10,20]};class _{constructor(t,s,l){this._dialog=t,this._suppliersService=s,this._translocoService=l,this.displayedColumns=["suppliername","email","phone","active","actions"],this.supplierscards=[],this.dataSource=new u.by(this.supplierscards),this.redirectToUpdate=a=>{this.isUpdateButtonActive=!0;const c=this.supplierscards.find(h=>h.id===a);c&&this._dialog.open(S,{maxWidth:"100vw !important",disableClose:!0,data:c}).afterClosed().subscribe(w=>{w.status&&this.getSuppliers()})},this.redirectToDelete=a=>{const c=new x.c(this.translate("sweetalert.areYouSure"),this.translate("sweetalert.areYouSureDelete"),T.p.warning);Z.m.sweetAlertOfQuestion(c).then(h=>{if(h.isConfirmed){const w=new M.D(a);this._suppliersService.deleteSuppliers(w).subscribe(D=>{D.isSuccessful?(this.getSuppliers(),this.showSweetAlert("success")):this.showSweetAlert("error")},D=>{console.log(D)})}})}}ngOnInit(){this.getSuppliers()}getSuppliers(){this._suppliersService.getSuppliersList().subscribe(t=>{this.supplierscards=t.data,console.log(this.supplierscards),this.dataSource=new u.by(this.supplierscards),this.dataSource.paginator=this.paginator})}addPanelOpen(){this.isUpdateButtonActive=!1,this._dialog.open(S,{maxWidth:"100vw !important",disableClose:!0,data:null}).afterClosed().subscribe(s=>{s.status&&this.getSuppliers()})}showSweetAlert(t){if("success"===t){const s=new x.c(this.translate("sweetalert.success"),this.translate("sweetalert.transactionSuccessful"),T.p.success);Z.m.sweetAlert(s)}else{const s=new x.c(this.translate("sweetalert.error"),this.translate("sweetalert.transactionFailed"),T.p.error);Z.m.sweetAlert(s)}}translate(t){return this._translocoService.translate(t)}}_.\u0275fac=function(t){return new(t||_)(e.Y36(v.uw),e.Y36(y.R),e.Y36(J.Vn))},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-suppliers"]],viewQuery:function(t,s){if(1&t&&e.Gf(R,5),2&t){let l;e.iGM(l=e.CRH())&&(s.paginator=l.first)}},decls:40,vars:9,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex","flex-col","sm:flex-row","flex-0","sm:items-center","sm:justify-between","p-6","pb-22","sm:pt-12","sm:pb-28","sm:px-10","bg-default","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1"],[1,"mt-2"],[1,"text-3xl","md:text-4xl","font-extrabold","tracking-tight","leading-7","sm:leading-10","truncate"],[1,"font-medium","tracking-tight","text-secondary"],[1,"flex","shrink-0","items-center","mt-6","sm:mt-0","sm:ml-4"],["mat-flat-button","",1,"ml-3",3,"color","click"],[1,"icon-size-5","mr-2",3,"svgIcon"],[1,"flex-auto","-mt-16","p-6","sm:p-10","rounded-t-2xl","shadow","bg-card"],[1,"mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","suppliername"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["matColumnDef","phone"],["matColumnDef","active"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["paginator",""],["mat-header-cell",""],["mat-cell",""],[3,"ngModel","disabled","ngModelChange"],["mat-icon-button","","color","accent",3,"click"],["aria-label","Edit"],["mat-icon-button","","color","warn",3,"click"],[1,"mat-18"],["mat-header-row",""],["mat-row",""]],template:function(t,s){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"a",4),e._UZ(6,"mat-icon",5),e.TgZ(7,"span",6),e._uU(8,"Back"),e.qZA()()()(),e.TgZ(9,"div",7)(10,"h2",8),e._uU(11," Tedarik\xe7iler "),e.qZA()(),e.TgZ(12,"div",9),e._uU(13,"Malzeme firma bilgileri"),e.qZA()(),e.TgZ(14,"div",10)(15,"button",11),e.NdJ("click",function(){return s.addPanelOpen()}),e._UZ(16,"mat-icon",12),e._uU(17," Yeni Kasa Ekle "),e.qZA()()(),e.TgZ(18,"div",13)(19,"div",14)(20,"table",15),e.ynx(21,16),e.YNc(22,O,2,0,"th",17),e.YNc(23,z,2,1,"td",18),e.BQk(),e.ynx(24,19),e.YNc(25,P,2,0,"th",17),e.YNc(26,V,2,1,"td",18),e.BQk(),e.ynx(27,20),e.YNc(28,L,2,0,"th",17),e.YNc(29,G,2,1,"td",18),e.BQk(),e.ynx(30,21),e.YNc(31,H,2,0,"th",17),e.YNc(32,K,2,2,"td",18),e.BQk(),e.ynx(33,22),e.YNc(34,q,2,0,"th",17),e.YNc(35,j,7,0,"td",18),e.BQk(),e.YNc(36,W,1,0,"tr",23),e.YNc(37,X,1,0,"tr",24),e.qZA(),e._UZ(38,"mat-paginator",25,26),e.qZA()()()),2&t&&(e.xp6(5),e.Q6J("routerLink","./.."),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:chevron-left"),e.xp6(9),e.Q6J("color","primary"),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:link"),e.xp6(4),e.Q6J("dataSource",s.dataSource),e.xp6(16),e.Q6J("matHeaderRowDef",s.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",s.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(8,$)))},dependencies:[n.JJ,n.On,m.lW,m.RK,d.Hw,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,A.oG,Q.NW,f.rH]});var E=o(4385),ee=o(3162),te=o(3238),se=o(6308),ie=o(455),oe=o(266),le=o(4466);const ne=[{path:"",component:_}];class C{}C.\u0275fac=function(t){return new(t||C)},C.\u0275mod=e.oAB({type:C}),C.\u0275inj=e.cJS({imports:[n.u5,m.ot,r.lN,d.Ps,p.c,n.u5,n.UX,N.J,b.Tx,n.u5,u.p0,I.ez,d.Ps,r.lN,m.ot,r.lN,d.Ps,p.c,n.u5,n.UX,N.J,b.Tx,E.LD,d.Ps,A.p9,m.ot,A.p9,r.lN,d.Ps,p.c,b.Tx,Q.TU,ee.Cv,te.si,se.JX,E.LD,ie.rP,oe.AV,le.m,v.Is,f.Bz.forChild(ne)]})},487:(U,g,o)=>{o.d(g,{c:()=>f});class f{constructor(m,r,d){this.title=m,this.text=r,this.icon=d}}}}]);