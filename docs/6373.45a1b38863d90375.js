"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[6373],{33046:(ne,E,c)=>{c.r(E),c.d(E,{AgendaModule:()=>mt});var y=c(89299),k=c(41206),M=c(47957),w=c(4859),V=c(56709),L=c(3238),Z=c(99602),$=c(44850),Y=c(59549),j=c(97392),K=c(284),e=c(94650),u=c(21837);const r=new e.OlP("MAT_LUXON_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:function g(){return{useUtc:!1,firstDayOfWeek:0}}});let _=(()=>{class a extends L._A{constructor(t,n){super(),this._useUTC=!!n?.useUtc,this._firstDayOfWeek=n?.firstDayOfWeek||0,this.setLocale(t||u.ou.local().locale)}getYear(t){return t.year}getMonth(t){return t.month-1}getDate(t){return t.day}getDayOfWeek(t){return t.weekday}getMonthNames(t){return u.kI.months(t,{locale:this.locale})}getDateNames(){const t=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return function h(a,d){const t=Array(a);for(let n=0;n<a;n++)t[n]=d(n);return t}(31,n=>t.format(u.ou.utc(2017,1,n+1).toJSDate()))}getDayOfWeekNames(t){const n=u.kI.weekdays(t,{locale:this.locale});return n.unshift(n.pop()),n}getYearName(t){return t.toFormat("yyyy")}getFirstDayOfWeek(){return this._firstDayOfWeek}getNumDaysInMonth(t){return t.daysInMonth}clone(t){return u.ou.fromObject(t.toObject())}createDate(t,n,i){if(n<0||n>11)throw Error(`Invalid month index "${n}". Month index has to be between 0 and 11.`);if(i<1)throw Error(`Invalid date "${i}". Date has to be greater than 0.`);const s=this._useUTC?u.ou.utc(t,n+1,i):u.ou.local(t,n+1,i);if(!this.isValid(s))throw Error(`Invalid date "${i}". Reason: "${s.invalidReason}".`);return s.setLocale(this.locale)}today(){return(this._useUTC?u.ou.utc():u.ou.local()).setLocale(this.locale)}parse(t,n){const i=this._getOptions();if("string"==typeof t&&t.length>0){const s=u.ou.fromISO(t,i);if(this.isValid(s))return s;const o=Array.isArray(n)?n:[n];if(!n.length)throw Error("Formats array must not be empty.");for(const l of o){const m=u.ou.fromFormat(t,l,i);if(this.isValid(m))return m}return this.invalid()}return"number"==typeof t?u.ou.fromMillis(t,i):t instanceof Date?u.ou.fromJSDate(t,i):t instanceof u.ou?u.ou.fromMillis(t.toMillis(),i):null}format(t,n){if(!this.isValid(t))throw Error("LuxonDateAdapter: Cannot format invalid date.");return t.setLocale(this.locale).setZone(this._useUTC?"utc":void 0).toFormat(n)}addCalendarYears(t,n){return t.plus({years:n}).setLocale(this.locale)}addCalendarMonths(t,n){return t.plus({months:n}).setLocale(this.locale)}addCalendarDays(t,n){return t.plus({days:n}).setLocale(this.locale)}toIso8601(t){return t.toISO()}deserialize(t){const n=this._getOptions();let i;if(t instanceof Date&&(i=u.ou.fromJSDate(t,n)),"string"==typeof t){if(!t)return null;i=u.ou.fromISO(t,n)}return i&&this.isValid(i)?i:super.deserialize(t)}isDateInstance(t){return t instanceof u.ou}isValid(t){return t.isValid}invalid(){return u.ou.invalid("Invalid Luxon DateTime object.")}_getOptions(){return{zone:this._useUTC?"utc":void 0,locale:this.locale}}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(L.Ad,8),e.LFG(r,8))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac}),a})();const p={parse:{dateInput:"D"},display:{dateInput:"D",monthYearLabel:"LLL yyyy",dateA11yLabel:"DD",monthYearA11yLabel:"LLLL yyyy"}};let A=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[{provide:L._A,useClass:_,deps:[L.Ad,r]}]}),a})(),I=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[{provide:L.sG,useValue:p}],imports:[A]}),a})();var T=c(28255),x=c(73162),C=c(71948),B=c(84385),q=c(23267),H=c(10266);let ce=(()=>{class a{static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275mod=e.oAB({type:a});static#n=this.\u0275inj=e.cJS({})}return a})();var de=c(44466);let le=(()=>{class a{canDeactivate(t,n,i,s){let o=s.root;for(;o.firstChild;)o=o.firstChild;return!(s.url.includes("/agenda")&&!o.paramMap.get("id"))||t.closeDrawer().then(()=>!0)}static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var D=c(63900),ae=c(70262),X=c(62843),ie=c(39646),P=c(61135),ge=c(69751),W=c(18505),F=c(95698),S=c(54004),z=c(39300),Q=c(51723);class ue{constructor(d,t,n,i,s,o,l,m,f){this.id=d,this.agendano=t,this.agendatype=n,this.agendatype=n,this.isactive=i,this.agendatitle=s,this.priority=o,this.notes=l,this.dueDate=m,this.agendatags=f}}var he=c(76717),pe=c(80529);let G=(()=>{class a{constructor(t,n){this._httpService=t,this._httpClient=n,this._tags=new P.X(null),this._agenda=new P.X(null),this._agendas=new P.X(null),this._agendasDto=new P.X(null),this._agendaDto=new P.X(null)}getAgendaList(){const t=this._httpService.getRequest(Q.z.agenda.agendaList);return t.subscribe(n=>{this._agendasDto.next(n.data),this.getAgenda()}),t}createAgendas(t){return this._httpService.post(Q.z.agenda.Createagenda,t)}updateAgendas(t){return this._httpService.post(Q.z.agenda.Updateagenda,t)}updateAgendasMulti(t){return this._httpService.post(Q.z.agenda.Updateagenda,t)}deleteAgendaSelected(t){return this._httpService.post(Q.z.agenda.Deleteagenda,t)}getAgendaById(t){const n=new ue(t,0,0,0,"0",0,"0","0",[]);return new ge.y(i=>{this._httpService.post(Q.z.agenda.agendaListById,n).subscribe(s=>{if(s.isSuccessful){const o=s.data;if(null!=o){const l=o.find(m=>m.id===t)||null;this._agendaDto.next(l),this._agendas.pipe().subscribe(m=>{const f=m[0];if(null!=f){const J=f;return this._agenda.next(J),i.next(l),i.complete(),J}{const J=l;return this._agenda.next(J),i.next(l),i.complete(),J}})}}else i.error("Failed to fetch agenda by ID")})})}get agendasservice$(){return this._httpService.getRequest(Q.z.agenda.agendaList)}get tags$(){return this._tags.asObservable()}get agenda$(){return this._agenda.asObservable()}get agendaDto$(){return this._agendaDto.asObservable()}get agendas$(){return this._agendas.asObservable()}get agendasDto$(){return this._agendasDto.asObservable()}getTags(){return this._httpClient.get("api/apps/tasks/tags").pipe((0,W.b)(t=>{this._tags.next(t)}))}createTag(t){return this.tags$.pipe((0,F.q)(1),(0,D.w)(n=>this._httpClient.post("api/apps/tasks/tag",{tag:t}).pipe((0,S.U)(i=>(this._tags.next([...n,i]),i)))))}updateTag(t,n){return this.tags$.pipe((0,F.q)(1),(0,D.w)(i=>this._httpClient.patch("api/apps/tasks/tag",{id:t,tag:n}).pipe((0,S.U)(s=>{const o=i.findIndex(l=>l.id===t);return i[o]=s,this._tags.next(i),s}))))}deleteTag(t){return this.tags$.pipe((0,F.q)(1),(0,D.w)(n=>this._httpClient.delete("api/apps/tasks/tag",{params:{id:t}}).pipe((0,S.U)(i=>{const s=n.findIndex(o=>o.id===t);return n.splice(s,1),this._tags.next(n),i}),(0,z.h)(i=>i),(0,D.w)(i=>this.agendas$.pipe((0,F.q)(1),(0,S.U)(s=>(s.forEach(o=>{const l=o.agendaTags.findIndex(m=>m===t);l>-1&&o.agendaTags.splice(l,1)}),i)))))))}getAgenda(){return this._httpClient.get("api/apps/tasks/all").pipe((0,W.b)(t=>{this._agendas.next(t)}))}updateAgendasOrders(t){return this._httpClient.patch("api/apps/tasks/order",{agendas:t})}searchAgendas(t){return this._httpClient.get("api/apps/tasks/search",{params:{query:t}})}getAgendaById2(t){return this._agendas.pipe((0,F.q)(1),(0,S.U)(n=>{if(null!=n){const i=n.find(s=>s.id===t)||null;return this._agenda.next(i),i}}),(0,D.w)(n=>n?(0,ie.of)(n):(0,X._)("Could not found agenda with id of "+t+"!")))}createAgenda(t,n){return this.agendas$.pipe((0,F.q)(1),(0,D.w)(i=>this._httpClient.post("api/apps/tasks/task",{type:t}).pipe((0,S.U)(s=>(this._agendas.next([s,...i]),s)))))}updateAgenda(t,n){return this.agendas$.pipe((0,F.q)(1),(0,D.w)(i=>this._httpClient.patch("api/apps/tasks/task",{id:t,agenda:n}).pipe((0,S.U)(s=>{const o=i.findIndex(l=>l.id===t);return i[o]=s,this._agendas.next(i),s}),(0,D.w)(s=>this.agenda$.pipe((0,F.q)(1),(0,z.h)(o=>o&&o.id===t),(0,W.b)(()=>(this._agenda.next(s),s)))))))}deleteAgenda(t){return this.agendas$.pipe((0,F.q)(1),(0,D.w)(n=>this._httpClient.delete("api/apps/tasks/task",{params:{id:t}}).pipe((0,S.U)(i=>{const s=n.findIndex(o=>o.id===t);return n.splice(s,1),this._agendas.next(n),i}))))}static#e=this.\u0275fac=function(n){return new(n||a)(e.LFG(he.O),e.LFG(pe.eN))};static#t=this.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})(),me=(()=>{class a{constructor(t){this._agendaService=t}resolve(t,n){return this._agendaService.getTags()}static#e=this.\u0275fac=function(n){return new(n||a)(e.LFG(G))};static#t=this.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})(),fe=(()=>{class a{constructor(t){this._agendaService=t}resolve(t,n){return this._agendaService.getAgenda()}static#e=this.\u0275fac=function(n){return new(n||a)(e.LFG(G))};static#t=this.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})(),_e=(()=>{class a{constructor(t,n){this._router=t,this._agendaService=n}resolve(t,n){const i=t.paramMap.get("id");return this._agendaService.getAgendaById(i).pipe((0,D.w)(s=>s?(0,ie.of)(s):this._agendaService.getAgendaById2(i).pipe((0,ae.K)(o=>{console.error(o);const l=n.url.split("/").slice(0,-1).join("/");return this._router.navigateByUrl(l),(0,X._)(o)}))),(0,ae.K)(s=>{console.error(s);const o=n.url.split("/").slice(0,-1).join("/");return this._router.navigateByUrl(o),(0,X._)(s)}))}static#e=this.\u0275fac=function(n){return new(n||a)(e.LFG(y.F0),e.LFG(G))};static#t=this.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})(),Ae=(()=>{class a{constructor(){}static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["agenda"]],decls:1,vars:0,template:function(n,i){1&n&&e._UZ(0,"router-outlet")},dependencies:[y.lC],encapsulation:2,changeDetection:0})}return a})();var N=c(36895),se=c(77579),b=c(82722),ve=c(54968);class ye{}class ee{constructor(d,t,n,i,s,o,l,m,f){this.id=d,this.agendaNo=t,this.agendaType=n,this.isActive=i,this.agendaTitle=s,this.priority=o,this.notes=l,this.dueDate=m,this.agendaTags=f}}var Te=c(94880),xe=c(9122);const Ce=["matDrawer"];function be(a,d){1&a&&(e.TgZ(0,"span"),e._uU(1,"All agendas completed!"),e.qZA())}function De(a,d){if(1&a&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.hij("",t.agendasCount.incomplete," kalan Ajanda")}}function ke(a,d){if(1&a){const t=e.EpF();e.TgZ(0,"button",16),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.createAgenda(1))}),e._UZ(1,"mat-icon",17),e.TgZ(2,"span",18),e._uU(3,"B\xf6l\xfcm Ekle"),e.qZA()()}2&a&&(e.Q6J("color","accent")("matTooltip","Shortcut: Ctrl + ."),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:plus"))}function we(a,d){if(1&a){const t=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.createAgenda(0))}),e._UZ(1,"mat-icon",17),e.TgZ(2,"span",18),e._uU(3,"Ajanda Ekle"),e.qZA()()}2&a&&(e.Q6J("color","primary")("matTooltip","Shortcut: Ctrl + /"),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:plus"))}function Ie(a,d){1&a&&e._UZ(0,"div",32)}function Fe(a,d){1&a&&(e.ynx(0),e._UZ(1,"div",33),e.BQk())}function Le(a,d){1&a&&(e.ynx(0),e._UZ(1,"mat-icon",35),e.BQk()),2&a&&(e.xp6(1),e.Q6J("svgIcon","heroicons_outline:check-circle"))}function Ze(a,d){1&a&&(e.ynx(0),e._UZ(1,"mat-icon",36),e.BQk()),2&a&&(e.xp6(1),e.Q6J("svgIcon","heroicons_outline:check-circle"))}function Se(a,d){if(1&a){const t=e.EpF();e.TgZ(0,"button",34),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.toggleCompleted(i))}),e.YNc(1,Le,2,1,"ng-container",10),e.YNc(2,Ze,2,1,"ng-container",10),e.qZA()}if(2&a){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.isActive),e.xp6(1),e.Q6J("ngIf",!t.isActive)}}function Ne(a,d){if(1&a&&(e.ynx(0),e.TgZ(1,"span"),e._uU(2),e.qZA(),e.BQk()),2&a){const t=e.oxw(3);e.xp6(2),e.Oqu(t.agendas.agendaTags)}}function Be(a,d){if(1&a&&(e.ynx(0,37),e.TgZ(1,"span",38),e._uU(2),e.qZA(),e.BQk()),2&a){const t=e.oxw().$implicit;e.xp6(2),e.Oqu((null==t?null:t.agendaTitle)||"Title")}}function Qe(a,d){1&a&&e._UZ(0,"mat-icon",42),2&a&&e.Q6J("svgIcon","heroicons_solid:arrow-narrow-down")("title","Low")}function Je(a,d){1&a&&e._UZ(0,"mat-icon",43),2&a&&e.Q6J("svgIcon","heroicons_solid:arrow-narrow-up")("title","High")}function Ee(a,d){if(1&a&&(e.ynx(0),e.TgZ(1,"div",39),e.YNc(2,Qe,1,2,"mat-icon",40),e.YNc(3,Je,1,2,"mat-icon",41),e.qZA(),e.BQk()),2&a){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("ngIf",0===t.priority),e.xp6(1),e.Q6J("ngIf",2===t.priority)}}function Me(a,d){if(1&a&&(e.TgZ(0,"div",44),e._uU(1),e.ALo(2,"date"),e.qZA()),2&a){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.dueDate,"LLL dd")," ")}}const Ue=function(a,d,t){return{"h-12 text-lg font-semibold bg-gray-50 dark:bg-transparent":a,"h-16":d,"text-hint":t}},Oe=function(a){return[a]};function Re(a,d){if(1&a&&(e.ynx(0),e.TgZ(1,"div",22),e.YNc(2,Ie,1,0,"div",23),e.TgZ(3,"div",24),e.YNc(4,Fe,2,0,"ng-container",10),e.TgZ(5,"div",25),e._UZ(6,"mat-icon",26),e.qZA(),e.YNc(7,Se,3,2,"button",27),e.TgZ(8,"a",28)(9,"div",29),e.YNc(10,Ne,3,1,"ng-container",10),e.YNc(11,Be,3,1,"ng-container",30),e.qZA(),e.YNc(12,Ee,4,2,"ng-container",10),e.YNc(13,Me,3,4,"div",31),e.qZA()()(),e.BQk()),2&a){const t=d.$implicit,n=d.first,i=e.oxw(2);e.xp6(1),e.ekj("border-t",n),e.Q6J("id","agendas-"+i.agendas.id)("ngClass",e.kEZ(13,Ue,1===t.agendaType,0===t.agendaType,t.isActive))("cdkDragLockAxis","y"),e.xp6(3),e.Q6J("ngIf",i.selectedAgenda&&i.selectedAgenda.id===t.id),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:menu"),e.xp6(1),e.Q6J("ngIf",0===t.agendaType),e.xp6(1),e.Q6J("routerLink",e.VKq(17,Oe,t.id)),e.xp6(2),e.Q6J("ngIf",i.agendas.agendaTags),e.xp6(1),e.Q6J("ngIf",!i.agendas.agendaTags),e.xp6(1),e.Q6J("ngIf",0===t.agendaType),e.xp6(1),e.Q6J("ngIf",0===t.agendaType)}}function Ve(a,d){if(1&a){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",20),e.NdJ("cdkDropListDropped",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.dropped(i))}),e.YNc(2,Re,14,19,"ng-container",21),e.qZA(),e.BQk()}if(2&a){const t=e.oxw();e.xp6(1),e.Q6J("cdkDropListData",t.agendas),e.xp6(1),e.Q6J("ngForOf",t.agendas)("ngForTrackBy",t.trackByFn)}}function Ye(a,d){1&a&&(e.TgZ(0,"div",45),e._UZ(1,"mat-icon",46),e.TgZ(2,"div",47),e._uU(3,"Planlamaya ba\u015flamak i\xe7in bir g\xfcndem ekleyin!"),e.qZA()()),2&a&&(e.xp6(1),e.Q6J("svgIcon","heroicons_outline:clipboard-list"))}let oe=(()=>{class a{constructor(t,n,i,s,o,l,m){this._activatedRoute=t,this._changeDetectorRef=n,this._document=i,this._router=s,this._agendaService=o,this._fuseMediaWatcherService=l,this._fuseNavigationService=m,this.agendasCount={completed:0,incomplete:0,total:0,rowNo:0},this.agendaTagsList=[],this._unsubscribeAll=new se.x,this.visible=!0,this.visible2=!0,this.agendaDtos=new ye}ngOnInit(){this.createAgendaLoading(0),this.getAgendaTags(),this.getAgendaList(),this._fuseMediaWatcherService.onMediaQueryChange$("(min-width: 1440px)").pipe((0,b.R)(this._unsubscribeAll)).subscribe(t=>{this.drawerMode=t.matches?"side":"over",this._changeDetectorRef.markForCheck()}),(0,ve.R)(this._document,"keydown").pipe((0,b.R)(this._unsubscribeAll),(0,z.h)(t=>(!0===t.ctrlKey||t.metaKey)&&("/"===t.key||"."===t.key))).subscribe(t=>{"/"===t.key&&this.createAgenda(0),"."===t.key&&this.createAgenda(1)})}createAgendaLoading(t){this._agendaService.createAgenda(t,this.agendasCount).subscribe(n=>{})}getAgendaTags(){this._agendaService.tags$.pipe((0,b.R)(this._unsubscribeAll)).subscribe(t=>{this.tags=t,this._changeDetectorRef.markForCheck()})}getAgendaList(){this._agendaService.getAgendaList().subscribe(t=>{this.agendas=t.data,this.agendasCount.rowNo=this.agendas.length,this.agendasCount.total=this.agendas.filter(n=>0===n.agendaType).length,this.agendasCount.completed=this.agendas.filter(n=>0===n.agendaType&&n.isActive).length,this.agendasCount.incomplete=this.agendasCount.total-this.agendasCount.completed,this._changeDetectorRef.markForCheck(),this.visible=!0,setTimeout(()=>{const n=this._fuseNavigationService.getComponent("mainNavigation");n&&(this._fuseNavigationService.getItem("agenda",n.navigation).subtitle=this.agendasCount.incomplete.toString()+" kalan Ajanda",n.refresh())})})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}onBackdropClicked(){this._router.navigate(["./"],{relativeTo:this._activatedRoute}),this._changeDetectorRef.markForCheck()}createAgenda(t){this._agendaService.createAgenda(t,this.agendasCount).subscribe(n=>{this._router.navigate(["./",n.id],{relativeTo:this._activatedRoute}),this._changeDetectorRef.markForCheck(),this.visible=!1})}getSelectedAgenda(t){}toggleCompleted(t){this.agendaTagsList=t.agendaTags;const n=new ee(t.id,t.agendaNo,0==t.agendaType?0:1,1===t.isActive?0:1,t.agendaTitle,t.priority,t.notes,t.dueDate,this.agendaTagsList);this._agendaService.updateAgendas(n).subscribe(i=>{i.isSuccessful&&(this.getAgendaTags(),this.getAgendaList(),this._changeDetectorRef.markForCheck())}),this._changeDetectorRef.markForCheck()}dropped(t){this._router.navigate(["../agenda/"]),(0,k.bA)(t.container.data,t.previousIndex,t.currentIndex);const n=t.container.data;this.agendas.forEach(i=>{i.agendaNo=n.findIndex(o=>o.id===i.id);const s=new ee(i.id,i.agendaNo,0==i.agendaType?0:1,i.isActive,i.agendaTitle,i.priority,i.notes,i.dueDate,this.agendaTagsList);this._agendaService.updateAgendasMulti(s).subscribe(o=>{})}),this._changeDetectorRef.markForCheck()}trackByFn(t,n){return n.id||t}static#e=this.\u0275fac=function(n){return new(n||a)(e.Y36(y.gz),e.Y36(e.sBO),e.Y36(N.K0),e.Y36(y.F0),e.Y36(G),e.Y36(Te.T),e.Y36(xe.Jf))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["agendas-list"]],viewQuery:function(n,i){if(1&n&&e.Gf(Ce,7),2&n){let s;e.iGM(s=e.CRH())&&(i.matDrawer=s.first)}},decls:22,vars:10,consts:[[1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-hidden"],[1,"flex-auto","h-full","bg-card","dark:bg-transparent",3,"backdropClick"],[1,"w-full","sm:w-128","dark:bg-gray-900",3,"mode","opened","position","disableClose"],["matDrawer",""],[1,"flex","flex-col"],[1,"flex","flex-col","flex-auto"],[1,"flex","flex-col","sm:flex-row","items-start","sm:items-center","sm:justify-between","py-8","px-6","md:px-8"],[1,"text-4xl","font-extrabold","tracking-tight","leading-none"],[1,"ml-0.5","font-medium","text-secondary"],[1,"font-medium","tracking-tight","text-secondary"],[4,"ngIf"],[1,"mt-4","sm:mt-0"],["mat-flat-button","",3,"color","matTooltip","click",4,"ngIf"],["class","ml-3","mat-flat-button","",3,"color","matTooltip","click",4,"ngIf"],[4,"ngIf","ngIfElse"],["noAgendas",""],["mat-flat-button","",3,"color","matTooltip","click"],[3,"svgIcon"],[1,"ml-2","mr-1"],["mat-flat-button","",1,"ml-3",3,"color","matTooltip","click"],["cdkDropList","",1,"divide-y",3,"cdkDropListData","cdkDropListDropped"],[4,"ngFor","ngForOf","ngForTrackBy"],["cdkDrag","",1,"group","w-full","select-none","hover:bg-gray-100","dark:hover:bg-hover",3,"id","ngClass","cdkDragLockAxis"],["class","flex flex-0 w-0 h-0",4,"cdkDragPreview"],[1,"relative","flex","items-center","h-full","pl-10"],["cdkDragHandle","",1,"md:hidden","absolute","flex","items-center","justify-center","inset-y-0","left-0","w-8","cursor-move","md:group-hover:flex"],[1,"icon-size-5","text-hint",3,"svgIcon"],["class","mr-2 -ml-2.5 leading-none","mat-icon-button","",3,"click",4,"ngIf"],[1,"flex","flex-auto","items-center","min-w-0","h-full","pr-7",3,"routerLink"],["cdkDragHandle","",1,"flex-auto","mr-2","truncate"],["asd","",4,"ngIf"],["class","text-sm whitespace-nowrap text-secondary",4,"ngIf"],[1,"flex","flex-0","w-0","h-0"],[1,"z-10","absolute","-top-px","right-0","-bottom-px","flex","flex-0","w-1","bg-primary"],["mat-icon-button","",1,"mr-2","-ml-2.5","leading-none",3,"click"],[1,"text-primary",3,"svgIcon"],[1,"text-hint",3,"svgIcon"],["asd",""],[1,"select-none","text-hint"],[1,"w-4","h-4","mr-3"],["class","icon-size-4 text-green-600 dark:text-green-400",3,"svgIcon","title",4,"ngIf"],["class","icon-size-4 text-red-600 dark:text-red-400",3,"svgIcon","title",4,"ngIf"],[1,"icon-size-4","text-green-600","dark:text-green-400",3,"svgIcon","title"],[1,"icon-size-4","text-red-600","dark:text-red-400",3,"svgIcon","title"],[1,"text-sm","whitespace-nowrap","text-secondary"],[1,"flex","flex-auto","flex-col","items-center","justify-center","bg-gray-100","dark:bg-transparent"],[1,"icon-size-24",3,"svgIcon"],[1,"mt-4","text-2xl","font-semibold","tracking-tight","text-secondary"]],template:function(n,i){if(1&n&&(e.TgZ(0,"div",0)(1,"mat-drawer-container",1),e.NdJ("backdropClick",function(){return i.onBackdropClicked()}),e.TgZ(2,"mat-drawer",2,3),e._UZ(4,"router-outlet"),e.qZA(),e.TgZ(5,"mat-drawer-content",4)(6,"div",5)(7,"div",6)(8,"div")(9,"div",7),e._uU(10,"Ajanda"),e.qZA(),e.TgZ(11,"div",8)(12,"div",9),e._uU(13,"Ki\u015fisel Hareketlerinizi, Notlar\u0131n\u0131 vb."),e.qZA(),e.YNc(14,be,2,0,"span",10),e.YNc(15,De,2,1,"span",10),e.qZA()(),e.TgZ(16,"div",11),e.YNc(17,ke,4,3,"button",12),e.YNc(18,we,4,3,"button",13),e.qZA()(),e.YNc(19,Ve,3,3,"ng-container",14),e.YNc(20,Ye,4,1,"ng-template",null,15,e.W1O),e.qZA()()()()),2&n){const s=e.MAs(21);e.xp6(2),e.Q6J("mode",i.drawerMode)("opened",!1)("position","end")("disableClose",!0),e.xp6(12),e.Q6J("ngIf",0===i.agendasCount.incomplete),e.xp6(1),e.Q6J("ngIf",0!==i.agendasCount.incomplete),e.xp6(2),e.Q6J("ngIf",i.visible),e.xp6(1),e.Q6J("ngIf",i.visible),e.xp6(1),e.Q6J("ngIf",i.agendas&&i.agendas.length>0)("ngIfElse",s)}},dependencies:[y.lC,y.rH,k.Wj,k.Zt,k.Bh,k.pV,w.lW,w.RK,j.Hw,q.jA,q.kh,q.LW,H.gM,N.mk,N.sg,N.O5,N.uU],encapsulation:2,changeDetection:0})}return a})();var v=c(24006),Pe=c(84080),re=c(78372),ze=c(49858);class Ge{}class $e{constructor(d,t,n,i,s,o,l,m){this.agendaNo=d,this.agendaType=t,this.isActive=n,this.agendaTitle=i,this.priority=s,this.notes=o,this.dueDate=l,this.agendaTags=m}}class je{constructor(d){this.id=d}}var U=c(70487),O=c(45263),R=c(69079),Ke=c(71683),qe=c(98184),We=c(30430),He=c(39349);const Xe=["tagsPanelOrigin"],et=["tagsPanel"],tt=["titleField"];function nt(a,d){1&a&&(e.ynx(0),e.TgZ(1,"div",37),e._UZ(2,"mat-icon",11),e.TgZ(3,"span",38),e._uU(4,"MARK AS COMPLETE"),e.qZA()(),e.BQk()),2&a&&(e.xp6(2),e.Q6J("svgIcon","heroicons_outline:check-circle"))}function at(a,d){1&a&&(e.ynx(0),e.TgZ(1,"div",37),e._UZ(2,"mat-icon",39),e.TgZ(3,"span",38),e._uU(4,"MARK AS INCOMPLETE"),e.qZA()(),e.BQk()),2&a&&(e.xp6(2),e.Q6J("svgIcon","heroicons_outline:check-circle"))}function it(a,d){if(1&a&&(e.TgZ(0,"button",40),e._UZ(1,"mat-icon",11),e.qZA()),2&a){e.oxw();const t=e.MAs(9);e.Q6J("matMenuTriggerFor",t),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:dots-vertical")}}function st(a,d){1&a&&(e.ynx(0),e._UZ(1,"mat-icon",27),e.TgZ(2,"span",41),e._uU(3,"Planl\u0131"),e.qZA(),e.BQk()),2&a&&(e.xp6(1),e.Q6J("svgIcon","heroicons_solid:arrow-narrow-down"))}function ot(a,d){1&a&&(e.ynx(0),e._UZ(1,"mat-icon",42),e.TgZ(2,"span",41),e._uU(3,"Normal"),e.qZA(),e.BQk()),2&a&&(e.xp6(1),e.Q6J("svgIcon","heroicons_solid:minus"))}function rt(a,d){1&a&&(e.ynx(0),e._UZ(1,"mat-icon",42),e.TgZ(2,"span",41),e._uU(3,"Acil"),e.qZA(),e.BQk()),2&a&&(e.xp6(1),e.Q6J("svgIcon","heroicons_solid:arrow-narrow-up"))}function ct(a,d){if(1&a&&(e.ynx(0),e._uU(1),e.ALo(2,"date"),e.BQk()),2&a){const t=e.oxw();e.xp6(1),e.Oqu(e.xi3(2,1,t.agenda.dueDate,"longDate"))}}function dt(a,d){1&a&&(e.ynx(0),e._uU(1,"Se\xe7im Yap\u0131lmad\u0131"),e.BQk())}function lt(a,d){if(1&a){const t=e.EpF();e.TgZ(0,"button",43),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.saveAgendadetail(i.agenda.agendaType))}),e._UZ(1,"mat-icon",11),e.TgZ(2,"span",44),e._uU(3),e.qZA()()}if(2&a){const t=e.oxw();e.Q6J("color",0===t.agenda.agendaType?"primary":"accent")("matTooltip","Shortcut: Ctrl + ."),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:check"),e.xp6(2),e.Oqu(0===t.agenda.agendaType?"Ajanday\u0131 Kaydet":"B\xf6l\xfcm\xfc Kaydet")}}function gt(a,d){if(1&a){const t=e.EpF();e.TgZ(0,"button",43),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.updateAgendadetail(i.agendaByIdList))}),e._UZ(1,"mat-icon",11),e.TgZ(2,"span",44),e._uU(3),e.qZA()()}if(2&a){const t=e.oxw();e.Q6J("color",0===t.agendaByIdList.agendaType?"primary":"accent")("matTooltip","Shortcut: Ctrl + ."),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:check"),e.xp6(2),e.Oqu(0===t.agendaByIdList.agendaType?"Ajanday\u0131 G\xfcncelle":"B\xf6l\xfcm\xfc G\xfcncelle")}}const ut=function(a,d,t){return{"text-green-800 bg-green-200 dark:text-green-100 dark:bg-green-500":a,"text-gray-800 bg-gray-200 dark:text-gray-100 dark:bg-gray-500":d,"text-red-800 bg-red-200 dark:text-red-100 dark:bg-red-500":t}},te=function(a){return{"bg-hover":a}},ht=function(a,d,t){return{"text-gray-500 bg-gray-100 dark:text-gray-300 dark:bg-gray-700":a,"text-green-800 bg-green-200 dark:text-green-100 dark:bg-green-500":d,"text-red-800 bg-red-200 dark:text-red-100 dark:bg-red-500":t}},pt=[{path:"",component:Ae,resolve:{tags:me},children:[{path:"",component:oe,resolve:{agendas:fe},children:[{path:":id",component:(()=>{class a{constructor(t,n,i,s,o,l,m,f,J,ft,_t){this._activatedRoute=t,this._changeDetectorRef=n,this._formBuilder=i,this._fuseConfirmationService=s,this._renderer2=o,this._router=l,this._AgendaListComponent=m,this._AgendaService=f,this._overlay=J,this._viewContainerRef=ft,this._translocoService=_t,this.displayedColumns=["agendaNo","agendaType","isActive","agendaTitle","priority","dueDate","notes","agendaTags"],this.tagsEditMode=!1,this.tagsLength=0,this._unsubscribeAll=new se.x,this.visibleCheck=!1,this.visible=!0}closePage(){this._router.navigate(["../agenda/"]),this._AgendaListComponent.visible=!0}ngOnInit(){if(this.visible=!0,this.AgendaForm=this._formBuilder.group({id:["",v.kI.required],agendaNo:["",v.kI.required],agendaType:[0,v.kI.required],isActive:["",v.kI.required],agendaTitle:["",v.kI.required],priority:[1,v.kI.required],dueDate:[""],notes:["",v.kI.required],agendaTags:["",v.kI.required]}),this._AgendaListComponent.matDrawer.open(),this._AgendaService.tags$.pipe((0,b.R)(this._unsubscribeAll)).subscribe(t=>{this.tags=t,this.filteredTags=t,this._changeDetectorRef.markForCheck()}),this._AgendaService.agendasDto$.pipe((0,b.R)(this._unsubscribeAll)).subscribe(t=>{this.agendasDtos=t,this._AgendaListComponent.visible=!1,this._changeDetectorRef.markForCheck()}),this._AgendaService.agendaDto$.pipe((0,b.R)(this._unsubscribeAll)).subscribe(t=>{this._AgendaListComponent.matDrawer.open(),this.agendaDto=t,this.agendaByIdList=t,this.AgendaForm.patchValue(t,{emitEvent:!1}),this._changeDetectorRef.markForCheck()}),this._AgendaService.agendas$.pipe((0,b.R)(this._unsubscribeAll)).subscribe(t=>{this.agendas=t,this._AgendaListComponent.visible=!1,this._changeDetectorRef.markForCheck()}),this._AgendaService.agenda$.pipe((0,b.R)(this._unsubscribeAll)).subscribe(t=>{this._AgendaListComponent.matDrawer.open(),this.agenda=t}),null!=this.agendaDto||null!==this.agendaDto){this.visible=!1;const t=this.agendaByIdList.agendaNo,n=this.agendaByIdList.agendaType,i=this.agendaByIdList.agendaTitle,s=this.agendaByIdList.dueDate;if(null!==this.agenda)this.agenda.dueDate=s,this.agenda.priority=this.agendaByIdList.priority,this.agenda.id=this.agendaByIdList.id,this.agenda.agendaNo=t,this.agenda.agendaType=n;else{const o=this.agendaByIdList,l=new Ge;l.agendaNo=o.agendaNo,l.id=o.id,l.agendaTags=o.agendaTags,l.agendaTitle=o.agendaTitle,l.dueDate=o.dueDate,l.isActive=o.isActive,l.priority=o.priority,l.agendaType=o.agendaType,l.notes=o.notes,this.agenda=l}0==this.agenda.agendaType&&(this.visibleCheck=!0),this.AgendaForm=this._formBuilder.group({id:[this.agendaDto.id],agendaNo:[t],agendaType:[n],isActive:[this.agendaDto.isActive],agendaTitle:[i],priority:[""===this.agendaDto.priority.toString()?1:this.agendaDto.priority],dueDate:[new Date(s)],notes:[this.agendaDto.notes],agendaTags:[this.agendaDto.agendaTags]})}else this.AgendaForm=this._formBuilder.group({id:[this.agenda.id],agendaNo:[this.agenda.agendaNo],agendaType:[this.agenda.agendaType],isActive:[this.agenda.isActive],agendaTitle:[this.agenda.agendaTitle],priority:[this.agenda.priority],dueDate:[new Date(this.agenda.dueDate)],notes:[this.agenda.notes],agendaTags:[[]]}),this.visible=!0,0==this.agenda.agendaType&&(this.visibleCheck=!0);this.AgendaForm.valueChanges.pipe((0,W.b)(t=>{this.agenda=(0,ze.Z)(this.agenda,t),this._changeDetectorRef.markForCheck()}),(0,re.b)(300),(0,b.R)(this._unsubscribeAll)).subscribe(t=>{this._changeDetectorRef.markForCheck()}),this._router.events.pipe((0,b.R)(this._unsubscribeAll),(0,z.h)(t=>t instanceof y.m2)).subscribe(t=>{this.agenda.dueDate=this.agendaByIdList.dueDate,this.agenda.priority=this.agendaByIdList.priority,0===this.agendaByIdList.agendaType?(this.visibleCheck=!0,this.agenda.agendaType=this.agendaByIdList.agendaType):(this.visibleCheck=!1,this.agenda.agendaType=this.agendaByIdList.agendaType),this._titleField.nativeElement.focus(),this._changeDetectorRef.markForCheck()})}ngAfterViewInit(){this._AgendaListComponent.matDrawer.openedChange.pipe((0,b.R)(this._unsubscribeAll),(0,z.h)(t=>t)).subscribe(()=>{this._titleField.nativeElement.focus()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete(),this._tagsPanelOverlayRef&&this._tagsPanelOverlayRef.dispose()}closeDrawer(){return this._AgendaListComponent.matDrawer.close()}toggleCompleted(){const t=this.AgendaForm.get("isActive");t.setValue(!t.value)}openTagsPanel(){this._tagsPanelOverlayRef=this._overlay.create({backdropClass:"",hasBackdrop:!0,scrollStrategy:this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().flexibleConnectedTo(this._tagsPanelOrigin.nativeElement).withFlexibleDimensions(!0).withViewportMargin(64).withLockedPosition(!0).withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"}])}),this._tagsPanelOverlayRef.attachments().subscribe(()=>{this._tagsPanelOverlayRef.overlayElement.querySelector("input").focus()});const t=new Pe.UE(this._tagsPanel,this._viewContainerRef);this._tagsPanelOverlayRef.attach(t),this._tagsPanelOverlayRef.backdropClick().subscribe(()=>{this._tagsPanelOverlayRef&&this._tagsPanelOverlayRef.hasAttached()&&(this._tagsPanelOverlayRef.detach(),this.filteredTags=this.tags,this.tagsEditMode=!1),t&&t.isAttached&&t.detach()})}toggleTagsEditMode(){this.tagsEditMode=!this.tagsEditMode}filterTags(t){const n=t.target.value.toLowerCase();this.filteredTags=this.tags.filter(i=>i.tags.toLowerCase().includes(n))}filterTagsInputKeyDown(t){if("Enter"!==t.key)return;if(0===this.filteredTags.length)return this.createTag(t.target.value),void(t.target.value="");const n=this.filteredTags[0];this.agenda.agendaTags.find(s=>s===n.id)?this.deleteTagFromAgenda(n):this.addTagToAgenda(n)}createTag(t){this._AgendaService.createTag({tags:t}).subscribe(i=>{this.addTagToAgenda(i)})}updateTagTitle(t,n){t.tags=n.target.value,this._AgendaService.updateTag(t.id,t).pipe((0,re.b)(300)).subscribe(),this._changeDetectorRef.markForCheck()}deleteTag(t){this._AgendaService.deleteTag(t.id).subscribe(),this._changeDetectorRef.markForCheck()}addTagToAgenda(t){this.agenda.agendaTags.unshift(t.id),this._changeDetectorRef.markForCheck()}deleteTagFromAgenda(t){this.agenda.agendaTags.splice(this.agenda.agendaTags.findIndex(n=>n===t.id),1),this.AgendaForm.get("tags").patchValue(this.agenda.agendaTags),this._changeDetectorRef.markForCheck()}toggleAgendaTag(t){this.agenda.agendaTags.includes(t.id)?this.deleteTagFromAgenda(t):this.addTagToAgenda(t)}shouldShowCreateTagButton(t){return!(""===t||this.tags.findIndex(n=>n.tags.toLowerCase()===t.toLowerCase())>-1)}setAgendaPriority(t){this.AgendaForm.get("priority").setValue(t)}isOverdue(){return u.ou.fromISO(this.agenda.dueDate).startOf("day")<u.ou.now().startOf("day")}deleteAgenda(){this._fuseConfirmationService.open({title:"Delete Agenda",message:"Bu G\xfcndemi silmek istedi\u011finizden emin misiniz? Bu i\u015flem geri al\u0131namaz!",actions:{confirm:{label:"Delete"}}}).afterClosed().subscribe(n=>{if("confirmed"===n){const i=this.agenda.id,s=this.agendasDtos.findIndex(f=>f.id===i),l=1===this.agendasDtos.length&&this.agenda[0].id===i?null:this.agendasDtos[s+(s===this.agendasDtos.length-1?-1:1)].id;this._AgendaService.deleteAgenda(i).subscribe(f=>{f&&this._router.navigate(l?["../",l]:["../"],{relativeTo:this._activatedRoute})});const m=new je(i);this._AgendaService.deleteAgendaSelected(m).subscribe(f=>{f&&f.isSuccessful&&(this._AgendaListComponent.getAgendaTags(),this._AgendaListComponent.getAgendaList(),this.closePage())},f=>{console.log(f)}),this._changeDetectorRef.markForCheck()}})}controlProperty(){const t=this.getFormValueByName("agendaTitle"),n=this.getFormValueByName("priority"),i=this.getFormValueByName("notes"),s=this.getFormValueByName("dueDate");if(!t||null===t){const l=new U.c(this.translate("sweetalert.error"),this.translate("Ba\u015fl\u0131k Giriniz."),R.p.warning);return O.m.sweetAlert(l),!1}if(null==n){const l=new U.c(this.translate("sweetalert.error"),this.translate("\xd6ncelik Giriniz."),R.p.warning);return O.m.sweetAlert(l),!1}if(!i||null===i){const l=new U.c(this.translate("sweetalert.error"),this.translate("Not Giriniz."),R.p.warning);return O.m.sweetAlert(l),!1}if(!s||null===s){const l=new U.c(this.translate("sweetalert.error"),this.translate("Biti\u015f tarihi Giriniz."),R.p.warning);return O.m.sweetAlert(l),!1}return!0}updateAgendadetail(t){const n=new ee(t.id,this.getFormValueByName("agendaNo"),0==this.getFormValueByName("agendaType")?0:1,0===this.getFormValueByName("isActive")?0:1,this.getFormValueByName("agendaTitle"),this.getFormValueByName("priority"),this.getFormValueByName("notes"),this.getFormValueByName("dueDate"),[]);this._AgendaService.updateAgendas(n).subscribe(s=>{s.isSuccessful&&(this._AgendaListComponent.getAgendaTags(),this._AgendaListComponent.getAgendaList(),this.closePage(),this._changeDetectorRef.markForCheck())})}saveAgendadetail(t){const n=new $e(this.getFormValueByName("agendaNo"),this.getFormValueByName("agendaType"),this.getFormValueByName("isActive"),this.getFormValueByName("agendaTitle"),this.getFormValueByName("priority"),this.getFormValueByName("notes"),this.getFormValueByName("dueDate"),this.getFormValueByName("agendaTags"));n.agendaNo=this._AgendaListComponent.agendasCount.rowNo,n.agendaTags=[],n.agendaType=t,n.isActive=1==this.agenda.isActive?1:0,this.filteredTags=this.tags.filter(i=>this.agenda.agendaTags.includes(i.id)),this.tagsLength=this.filteredTags.length;for(const i of this.filteredTags){const s={id:"00000000-0000-0000-0000-000000000000",tags:i.tags,tagsId:i.id};try{n.agendaTags.push(s)}catch(o){console.error(o)}}this.controlProperty()&&this._AgendaService.createAgendas(n).subscribe(i=>{i.isSuccessful?(this.showSweetAlert("success"),this._AgendaListComponent.getAgendaTags(),this._AgendaListComponent.getAgendaList(),this.closePage(),this._changeDetectorRef.markForCheck()):this.showSweetAlert("error")},i=>{console.log(i)})}showSweetAlert(t){if("success"===t){const n=new U.c(this.translate("sweetalert.success"),this.translate("sweetalert.transactionSuccessful"),R.p.success);O.m.sweetAlert(n)}else{const n=new U.c(this.translate("sweetalert.error"),this.translate("sweetalert.transactionFailed"),R.p.error);O.m.sweetAlert(n)}}getFormValueByName(t){return this.AgendaForm.get(t).value}trackByFn(t,n){return n.id||t}translate(t){return this._translocoService.translate(t)}static#e=this.\u0275fac=function(n){return new(n||a)(e.Y36(y.gz),e.Y36(e.sBO),e.Y36(v.QS),e.Y36(Ke.R),e.Y36(e.Qsj),e.Y36(y.F0),e.Y36(oe),e.Y36(G),e.Y36(qe.aV),e.Y36(e.s_b),e.Y36(We.Vn))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["Agenda-details"]],viewQuery:function(n,i){if(1&n&&(e.Gf(Xe,5),e.Gf(et,5),e.Gf(tt,5)),2&n){let s;e.iGM(s=e.CRH())&&(i._tagsPanelOrigin=s.first),e.iGM(s=e.CRH())&&(i._tagsPanel=s.first),e.iGM(s=e.CRH())&&(i._titleField=s.first)}},decls:73,vars:51,consts:[[1,"flex","flex-auto"],[1,"flex","flex-col","flex-auto","p-6","pt-10","sm:p-8","sm:pt-10","overflow-y-auto",3,"formGroup"],[1,"flex","items-center","justify-between","-mt-3","-ml-4"],["mat-button","",1,"pr-4","pl-3.5",3,"disabled","click"],[4,"ngIf"],[1,"flex","items-center"],["mat-icon-button","",3,"matMenuTriggerFor",4,"ngIf"],["moreMenu","matMenu"],["mat-menu-item","",3,"click"],[3,"color","svgIcon"],[1,"text-red-500"],[3,"svgIcon"],[1,"mt-6","mb-8"],[1,"w-full",3,"subscriptSizing"],["matInput","","cdkTextareaAutosize","",3,"formControlName","spellcheck"],["titleField",""],[1,"flex","flex-wrap","items-center","mt-8"],[1,"font-medium"],[1,"flex","items-center","mt-1.5","px-4","leading-9","rounded-full","cursor-pointer",3,"ngClass","matMenuTriggerFor"],["priorityMenu","matMenu"],["mat-menu-item","",3,"ngClass","click"],[1,"inline-flex","items-center","justify-between","w-full","min-w-30","leading-5"],[1,"mr-0","icon-size-4","text-green-600","dark:text-green-500",3,"svgIcon"],[1,"mr-0","icon-size-4","text-gray-600","dark:text-gray-500",3,"svgIcon"],[1,"mr-0","icon-size-4","text-red-600","dark:text-red-500",3,"svgIcon"],[1,"ml-6"],[1,"relative","flex","items-center","mt-1.5","px-4","leading-9","rounded-full","cursor-pointer",3,"ngClass","click"],[1,"icon-size-5","text-current",3,"svgIcon"],[1,"ml-2","text-md","font-medium"],[1,"fuse-mat-dense","invisible","absolute","inset-0","-mt-2.5","opacity-0","pointer-events-none",3,"subscriptSizing"],["matInput","",3,"formControlName","matDatepicker"],["dueDatePicker",""],["mat-button","","matDatepickerCancel","",3,"click"],["mat-flat-button","","matDatepickerApply","",1,"",3,"color"],[1,"mt-8"],[1,"mt-4","sm:mt-6"],["mat-flat-button","",3,"color","matTooltip","click",4,"ngIf"],[1,"flex","items-center","justify-center"],[1,"ml-2","font-semibold"],[1,"text-primary",3,"svgIcon"],["mat-icon-button","",3,"matMenuTriggerFor"],[1,"ml-2","mr-1","text-md","font-medium"],[1,"icon-size-4","text-current",3,"svgIcon"],["mat-flat-button","",3,"color","matTooltip","click"],[1,"ml-2","mr-1"]],template:function(n,i){if(1&n){const s=e.EpF();e.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"button",3),e.NdJ("click",function(){return i.toggleCompleted()}),e.YNc(4,nt,5,1,"ng-container",4),e.YNc(5,at,5,1,"ng-container",4),e.qZA(),e.TgZ(6,"div",5),e.YNc(7,it,2,2,"button",6),e.TgZ(8,"mat-menu",null,7)(10,"button",8),e.NdJ("click",function(){return i.deleteAgenda()}),e._UZ(11,"mat-icon",9),e.TgZ(12,"span",10),e._uU(13),e.qZA()()(),e.TgZ(14,"button",8),e.NdJ("click",function(){return i.closePage()}),e._UZ(15,"mat-icon",11),e.qZA()()(),e._UZ(16,"mat-divider",12),e.TgZ(17,"div")(18,"mat-form-field",13)(19,"mat-label"),e._uU(20),e.qZA(),e._UZ(21,"textarea",14,15),e.qZA()(),e.TgZ(23,"div",16)(24,"div")(25,"div",17),e._uU(26,"\xd6ncelik"),e.qZA(),e.TgZ(27,"div",18),e.YNc(28,st,4,1,"ng-container",4),e.YNc(29,ot,4,1,"ng-container",4),e.YNc(30,rt,4,1,"ng-container",4),e.qZA(),e.TgZ(31,"mat-menu",null,19)(33,"button",20),e.NdJ("click",function(){return i.setAgendaPriority(0)}),e.TgZ(34,"span",21)(35,"span",17),e._uU(36,"Planl\u0131"),e.qZA(),e._UZ(37,"mat-icon",22),e.qZA()(),e.TgZ(38,"button",20),e.NdJ("click",function(){return i.setAgendaPriority(1)}),e.TgZ(39,"span",21)(40,"span",17),e._uU(41,"Normal"),e.qZA(),e._UZ(42,"mat-icon",23),e.qZA()(),e.TgZ(43,"button",20),e.NdJ("click",function(){return i.setAgendaPriority(2)}),e.TgZ(44,"span",21)(45,"span",17),e._uU(46,"Acil"),e.qZA(),e._UZ(47,"mat-icon",24),e.qZA()()()(),e.TgZ(48,"div",25)(49,"div",17),e._uU(50,"Biti\u015f Tarihi"),e.qZA(),e.TgZ(51,"div",26),e.NdJ("click",function(){e.CHM(s);const l=e.MAs(59);return e.KtG(l.open())}),e._UZ(52,"mat-icon",27),e.TgZ(53,"span",28),e.YNc(54,ct,3,4,"ng-container",4),e.YNc(55,dt,2,0,"ng-container",4),e.qZA(),e.TgZ(56,"mat-form-field",29),e._UZ(57,"input",30),e.TgZ(58,"mat-datepicker",null,31)(60,"mat-datepicker-actions")(61,"button",32),e.NdJ("click",function(){return i.AgendaForm.get("dueDate").setValue(null)}),e._uU(62,"Clear "),e.qZA(),e.TgZ(63,"button",33),e._uU(64,"Select "),e.qZA()()()()()()(),e.TgZ(65,"div",34)(66,"mat-form-field",13)(67,"mat-label"),e._uU(68,"Not"),e.qZA(),e._UZ(69,"textarea",14),e.qZA()(),e.TgZ(70,"div",35),e.YNc(71,lt,4,4,"button",36),e.YNc(72,gt,4,4,"button",36),e.qZA()()()}if(2&n){const s=e.MAs(32),o=e.MAs(59);e.xp6(1),e.Q6J("formGroup",i.AgendaForm),e.xp6(2),e.Q6J("disabled",!i.visibleCheck),e.xp6(1),e.Q6J("ngIf",!i.AgendaForm.get("isActive").value),e.xp6(1),e.Q6J("ngIf",i.AgendaForm.get("isActive").value),e.xp6(2),e.Q6J("ngIf",!i.visible),e.xp6(4),e.Q6J("color","warn")("svgIcon","heroicons_outline:trash"),e.xp6(2),e.hij("",0===i.agenda.agendaType?"Ajanday\u0131":"B\xf6l\xfcm\xfc"," Sil"),e.xp6(2),e.Q6J("svgIcon","heroicons_outline:x"),e.xp6(3),e.Q6J("subscriptSizing","dynamic"),e.xp6(2),e.Oqu(0===i.agenda.agendaType?"Ajanda Ba\u015fl\u0131\u011f\u0131":"B\xf6l\xfcm Ba\u015fl\u0131\u011f\u0131"),e.xp6(1),e.Q6J("formControlName","agendaTitle")("spellcheck",!1),e.xp6(6),e.Q6J("ngClass",e.kEZ(37,ut,0===i.agenda.priority,1===i.agenda.priority,2===i.agenda.priority))("matMenuTriggerFor",s),e.xp6(1),e.Q6J("ngIf",0===i.agenda.priority),e.xp6(1),e.Q6J("ngIf",1===i.agenda.priority),e.xp6(1),e.Q6J("ngIf",2===i.agenda.priority),e.xp6(3),e.Q6J("ngClass",e.VKq(41,te,0===i.agenda.priority)),e.xp6(4),e.Q6J("svgIcon","heroicons_solid:arrow-narrow-down"),e.xp6(1),e.Q6J("ngClass",e.VKq(43,te,1===i.agenda.priority)),e.xp6(4),e.Q6J("svgIcon","heroicons_solid:minus"),e.xp6(1),e.Q6J("ngClass",e.VKq(45,te,2===i.agenda.priority)),e.xp6(4),e.Q6J("svgIcon","heroicons_solid:arrow-narrow-up"),e.xp6(4),e.Q6J("ngClass",e.kEZ(47,ht,!i.agenda.dueDate,i.agenda.dueDate&&!i.isOverdue(),i.agenda.dueDate&&i.isOverdue())),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:calendar"),e.xp6(2),e.Q6J("ngIf",i.agenda.dueDate),e.xp6(1),e.Q6J("ngIf",!i.agenda.dueDate),e.xp6(1),e.Q6J("subscriptSizing","dynamic"),e.xp6(1),e.Q6J("formControlName","dueDate")("matDatepicker",o),e.xp6(6),e.Q6J("color","primary"),e.xp6(3),e.Q6J("subscriptSizing","dynamic"),e.xp6(3),e.Q6J("formControlName","notes")("spellcheck",!1),e.xp6(2),e.Q6J("ngIf",i.visible),e.xp6(1),e.Q6J("ngIf",!i.visible)}},dependencies:[w.lW,w.RK,Z.Mq,Z.hl,Z.M5,Z.dp,Z.DK,$.d,Y.KE,Y.hX,j.Hw,K.Nt,He.IC,T.VK,T.OP,T.p6,H.gM,N.mk,N.O5,v._Y,v.Fj,v.JJ,v.JL,v.sg,v.u,N.uU],encapsulation:2,changeDetection:0})}return a})(),resolve:{agenda:_e},canDeactivate:[le]}]}]}];let mt=(()=>{class a{static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275mod=e.oAB({type:a});static#n=this.\u0275inj=e.cJS({providers:[{provide:L.sG,useValue:p}],imports:[y.Bz.forChild(pt),k._t,M.Bb,w.ot,V.p9,Z.FA,$.t,Y.lN,j.Ps,K.c,I,T.Tx,x.Cv,C.Fk,L.si,B.LD,q.SJ,H.AV,ce,de.m]})}return a})()},70487:(ne,E,c)=>{c.d(E,{c:()=>y});class y{constructor(M,w,V){this.title=M,this.text=w,this.icon=V}}},95017:(ne,E,c)=>{c.d(E,{A8:()=>K,Ov:()=>Y,Z9:()=>V,eX:()=>$,k:()=>e,o2:()=>w,yy:()=>Z});var y=c(94033),k=c(77579),M=c(94650);class w{}function V(u){return u&&"function"==typeof u.connect&&!(u instanceof y.c)}class Z{applyChanges(r,g,h,_,p){r.forEachOperation((A,I,T)=>{let x,C;if(null==A.previousIndex){const B=h(A,I,T);x=g.createEmbeddedView(B.templateRef,B.context,B.index),C=1}else null==T?(g.remove(I),C=3):(x=g.get(I),g.move(x,T),C=2);p&&p({context:x?.context,operation:C,record:A})})}detach(){}}class ${constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(r,g,h,_,p){r.forEachOperation((A,I,T)=>{let x,C;null==A.previousIndex?(x=this._insertView(()=>h(A,I,T),T,g,_(A)),C=x?1:0):null==T?(this._detachAndCacheView(I,g),C=3):(x=this._moveView(I,T,g,_(A)),C=2),p&&p({context:x?.context,operation:C,record:A})})}detach(){for(const r of this._viewCache)r.destroy();this._viewCache=[]}_insertView(r,g,h,_){const p=this._insertViewFromCache(g,h);if(p)return void(p.context.$implicit=_);const A=r();return h.createEmbeddedView(A.templateRef,A.context,A.index)}_detachAndCacheView(r,g){const h=g.detach(r);this._maybeCacheView(h,g)}_moveView(r,g,h,_){const p=h.get(r);return h.move(p,g),p.context.$implicit=_,p}_maybeCacheView(r,g){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(r);else{const h=g.indexOf(r);-1===h?r.destroy():g.remove(h)}}_insertViewFromCache(r,g){const h=this._viewCache.pop();return h&&g.insert(h,r),h||null}}class Y{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(r=!1,g,h=!0,_){this._multiple=r,this._emitChanges=h,this.compareWith=_,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new k.x,g&&g.length&&(r?g.forEach(p=>this._markSelected(p)):this._markSelected(g[0]),this._selectedToEmit.length=0)}select(...r){this._verifyValueAssignment(r),r.forEach(h=>this._markSelected(h));const g=this._hasQueuedChanges();return this._emitChangeEvent(),g}deselect(...r){this._verifyValueAssignment(r),r.forEach(h=>this._unmarkSelected(h));const g=this._hasQueuedChanges();return this._emitChangeEvent(),g}setSelection(...r){this._verifyValueAssignment(r);const g=this.selected,h=new Set(r);r.forEach(p=>this._markSelected(p)),g.filter(p=>!h.has(p)).forEach(p=>this._unmarkSelected(p));const _=this._hasQueuedChanges();return this._emitChangeEvent(),_}toggle(r){return this.isSelected(r)?this.deselect(r):this.select(r)}clear(r=!0){this._unmarkAll();const g=this._hasQueuedChanges();return r&&this._emitChangeEvent(),g}isSelected(r){if(this.compareWith){for(const g of this._selection)if(this.compareWith(g,r))return!0;return!1}return this._selection.has(r)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(r){this._multiple&&this.selected&&this._selected.sort(r)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(r){this.isSelected(r)||(this._multiple||this._unmarkAll(),this.isSelected(r)||this._selection.add(r),this._emitChanges&&this._selectedToEmit.push(r))}_unmarkSelected(r){this.isSelected(r)&&(this._selection.delete(r),this._emitChanges&&this._deselectedToEmit.push(r))}_unmarkAll(){this.isEmpty()||this._selection.forEach(r=>this._unmarkSelected(r))}_verifyValueAssignment(r){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}}let K=(()=>{class u{constructor(){this._listeners=[]}notify(g,h){for(let _ of this._listeners)_(g,h)}listen(g){return this._listeners.push(g),()=>{this._listeners=this._listeners.filter(h=>g!==h)}}ngOnDestroy(){this._listeners=[]}}return u.\u0275fac=function(g){return new(g||u)},u.\u0275prov=M.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();const e=new M.OlP("_ViewRepeater")}}]);