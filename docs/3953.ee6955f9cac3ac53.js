"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[3953],{83953:(ft,S,i)=>{i.r(S),i.d(S,{VaccinelistModule:()=>ut});var V=i(89299),m=i(24006),u=i(4859),p=i(59549),d=i(97392),x=i(284),w=i(85804),y=i(28255),o=i(30671),N=i(36895),U=i(84385),D=i(56709),Y=i(98739),J=i(73162),F=i(3238),O=i(96308),B=i(90455),b=i(10266),H=i(44466),L=i(65412),Q=i(35861),z=i(77579),R=i(37188),$=i(82722),f=i(69079),h=i(45263),g=i(70487),t=i(94650),j=i(50138),G=i(49345),I=i(30430),C=i(77331);const P=["paginator"];function M(n,c){if(1&n&&(t.TgZ(0,"mat-chip-option",29),t._uU(1),t.qZA()),2&n){const e=c.$implicit;t.Q6J("value",e.type)("selected",e.selected),t.xp6(1),t.Oqu(e.name)}}function K(n,c){1&n&&(t.TgZ(0,"th",30),t._uU(1," Hasta T\xfcr\xfc "),t.qZA())}function X(n,c){if(1&n&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&n){const e=c.$implicit,a=t.oxw();t.xp6(1),t.hij(" ",a.getAnimalTypeText(e.animalType)," ")}}function W(n,c){1&n&&(t.TgZ(0,"th",30),t._uU(1," A\u015f\u0131 Ad\u0131 "),t.qZA())}function E(n,c){if(1&n&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&n){const e=c.$implicit;t.xp6(1),t.hij(" ",e.vaccineName," ")}}function k(n,c){1&n&&(t.TgZ(0,"th",30),t._uU(1," G\xfcn "),t.qZA())}function q(n,c){if(1&n&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&n){const e=c.$implicit;t.xp6(1),t.hij(" ",e.timeDone," ")}}function _(n,c){1&n&&(t.TgZ(0,"th",30),t._uU(1," Yenileme "),t.qZA())}function tt(n,c){if(1&n&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&n){const e=c.$implicit,a=t.oxw();t.xp6(1),t.hij(" ",a.getRenewalOptionText(e.renewalOption)," ")}}function et(n,c){1&n&&(t.TgZ(0,"th",30),t._uU(1," A\u015f\u0131 Bilgileri "),t.qZA())}function nt(n,c){if(1&n&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&n){const e=c.$implicit,a=t.oxw();t.xp6(1),t.hij(" ",a.getTotalSaleAmountText(e.totalSaleAmount)," ")}}function it(n,c){1&n&&t._UZ(0,"tr",32)}function at(n,c){1&n&&t._UZ(0,"tr",33)}function st(n,c){1&n&&(t.TgZ(0,"th",30),t._uU(1," \u0130\u015flemler "),t.qZA())}function ct(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"td",31)(1,"button",34),t.NdJ("click",function(){const l=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.redirectToUpdate(l.id))}),t.TgZ(2,"mat-icon",35),t._uU(3,"edit"),t.qZA()(),t.TgZ(4,"button",36),t.NdJ("click",function(){const l=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.redirectToDelete(l.id))}),t.TgZ(5,"mat-icon",37),t._uU(6,"delete"),t.qZA()()()}}const ot=function(){return[5,10,20]};let lt=(()=>{class n{constructor(e,a,s,l){this._dialog=e,this._vaccineService=a,this._customerService=s,this._translocoService=l,this.displayedColumns=["animalType","vaccineName","timeDone","renewalOption","totalSaleAmount","actions"],this.vaccine=[],this.dataSource=new o.by(this.vaccine),this.animalTypesList=[],this.options=[{name:"K\xf6pek",selected:!1,type:1},{name:"Kedi",selected:!1,type:2},{name:"T\xfcm\xfc",selected:!0,type:0}],this.destroy$=new z.x,this.redirectToDelete=r=>{const v=new g.c(this.translate("sweetalert.areYouSure"),this.translate("sweetalert.areYouSureDelete"),f.p.warning);h.m.sweetAlertOfQuestion(v).then(T=>{T.isConfirmed&&this._vaccineService.deleteVaccine({id:r}).subscribe(Z=>{if(Z.isSuccessful){this.getVaccineList();const pt=new g.c(this.translate("sweetalert.success"),this.translate("sweetalert.transactionSuccessful"),f.p.success);h.m.sweetAlert(pt)}else this.showSweetAlert("error",Z.errors[0]),console.log(Z.errors[0])})})},this.redirectToUpdate=r=>{this.isUpdateButtonActive=!0;const v=this.vaccine.find(T=>T.id===r);v&&this._dialog.open(Q.G,{maxWidth:"100vw !important",disableClose:!0,data:v}).afterClosed().subscribe(A=>{A.status&&this.getVaccineList()})}}ngOnInit(){(0,R.$)(this.getAnimalTypesList()).pipe((0,$.R)(this.destroy$)).subscribe({next:e=>{this.setAnimalType(e[0])},error:e=>{console.log(e)},complete:()=>{this.getVaccineList()}})}getVaccineList(){this._vaccineService.getVaccineList({AnimalType:0}).subscribe(a=>{this.vaccine=a.data,console.log(this.vaccine),this.dataSource=new o.by(this.vaccine),this.dataSource.paginator=this.paginator})}getAnimalTypesList(){return this._customerService.getVetVetAnimalsType()}setAnimalType(e){e.data&&(this.animalTypesList=e.data)}addPanelOpen(){this.isUpdateButtonActive=!1,this._dialog.open(Q.G,{maxWidth:"100vw !important",disableClose:!0,data:null}).afterClosed().subscribe(a=>{a.status&&this.getVaccineList()})}getRenewalOptionText(e){switch(e){case 1:return"Yenilenmesin";case 2:return"Her hafta";case 3:return"Her ay";case 4:return"Her y\u0131l";case 5:return"2 haftada 1";case 6:return"3 haftada 1";case 7:return"10 haftada 1";case 8:return"2 ayda 1";case 9:return"3 ayda 1";case 10:return"4 ayda 1";case 11:return"6 ayda 1";case 12:return"8 ayda 1";case 13:return"2 y\u0131lda 1";case 14:return"3 y\u0131lda 1";case 15:return"4 y\u0131lda 1";case 16:return"45 g\xfcnde 1";default:return""}}getAnimalTypeText(e){const a=parseInt(e,10);if(!isNaN(a)){const s=this.animalTypesList.find(l=>l.type===a);if(s)return s.name}return""}getTotalSaleAmountText(e){return 0===e?"-":e.toFixed(2)}translate(e){return this._translocoService.translate(e)}showSweetAlert(e,a){if("success"===e){const s=new g.c(this.translate("sweetalert.success"),this.translate("sweetalert.transactionSuccessful"),f.p.success);h.m.sweetAlert(s)}else{const s=new g.c(this.translate("sweetalert.error"),this.translate(a),f.p.error);h.m.sweetAlert(s)}}onChipsSelectionChange(e){const a=e.value;console.log("Selected value:",a),this.filterVaccineList(a)}filterVaccineList(e){if(0===e)this.dataSource.data=this.vaccine;else{const a=this.animalTypesList.find(s=>s.type===e)?.type;this.dataSource.data=this.vaccine.filter(s=>s.animalType.toString()===a.toString())}this.dataSource.paginator=this.paginator}static#t=this.\u0275fac=function(a){return new(a||n)(t.Y36(L.uw),t.Y36(j.s),t.Y36(G.v),t.Y36(I.Vn))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-vaccinelist"]],viewQuery:function(a,s){if(1&a&&t.Gf(P,5),2&a){let l;t.iGM(l=t.CRH())&&(s.paginator=l.first)}},decls:43,vars:11,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex","flex-col","sm:flex-row","flex-0","sm:items-center","sm:justify-between","p-6","pb-22","sm:pt-12","sm:pb-28","sm:px-10","bg-default","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1"],[1,"mt-2"],[1,"text-3xl","md:text-4xl","font-extrabold","tracking-tight","leading-7","sm:leading-10","truncate"],[1,"flex","shrink-0","items-center","mt-6","sm:mt-0","sm:ml-4"],["mat-flat-button","",1,"ml-3",3,"color","click"],[1,"icon-size-5","mr-2",3,"svgIcon"],[1,"flex-auto","-mt-16","p-6","sm:p-10","rounded-t-2xl","shadow","bg-card"],["aria-label","Fish selection",1,"mb-2",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],[1,"mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","animalType"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","vaccineName"],["matColumnDef","timeDone"],["matColumnDef","renewalOption"],["matColumnDef","totalSaleAmount"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["matColumnDef","actions"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions","pageSize"],["paginator",""],[3,"value","selected"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],["mat-icon-button","","color","accent",3,"click"],["aria-label","Edit"],["mat-icon-button","","color","warn",3,"click"],[1,"mat-18"]],template:function(a,s){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"a",4),t._UZ(6,"mat-icon",5),t.TgZ(7,"span",6),t._uU(8,"Back"),t.qZA()()()(),t.TgZ(9,"div",7)(10,"h2",8),t._uU(11," A\u015f\u0131 Listesi "),t.qZA()()(),t.TgZ(12,"div",9)(13,"button",10),t.NdJ("click",function(){return s.addPanelOpen()}),t._UZ(14,"mat-icon",11),t._uU(15," Yeni A\u015f\u0131 Ekle "),t.qZA()()(),t.TgZ(16,"div",12)(17,"mat-chip-listbox",13),t.NdJ("change",function(r){return s.onChipsSelectionChange(r)}),t.YNc(18,M,2,3,"mat-chip-option",14),t.qZA(),t.TgZ(19,"div",15)(20,"table",16),t.ynx(21,17),t.YNc(22,K,2,0,"th",18),t.YNc(23,X,2,1,"td",19),t.BQk(),t.ynx(24,20),t.YNc(25,W,2,0,"th",18),t.YNc(26,E,2,1,"td",19),t.BQk(),t.ynx(27,21),t.YNc(28,k,2,0,"th",18),t.YNc(29,q,2,1,"td",19),t.BQk(),t.ynx(30,22),t.YNc(31,_,2,0,"th",18),t.YNc(32,tt,2,1,"td",19),t.BQk(),t.ynx(33,23),t.YNc(34,et,2,0,"th",18),t.YNc(35,nt,2,1,"td",19),t.BQk(),t.YNc(36,it,1,0,"tr",24),t.YNc(37,at,1,0,"tr",25),t.ynx(38,26),t.YNc(39,st,2,0,"th",18),t.YNc(40,ct,7,0,"td",19),t.BQk(),t.qZA(),t._UZ(41,"mat-paginator",27,28),t.qZA()()()),2&a&&(t.xp6(5),t.Q6J("routerLink","./.."),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:chevron-left"),t.xp6(7),t.Q6J("color","primary"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:link"),t.xp6(4),t.Q6J("ngForOf",s.options),t.xp6(2),t.Q6J("dataSource",s.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",s.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",s.displayedColumns),t.xp6(4),t.Q6J("pageSizeOptions",t.DdM(10,ot))("pageSize",10))},dependencies:[u.lW,u.RK,d.Hw,o.BZ,o.fO,o.as,o.w1,o.Dz,o.nj,o.ge,o.ev,o.XQ,o.Gk,N.sg,Y.NW,C.z2,C.iO,V.rH]})}return n})();var rt=i(47957),mt=i(37084);const dt=[{path:"",component:lt}];let ut=(()=>{class n{static#t=this.\u0275fac=function(a){return new(a||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[m.u5,u.ot,p.lN,d.Ps,x.c,m.u5,m.UX,w.J,y.Tx,m.u5,o.p0,N.ez,d.Ps,p.lN,u.ot,p.lN,d.Ps,x.c,m.u5,m.UX,w.J,y.Tx,U.LD,d.Ps,D.p9,u.ot,D.p9,p.lN,d.Ps,x.c,y.Tx,Y.TU,J.Cv,F.si,O.JX,U.LD,B.rP,b.AV,H.m,L.Is,C.Hi,rt.Bb,mt.To,V.Bz.forChild(dt)]})}return n})()}}]);