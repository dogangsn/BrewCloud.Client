"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[8592],{6640:(E,c,o)=>{o.d(c,{J:()=>r});var n=o(1723),u=o(4650),m=o(6717);class r{constructor(l){this._httpService=l}getCasingDefinitionList(){return this._httpService.getRequest(n.z.casedefinition.casedefinitionList)}createCasingDefinition(l){return this._httpService.post(n.z.casedefinition.Createcasedefinition,l)}deleteCasingDefinition(l){return this._httpService.post(n.z.casedefinition.Deletecasedefinition,l)}updateCasingDefinition(l){return this._httpService.post(n.z.casedefinition.Updatecasedefinition,l)}}r.\u0275fac=function(l){return new(l||r)(u.LFG(m.O))},r.\u0275prov=u.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})},4902:(E,c,o)=>{o.d(c,{D:()=>n});class n{constructor(m){this.id=m}}},8247:(E,c,o)=>{o.d(c,{A:()=>d});var n=o(4006),u=o(5412),m=o(487),r=o(9079),g=o(5263),l=o(5515),e=o(4650),T=o(5707),M=o(182),I=o(9345),A=o(6056),Z=o(3225),O=o(9918),y=o(4859),h=o(9549),B=o(7392),S=o(284),D=o(6895),P=o(4385),U=o(3238),C=o(148),b=o(6838);function x(s,i){1&s&&(e.TgZ(0,"span"),e._uU(1,"Sat\u0131\u015f G\xfcncelle"),e.qZA())}function N(s,i){1&s&&(e.TgZ(0,"span"),e._uU(1,"Sat\u0131\u015f Ekle"),e.qZA())}function J(s,i){if(1&s&&(e.TgZ(0,"mat-option",31),e._uU(1),e.qZA()),2&s){const t=i.$implicit;e.Q6J("value",t.id),e.xp6(1),e.AsE("",t.firstName," ",t.lastName,"")}}const v=function(){return{standalone:!0}};function L(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"div",12)(1,"mat-form-field",13)(2,"mat-label"),e._uU(3,"M\xfc\u015fteri"),e.qZA(),e.TgZ(4,"mat-select",30)(5,"mat-select-filter",18),e.NdJ("ngModelChange",function(_){e.CHM(t);const p=e.oxw();return e.KtG(p.filterCustomerId(_))}),e.qZA(),e.YNc(6,J,2,3,"mat-option",19),e.qZA()()()}if(2&s){const t=e.oxw();e.xp6(4),e.Q6J("formControlName","customerId")("placeholder","M\xfc\u015fteri"),e.xp6(1),e.Q6J("ngModelOptions",e.DdM(5,v))("ngModel",t.selectedCustomerId),e.xp6(1),e.Q6J("ngForOf",t.customerlist)}}function F(s,i){if(1&s&&(e.TgZ(0,"mat-option",31),e._uU(1),e.qZA()),2&s){const t=i.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.suppliername)}}function Q(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"div",12)(1,"mat-form-field",13)(2,"mat-label"),e._uU(3,"Tedarik\xe7i"),e.qZA(),e.TgZ(4,"mat-select",30)(5,"mat-select-filter",18),e.NdJ("ngModelChange",function(_){e.CHM(t);const p=e.oxw();return e.KtG(p.filterCustomerId(_))}),e.qZA(),e.YNc(6,F,2,2,"mat-option",19),e.qZA()()()}if(2&s){const t=e.oxw();e.xp6(4),e.Q6J("formControlName","supplierId")("placeholder","Tedarik\xe7i"),e.xp6(1),e.Q6J("ngModelOptions",e.DdM(5,v))("ngModel",t.selectedCustomerId),e.xp6(1),e.Q6J("ngForOf",t.supplierscards)}}function R(s,i){1&s&&(e.TgZ(0,"div",12)(1,"mat-form-field",13)(2,"mat-label"),e._uU(3,"Fatura No"),e.qZA(),e._UZ(4,"input",32),e.qZA()()),2&s&&(e.xp6(4),e.Q6J("formControlName","invoiceNo"))}function K(s,i){if(1&s&&(e.TgZ(0,"mat-option",31),e._uU(1),e.qZA()),2&s){const t=i.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function W(s,i){if(1&s&&(e.TgZ(0,"mat-option",31),e._uU(1),e.qZA()),2&s){const t=i.$implicit;e.Q6J("value",t.recId),e.xp6(1),e.Oqu(t.name)}}class d{constructor(i,t,a,_,p,Y,w,q,f){this._dialogRef=i,this._formBuilder=t,this._translocoService=a,this._salebuyservice=_,this._customerListService=p,this._productdescriptionService=Y,this._suppliersService=w,this._paymentmethodsService=q,this.data=f,this.customerlist=[],this.selectedCustomerId="",this.selectedProductId="",this.productdescription=[],this.supplierscards=[],this.payments=[],this.buttonDisabled=!1,this.visibleCustomer=f.visibleCustomer,this.salebuyType=f.salebuyType,this.selectedsalebuy=f.selectedsalebuy,this.isSupplier=f.isSupplier}ngOnInit(){this.getCustomerList(),this.getProductList(),this.paymentsList(),this.isSupplier&&this.getSuppliers(),this.salebuy=this._formBuilder.group({customerId:["00000000-0000-0000-0000-000000000000"],date:[new Date],productId:["00000000-0000-0000-0000-000000000000",n.kI.required],remark:[""],supplierId:["00000000-0000-0000-0000-000000000000"],invoiceNo:[""],paymentType:[1],amount:[1]})}getCustomerList(){this._customerListService.getcustomerlist().subscribe(i=>{this.customerlist=i.data,console.log(this.customerlist)})}getProductList(){this._productdescriptionService.GetProductDescriptionList().subscribe(i=>{this.productdescription=i.data})}getSuppliers(){this._suppliersService.getSuppliersList().subscribe(i=>{this.supplierscards=i.data,console.log(this.supplierscards)})}paymentsList(){this._paymentmethodsService.getPaymentMethodsList().subscribe(i=>{this.payments=i.data,console.log(this.payments)})}closeDialog(){this._dialogRef.close({status:null})}filterCustomerId(i){this.selectedCustomerId=i}filterProductId(i){this.selectedProductId=i}getFormValueByName(i){return this.salebuy.get(i).value}addOrUpdateSaleBuy(){this.buttonDisabled=!0,this.selectedsalebuy?this.updateBuySale():this.addBuySale()}addBuySale(){if(this.salebuy.valid){0==this.getFormValueByName("amount")&&this.showSweetAlert("error","Miktar Bilgisi 0(s\u0131f\u0131r) b\xfcy\xfck olmal\u0131d\u0131r.");const t=new l.w(this.getFormValueByName("customerId"),this.getFormValueByName("date"),this.getFormValueByName("productId"),this.getFormValueByName("remark"),this.salebuyType,this.getFormValueByName("supplierId"),this.getFormValueByName("invoiceNo"),this.getFormValueByName("paymentType"),this.getFormValueByName("amount"));this._salebuyservice.createSaleBuy(t).subscribe(a=>{a.isSuccessful?(this.showSweetAlert("success","sweetalert.success"),this._dialogRef.close({status:!0})):this.showSweetAlert("error","sweetalert.error")},a=>{console.log(a)})}else this.salebuy.get("productId").value||this.showSweetAlert("error","\xdcr\xfcn Se\xe7imi Yap\u0131n\u0131z.")}updateBuySale(){}showSweetAlert(i,t){if("success"===i){const a=new m.c(this.translate(t),this.translate("sweetalert.transactionSuccessful"),r.p.success);g.m.sweetAlert(a)}else{const a=new m.c(this.translate(t),this.translate("sweetalert.transactionFailed"),r.p.error);g.m.sweetAlert(a)}}translate(i){return this._translocoService.translate(i)}}d.\u0275fac=function(i){return new(i||d)(e.Y36(u.so),e.Y36(n.qu),e.Y36(T.Vn),e.Y36(M.I),e.Y36(I.v),e.Y36(A.d),e.Y36(Z.R),e.Y36(O.b),e.Y36(u.WI))},d.\u0275cmp=e.Xpm({type:d,selectors:[["app-create-edit-salesbuy"]],decls:63,vars:27,consts:[["mat-dialog-title","",1,"mat-dialog-title"],[1,"dialog-close-button",3,"tabIndex","click"],[1,"material-icons"],[1,"modalForm"],[1,"modal-header"],[1,"modal-title"],[4,"ngIf"],[1,"modal-body","mbody-store"],[1,"qm-pr-content"],[1,"container-fluid",3,"formGroup"],[1,"row"],["class","float : left flex  gt-xs:flex-row",4,"ngIf"],[1,"float",":","left","flex","gt-xs:flex-row"],[1,"ml-5","flex-auto","gt-xs:pl-3"],["matInput","",3,"matDatepicker","formControlName"],["matIconSuffix","",3,"for"],["picker",""],["name","productId",3,"formControlName","placeholder"],[3,"ngModelOptions","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["name","paymentType",3,"formControlName","placeholder"],["type","number","matInput","",3,"formControlName"],["matInput","","placeholder","L\xfctfen Notunuzu Yaz\u0131n\u0131z...",3,"formControlName"],[1,"flex","flex-col","sm:flex-row","sm:items-center","justify-between","mt-4","sm:mt-6"],[1,"-ml-2"],["mat-icon-button",""],[1,"icon-size-5",3,"svgIcon"],[1,"flex","items-center","mt-4","sm:mt-0"],["mat-stroked-button","",1,"ml-auto","sm:ml-0",3,"click"],["mat-flat-button","",1,"order-first","sm:order-last",3,"color","disabled","click"],["name","customerId",3,"formControlName","placeholder"],[3,"value"],["matInput","",3,"formControlName"]],template:function(i,t){if(1&i&&(e.TgZ(0,"h1",0)(1,"button",1),e.NdJ("click",function(){return t.closeDialog()}),e.TgZ(2,"span",2),e._uU(3," highlight_off "),e.qZA()()(),e.TgZ(4,"div",3)(5,"mat-dialog-content")(6,"div",4)(7,"h5",5),e.YNc(8,x,2,0,"span",6),e.YNc(9,N,2,0,"span",6),e.qZA()(),e.TgZ(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10),e.YNc(14,L,7,6,"div",11),e.YNc(15,Q,7,6,"div",11),e.TgZ(16,"div",12)(17,"mat-form-field",13)(18,"mat-label"),e._uU(19,"Tarihi"),e.qZA(),e._UZ(20,"input",14)(21,"mat-datepicker-toggle",15)(22,"mat-datepicker",null,16),e.qZA()(),e.YNc(24,R,5,1,"div",11),e.TgZ(25,"div",12)(26,"mat-form-field",13)(27,"mat-label"),e._uU(28,"\xdcr\xfcnler"),e.qZA(),e.TgZ(29,"mat-select",17)(30,"mat-select-filter",18),e.NdJ("ngModelChange",function(_){return t.filterProductId(_)}),e.qZA(),e.YNc(31,K,2,2,"mat-option",19),e.qZA()()(),e.TgZ(32,"div",12)(33,"mat-form-field",13)(34,"mat-label"),e._uU(35,"\xd6deme \u0130\u015flemi"),e.qZA(),e.TgZ(36,"mat-select",20),e.YNc(37,W,2,2,"mat-option",19),e.qZA()()(),e.TgZ(38,"div",12)(39,"mat-form-field",13)(40,"mat-label"),e._uU(41,"Miktar"),e.qZA(),e._UZ(42,"input",21),e.qZA()(),e.TgZ(43,"div",12)(44,"mat-form-field",13)(45,"mat-label"),e._uU(46,"A\xe7\u0131klama"),e.qZA(),e._UZ(47,"textarea",22),e.qZA()()()()(),e.TgZ(48,"div",23)(49,"div",24)(50,"button",25),e._UZ(51,"mat-icon",26),e.qZA(),e.TgZ(52,"button",25),e._UZ(53,"mat-icon",26),e.qZA(),e.TgZ(54,"button",25),e._UZ(55,"mat-icon",26),e.qZA(),e.TgZ(56,"button",25),e._UZ(57,"mat-icon",26),e.qZA()(),e.TgZ(58,"div",27)(59,"button",28),e.NdJ("click",function(){return t.closeDialog()}),e._uU(60," Vazge\xe7 "),e.qZA(),e.TgZ(61,"button",29),e.NdJ("click",function(){return t.addOrUpdateSaleBuy()}),e._uU(62," Kaydet "),e.qZA()()()()()()),2&i){const a=e.MAs(23);e.xp6(1),e.Q6J("tabIndex",-1),e.xp6(7),e.Q6J("ngIf",t.selectedsalebuy),e.xp6(1),e.Q6J("ngIf",!t.selectedsalebuy),e.xp6(3),e.Q6J("formGroup",t.salebuy),e.xp6(2),e.Q6J("ngIf",t.visibleCustomer),e.xp6(1),e.Q6J("ngIf",t.isSupplier),e.xp6(5),e.Q6J("matDatepicker",a)("formControlName","date"),e.xp6(1),e.Q6J("for",a),e.xp6(3),e.Q6J("ngIf",t.isSupplier),e.xp6(5),e.Q6J("formControlName","productId")("placeholder","\xdcr\xfcnler"),e.xp6(1),e.Q6J("ngModelOptions",e.DdM(26,v))("ngModel",t.selectedProductId),e.xp6(1),e.Q6J("ngForOf",t.productdescription),e.xp6(5),e.Q6J("formControlName","paymentType")("placeholder","\xd6deme Tipi"),e.xp6(1),e.Q6J("ngForOf",t.payments),e.xp6(5),e.Q6J("formControlName","amount"),e.xp6(5),e.Q6J("formControlName","remark"),e.xp6(4),e.Q6J("svgIcon","heroicons_solid:paper-clip"),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:link"),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:emoji-happy"),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:photograph"),e.xp6(4),e.Q6J("color","primary")("disabled",t.buttonDisabled)}},dependencies:[n.Fj,n.wV,n.JJ,n.JL,n.On,y.lW,y.RK,h.KE,h.hX,h.R9,B.Hw,S.Nt,n.sg,n.u,D.sg,D.O5,P.gD,U.ey,u.uh,u.xY,C.Mq,C.hl,C.nW,b.Fq],encapsulation:2})}}]);