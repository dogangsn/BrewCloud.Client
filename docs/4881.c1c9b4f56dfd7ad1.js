"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[4881],{17290:(D,v,o)=>{o.d(v,{Z:()=>_});const _=o(14422).o},44507:(D,v,o)=>{o.d(v,{u:()=>h});var g=o(24705),_=o(43615),b=o(68082),r=o(24245),I=o(3053),O=o(1037),C=o(16129),h="dxdblclick",E=(0,C.V4)(O.u,"dxDblClick"),M=r.Z.inherit({ctor:function(){this._handlerCount=0,this._forgetLastClick()},_forgetLastClick:function(){this._firstClickTarget=null,this._lastClickTimeStamp=-300},add:function(){this._handlerCount<=0&&g.Z.on(b.Z.getDocument(),E,this._clickHandler.bind(this)),this._handlerCount++},_clickHandler:function(p){var T=p.timeStamp||Date.now(),A=T-this._lastClickTimeStamp;!(A<0)&&A<300?((0,C.BX)({type:h,target:(0,_.Ls)(this._firstClickTarget,p.target),originalEvent:p}),this._forgetLastClick()):(this._firstClickTarget=p.target,this._lastClickTimeStamp=T)},remove:function(){this._handlerCount--,this._handlerCount<=0&&(this._forgetLastClick(),g.Z.off(b.Z.getDocument(),E))}});(0,I.Z)(h,new M)},7864:(D,v,o)=>{o.d(v,{Z:()=>O}),o(32110);var _=o(49158),b=o(67771),r=o(83684);let I=(()=>{class C extends _.Z{_getDefaultOptions(){return(0,r.l)(super._getDefaultOptions(),{preventScrollEvents:!1})}_getToolbarName(){return"dxToolbar"}}return C.defaultOptions=function(h){_.Z.defaultOptions(h)},C})();(0,b.Z)("dxPopup",I);const O=I},32110:(D,v,o)=>{o.d(v,{Z:()=>dt});var g=o(67771),_=o(83684),b=o(34593),r=o(83520),I="dx-buttongroup",O=["dxAutocomplete","dxButton","dxCheckBox","dxDateBox","dxMenu","dxSelectBox","dxTabs","dxTextBox","dxButtonGroup","dxDropDownButton"],C=function(u){var t=u.data&&u.data(),e=t&&t.dxComponents,i=e&&e[0];return i&&t[i]};function h(u,t){var e;if(u){var i=u._findItemElementByItem(t);if(i.length){var n=u._getItemData(i),a=!!(null!==(e=n.options)&&void 0!==e&&e.disabled||n.disabled||u.option("disabled")),{widget:s}=n;if(s&&-1!==O.indexOf(s)){var l=i.find(s.toLowerCase().replace("dx",".dx-"));if(l.length){var d,c,S=C(l);if(!S)return;var P,f=null===(d=S._focusTarget)||void 0===d?void 0:d.call(S);f="dxDropDownButton"===s?f&&f.find(".".concat(I)):null!==(P=f)&&void 0!==P?P:(0,r.Z)(S.element());var $=null===(c=n.options)||void 0===c?void 0:c.tabIndex;f.attr("tabIndex",a?-1:$??0)}}}}}var m=o(21374);class L{constructor(t){this._toolbar=t}_initMarkup(){}_updateMenuVisibility(){}_renderMenuItems(){}_renderItem(){}_getMenuItems(){}_getToolbarItems(){var t;return null!==(t=this._toolbar.option("items"))&&void 0!==t?t:[]}_getItemsWidth(){return this._toolbar._getSummaryItemsWidth(this._toolbar.itemElements(),!0)}_arrangeItems(){var t=this._toolbar._$toolbarItemsContainer.find(".".concat("dx-toolbar-label")).eq(0);if(t.length){var e=(0,m.dz)(this._toolbar.$element()),i=(0,m.Y_)(t)-(0,m.dz)(t);t.css("maxWidth",e-i)}}_hideOverflowItems(){}_dimensionChanged(){}_itemOptionChanged(){}_optionChanged(){}}var M=o(91553),p=o(56836),T=o(13921),A=o(46068),B=o(9077),y=o(63394),k="dx-toolbar-menu-action",N="dx-toolbar-hidden-button-group",w="dx-toolbar-menu-section",U="dx-toolbar-menu-last-section";class G extends y.K{_init(){super._init(),this._activeStateUnit=".".concat(k,":not(.").concat(N,")")}_initMarkup(){this._renderSections(),super._initMarkup(),this._setMenuRole()}_getSections(){return this._itemContainer().children()}_itemElements(){return this._getSections().children(this._itemSelector())}_renderSections(){var t=this._itemContainer();(0,M.S6)(["before","center","after","menu"],(e,i)=>{var n="_$".concat(i,"Section");this[n]||(this[n]=(0,r.Z)("<div>").addClass(w)),this[n].appendTo(t)})}_renderItems(){super._renderItems.apply(this,arguments),this._updateSections()}_setMenuRole(){this.$element().find(".".concat("dx-scrollview-content")).attr("role","menu")}_updateSections(){var t=this.$element().find(".".concat(w));t.removeClass(U),t.not(":empty").eq(-1).addClass(U)}_renderItem(t,e,i,n){var a,s=null!==(a=e.location)&&void 0!==a?a:"menu",l=this["_$".concat(s,"Section")],d=super._renderItem(t,e,l,n);return this._getItemTemplateName({itemData:e})&&d.addClass("dx-toolbar-menu-custom"),("menu"===s||"dxButton"===e.widget||"dxButtonGroup"===e.widget||e.isAction)&&d.addClass(k),"dxButton"===e.widget&&d.addClass("dx-toolbar-hidden-button"),"dxButtonGroup"===e.widget&&d.addClass(N),d.addClass(e.cssClass),d}_getItemTemplateName(t){var e=super._getItemTemplateName(t),i=t.itemData;return i&&i.menuItemTemplate||e}_dataSourceOptions(){return{paginate:!1}}_itemClickHandler(t,e,i){(0,r.Z)(t.target).closest(".".concat(k)).length&&super._itemClickHandler(t,e,i)}_clean(){this._getSections().empty(),super._clean()}}var X=o(28961),Y=o(58437),J=o(34500);o(7864);class nt extends A.Z{_supportedKeys(){var t={};return(!this.option("opened")||!this._list.option("focusedElement"))&&(t=this._button._supportedKeys()),(0,_.l)(super._supportedKeys(),t,{tab:function(){this._popup&&this._popup.hide()}})}_getDefaultOptions(){return(0,_.l)(super._getDefaultOptions(),{items:[],onItemClick:null,dataSource:null,itemTemplate:"item",onButtonClick:null,activeStateEnabled:!0,hoverStateEnabled:!0,opened:!1,onItemRendered:null,closeOnClick:!0,useInkRipple:!1,container:void 0,animation:{show:{type:"fade",from:0,to:1},hide:{type:"fade",to:0}}})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:function(){return"desktop"===T.Z.real().deviceType&&!T.Z.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return(0,X.x2)()},options:{useInkRipple:!0,animation:{show:{type:"pop",duration:200,from:{scale:0},to:{scale:1}},hide:{type:"pop",duration:200,from:{scale:1},to:{scale:0}}}}}])}_init(){super._init(),this.$element().addClass("dx-dropdownmenu"),this._initItemClickAction(),this._initButtonClickAction()}_initItemClickAction(){this._itemClickAction=this._createActionByOption("onItemClick")}_initButtonClickAction(){this._buttonClickAction=this._createActionByOption("onButtonClick")}_initTemplates(){this._templateManager.addDefaultTemplates({content:new Y.s("content")}),super._initTemplates()}_initMarkup(){this._renderButton(),super._initMarkup()}_render(){super._render(),this.setAria({haspopup:!0,expanded:this.option("opened")})}_renderContentImpl(){this.option("opened")&&this._renderPopup()}_clean(){this._cleanFocusState(),this._list&&this._list.$element().remove(),this._popup&&this._popup.$element().remove(),delete this._list,delete this._popup}_renderButton(){var t=this.$element().addClass("dx-dropdownmenu-button");this._button=this._createComponent(t,B.Z,{icon:"overflow",template:"content",useInkRipple:this.option("useInkRipple"),hoverStateEnabled:!1,focusStateEnabled:!1,onClick:e=>{this.option("opened",!this.option("opened")),this._buttonClickAction(e)}})}_toggleActiveState(t,e,i){this._button._toggleActiveState(t,e,i)}_toggleMenuVisibility(t){var e=t??!this._popup.option("visible");t&&this._renderPopup(),this._popup.toggle(e),this.setAria("expanded",e)}_renderPopup(){if(!this._$popup){this._$popup=(0,r.Z)("<div>").appendTo(this.$element());var{rtlEnabled:t,container:e,animation:i}=this.option();this._popup=this._createComponent(this._$popup,"dxPopup",{onInitialized(n){var{component:a}=n;a.$wrapper().addClass("dx-dropdownmenu-popup-wrapper").addClass("dx-dropdownmenu-popup")},deferRendering:!1,contentTemplate:n=>this._renderList(n),_ignoreFunctionValueDeprecation:!0,maxHeight:()=>this._getMaxHeight(),position:{my:"top ".concat(t?"left":"right"),at:"bottom ".concat(t?"left":"right"),collision:"fit flip",offset:{v:3},of:this.$element()},animation:i,onOptionChanged:n=>{var{name:a,value:s}=n;"visible"===a&&this.option("opened",s)},container:e,autoResizeEnabled:!1,height:"auto",width:"auto",hideOnOutsideClick:n=>this._closeOutsideDropDownHandler(n),hideOnParentScroll:!0,shading:!1,dragEnabled:!1,showTitle:!1,fullScreen:!1,_fixWrapperPosition:!0})}}_getMaxHeight(){var t=this.$element(),e=t.offset().top,i=(0,m.zp)((0,J.Jj)()),n=Math.max(e,i-e-(0,m.zp)(t));return Math.min(i,n-3-10)}_closeOutsideDropDownHandler(t){return!(0,r.Z)(t.target).closest(this.$element()).length}_renderList(t){var e=(0,r.Z)(t);e.addClass("dx-dropdownmenu-list"),this._list=this._createComponent(e,G,{dataSource:this._getListDataSource(),pageLoadMode:"scrollBottom",indicateLoading:!1,noDataText:"",itemTemplate:this.option("itemTemplate"),onItemClick:i=>{this.option("closeOnClick")&&this.option("opened",!1),this._itemClickAction(i)},tabIndex:-1,focusStateEnabled:!1,activeStateEnabled:!0,onItemRendered:this.option("onItemRendered"),_itemAttributes:{role:"menuitem"}})}_itemOptionChanged(t,e,i){var n;null===(n=this._list)||void 0===n||n._itemOptionChanged(t,e,i),h(this._list,t)}_getListDataSource(){var t;return null!==(t=this.option("dataSource"))&&void 0!==t?t:this.option("items")}_setListDataSource(){var t;null===(t=this._list)||void 0===t||t.option("dataSource",this._getListDataSource()),delete this._deferRendering}_getKeyboardListeners(){return super._getKeyboardListeners().concat([this._list])}_toggleVisibility(t){super._toggleVisibility(t),this._button.option("visible",t)}_optionChanged(t){var e,i,n,{name:a,value:s}=t;switch(a){case"items":case"dataSource":this.option("opened")?this._setListDataSource():this._deferRendering=!0;break;case"itemTemplate":null===(e=this._list)||void 0===e||e.option(a,this._getTemplate(s));break;case"onItemClick":this._initItemClickAction();break;case"onButtonClick":this._buttonClickAction();break;case"useInkRipple":this._invalidate();break;case"focusStateEnabled":null===(i=this._list)||void 0===i||i.option(a,s),super._optionChanged(t);break;case"onItemRendered":null===(n=this._list)||void 0===n||n.option(a,s);break;case"opened":this._deferRendering&&this._setListDataSource(),this._toggleMenuVisibility(s),this._updateFocusableItemsTabIndex();break;case"closeOnClick":break;case"container":this._popup&&this._popup.option(a,s);break;case"disabled":this._list&&this._updateFocusableItemsTabIndex();break;default:super._optionChanged(t)}}_updateFocusableItemsTabIndex(){this.option("items").forEach(t=>h(this._list,t))}}var Z=o(31996),V="dx-state-invisible",x="dx-toolbar-item-auto-hide",R="dx-toolbar-item-invisible";class st{constructor(t){this._toolbar=t}_initMarkup(){(0,p.g0)(()=>{this._renderOverflowMenu(),this._renderMenuItems()})}_renderOverflowMenu(){if(this._hasVisibleMenuItems()){this._renderMenuButtonContainer();var t=(0,r.Z)("<div>").appendTo(this._overflowMenuContainer()),e=this._toolbar._createActionByOption("onItemClick"),i=this._toolbar._getTemplateByOption("menuItemTemplate");this._menu=this._toolbar._createComponent(t,nt,{disabled:this._toolbar.option("disabled"),itemTemplate:()=>i,onItemClick:n=>{e(n)},container:this._toolbar.option("menuContainer"),onOptionChanged:n=>{var{name:a,value:s}=n;"opened"===a&&this._toolbar.option("overflowMenuVisible",s),"items"===a&&this._updateMenuVisibility(s)}})}}renderMenuItems(){this._menu||this._renderOverflowMenu(),this._menu&&this._menu.option("items",this._getMenuItems()),this._menu&&!this._menu.option("items").length&&this._menu.option("opened",!1)}_renderMenuButtonContainer(){this._$overflowMenuContainer=(0,r.Z)("<div>").appendTo(this._toolbar._$afterSection).addClass("dx-toolbar-button").addClass("dx-toolbar-menu-container")}_overflowMenuContainer(){return this._$overflowMenuContainer}_updateMenuVisibility(t){var e=t??this._getMenuItems(),i=e.length&&this._hasVisibleMenuItems(e);this._toggleMenuVisibility(i)}_toggleMenuVisibility(t){this._overflowMenuContainer()&&this._overflowMenuContainer().toggleClass(V,!t)}_renderMenuItems(){(0,p.g0)(()=>{this.renderMenuItems()})}_dimensionChanged(){this.renderMenuItems()}_getToolbarItems(){var t;return(0,p.h3)(null!==(t=this._toolbar.option("items"))&&void 0!==t?t:[],e=>!this._toolbar._isMenuItem(e))}_getHiddenItems(){return this._toolbar._itemContainer().children(".".concat(x,".").concat(R)).not(".".concat(V))}_getMenuItems(){var t,e,i=(0,p.h3)(null!==(t=this._toolbar.option("items"))&&void 0!==t?t:[],s=>this._toolbar._isMenuItem(s)),n=this._getHiddenItems();return this._restoreItems=null!==(e=this._restoreItems)&&void 0!==e?e:[],[...[].slice.call(n).map(s=>{var l=this._toolbar._getItemData(s),d=(0,r.Z)(s),c=d.children();return(0,_.l)({menuItemTemplate:()=>(this._restoreItems.push({container:d,item:c}),(0,r.Z)("<div>").addClass(x).append(c))},l)}),...i]}_hasVisibleMenuItems(t){var e=t??this._toolbar.option("items"),i=!1,n=(0,Z.vb)("visible"),a=(0,Z.vb)("locateInMenu");return(0,M.S6)(e,function(s,l){var d=n(l,{functionsAsIs:!0}),c=a(l,{functionsAsIs:!0});(!1!==d&&("auto"===c||"always"===c)||"menu"===l.location)&&(i=!0)}),i}_arrangeItems(){var t;this._toolbar._$centerSection.css({margin:"0 auto",float:"none"}),(0,M.S6)(null!==(t=this._restoreItems)&&void 0!==t?t:[],function(i,n){(0,r.Z)(n.container).append(n.item)}),this._restoreItems=[];var e=(0,m.dz)(this._toolbar.$element());return this._hideOverflowItems(e),e}_hideOverflowItems(t){var e,i=this._toolbar.$element().find(".".concat(x));if(i.length){t=null!==(e=t)&&void 0!==e?e:(0,m.dz)(this._toolbar.$element()),(0,r.Z)(i).removeClass(R);for(var n=this._getItemsWidth();i.length&&t<n;)i.eq(-1).addClass(R),n=this._getItemsWidth(),i.splice(-1,1)}}_getItemsWidth(){return this._toolbar._getSummaryItemsWidth([this._toolbar._$beforeSection,this._toolbar._$centerSection,this._toolbar._$afterSection])}_itemOptionChanged(t,e,i){var n;"disabled"!==e&&"options.disabled"!==e||!this._toolbar._isMenuItem(t)?this.renderMenuItems():null===(n=this._menu)||void 0===n||n._itemOptionChanged(t,e,i)}_renderItem(t,e){"auto"===t.locateInMenu&&e.addClass(x)}_optionChanged(t,e){var i,n,a,s,l;switch(t){case"disabled":null===(i=this._menu)||void 0===i||i.option(t,e);break;case"overflowMenuVisible":null===(n=this._menu)||void 0===n||n.option("opened",e);break;case"onItemClick":null===(a=this._menu)||void 0===a||a.option(t,e);break;case"menuContainer":null===(s=this._menu)||void 0===s||s.option("container",e);break;case"menuItemTemplate":null===(l=this._menu)||void 0===l||l.option("itemTemplate",e)}}}class K extends b.Z{_getDefaultOptions(){return(0,_.l)(super._getDefaultOptions(),{menuItemTemplate:"menuItem",menuContainer:void 0,overflowMenuVisible:!1,multiline:!1})}_isMultiline(){return this.option("multiline")}_dimensionChanged(t){"height"!==t&&(super._dimensionChanged(),this._layoutStrategy._dimensionChanged())}_initMarkup(){super._initMarkup(),this._updateFocusableItemsTabIndex(),this._layoutStrategy._initMarkup()}_renderToolbar(){super._renderToolbar(),this._renderLayoutStrategy()}_itemContainer(){return this._isMultiline()?this._$toolbarItemsContainer:super._itemContainer()}_renderLayoutStrategy(){this.$element().toggleClass("dx-toolbar-multiline",this._isMultiline()),this._layoutStrategy=this._isMultiline()?new L(this):new st(this)}_renderSections(){if(!this._isMultiline())return super._renderSections()}_postProcessRenderItems(){this._layoutStrategy._hideOverflowItems(),this._layoutStrategy._updateMenuVisibility(),super._postProcessRenderItems(),this._layoutStrategy._renderMenuItems()}_renderItem(t,e,i,n){var a=super._renderItem(t,e,i,n);this._layoutStrategy._renderItem(e,a);var{widget:s,showText:l}=e;return"dxButton"===s&&"inMenu"===l&&a.toggleClass("dx-toolbar-text-auto-hide"),a}_getItemsWidth(){return this._layoutStrategy._getItemsWidth()}_getMenuItems(){return this._layoutStrategy._getMenuItems()}_getToolbarItems(){return this._layoutStrategy._getToolbarItems()}_arrangeItems(){if(!this.$element().is(":hidden")){var t=this._layoutStrategy._arrangeItems();this._isMultiline()||super._arrangeItems(t)}}_itemOptionChanged(t,e,i){this._isMenuItem(t)||super._itemOptionChanged(t,e,i),this._layoutStrategy._itemOptionChanged(t,e,i),("disabled"===e||"options.disabled"===e)&&h(this,t),"location"===e&&this.repaint()}_updateFocusableItemsTabIndex(){this._getToolbarItems().forEach(t=>h(this,t))}_isMenuItem(t){return"menu"===t.location||"always"===t.locateInMenu}_isToolbarItem(t){return void 0===t.location||"never"===t.locateInMenu}_optionChanged(t){var{name:e,value:i}=t;switch(this._layoutStrategy._optionChanged(e,i),e){case"menuContainer":case"menuItemTemplate":case"overflowMenuVisible":break;case"multiline":this._invalidate();break;case"disabled":super._optionChanged.apply(this,arguments),this._updateFocusableItemsTabIndex();break;default:super._optionChanged.apply(this,arguments)}}updateDimensions(){this._dimensionChanged()}}(0,g.Z)("dxToolbar",K);const dt=K}}]);