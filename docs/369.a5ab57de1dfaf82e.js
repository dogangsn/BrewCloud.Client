"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[369],{33822:(b,g,s)=>{s.d(g,{X:()=>h});var p=s(51723),a=s(94650),d=s(76717);let h=(()=>{class r{constructor(m){this._httpService=m}getUnitsList(){return this._httpService.getRequest(p.z.units.unitsList)}createUnits(m){return this._httpService.post(p.z.units.createUnits,m)}updateUnits(m){return this._httpService.post(p.z.units.updateUnits,m)}deleteUnits(m){return this._httpService.post(p.z.units.deleteUnits,m)}static#t=this.\u0275fac=function(x){return new(x||r)(a.LFG(d.O))};static#e=this.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})()},10369:(b,g,s)=>{s.r(g),s.d(g,{UnitDefinitionModule:()=>et});var p=s(89299),a=s(24006),d=s(4859),h=s(59549),r=s(97392),w=s(284),m=s(85804),x=s(28255),u=s(30671),N=s(36895),_=s(84385),S=s(56709),y=s(98739),I=s(73162),Y=s(3238),E=s(96308),F=s(90455),L=s(10266),O=s(44466),v=s(65412);class R{constructor(c,e){this.unitCode=c,this.unitName=e}}var U=s(69079),C=s(70487),Z=s(45263);class z{constructor(c,e,n){this.id=c,this.unitCode=e,this.unitName=n}}var t=s(94650),J=s(33822),B=s(30430);function P(i,c){1&i&&(t.TgZ(0,"span"),t._uU(1,"Birim G\xfcncelle"),t.qZA())}function k(i,c){1&i&&(t.TgZ(0,"span"),t._uU(1,"Birim Ekle"),t.qZA())}let Q=(()=>{class i{constructor(e,n,o,l,f){this._dialogRef=e,this._formBuilder=n,this._unitservice=o,this._translocoService=l,this.data=f,this.buttonDisabled=!1,this.selectedunitdefinition=f}ngOnInit(){this.unitdefinition=this._formBuilder.group({unitCode:[""],unitName:[""]}),this.fillFormData(this.selectedunitdefinition)}fillFormData(e){null!==this.selectedunitdefinition&&this.unitdefinition.setValue({unitCode:e.unitCode,unitName:e.unitName})}addOrUpdateUnitDef(){this.buttonDisabled=!0,this.selectedunitdefinition?this.updateunitdefinition():this.addunitdefinition()}closeDialog(){this._dialogRef.close({status:null})}addunitdefinition(){const e=new R(this.getFormValueByName("unitCode"),this.getFormValueByName("unitName"));this._unitservice.createUnits(e).subscribe(n=>{n.isSuccessful?(this.showSweetAlert("success"),this._dialogRef.close({status:!0})):this.showSweetAlert("error")},n=>{console.log(n)})}updateunitdefinition(){const e=new z(this.selectedunitdefinition.id,this.getFormValueByName("unitCode"),this.getFormValueByName("unitName"));this._unitservice.updateUnits(e).subscribe(n=>{n.isSuccessful?(this.showSweetAlert("success"),this._dialogRef.close({status:!0})):this.showSweetAlert("error")},n=>{console.log(n)})}getFormValueByName(e){return this.unitdefinition.get(e).value}showSweetAlert(e){if("success"===e){const n=new C.c(this.translate("sweetalert.success"),this.translate("sweetalert.transactionSuccessful"),U.p.success);Z.m.sweetAlert(n)}else{const n=new C.c(this.translate("sweetalert.error"),this.translate("sweetalert.transactionFailed"),U.p.error);Z.m.sweetAlert(n)}}translate(e){return this._translocoService.translate(e)}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(v.so),t.Y36(a.qu),t.Y36(J.X),t.Y36(B.Vn),t.Y36(v.WI))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-create-edit-unitdefinition-dialog"]],decls:39,vars:11,consts:[["mat-dialog-title","",1,"mat-dialog-title"],[1,"dialog-close-button",3,"click"],[1,"material-icons"],[1,"modalForm"],[1,"modal-header"],[1,"modal-title"],[4,"ngIf"],[1,"modal-body","mbody-unitdefinition"],[1,"qm-pr-content"],[1,"container-fluid",3,"formGroup"],[1,"row"],[1,"col-sm-12","mt-2","common-width"],[2,"width","100%"],["matInput","",3,"formControlName"],[1,"flex","flex-col","sm:flex-row","sm:items-center","justify-between","mt-4","sm:mt-6"],[1,"-ml-2"],["mat-icon-button",""],[1,"icon-size-5",3,"svgIcon"],[1,"flex","items-center","mt-4","sm:mt-0"],["mat-stroked-button","",1,"ml-auto","sm:ml-0",3,"click"],["mat-flat-button","",1,"order-first","sm:order-last",3,"color","disabled","click"]],template:function(n,o){1&n&&(t.TgZ(0,"h1",0)(1,"button",1),t.NdJ("click",function(){return o.closeDialog()}),t.TgZ(2,"span",2),t._uU(3," highlight_off "),t.qZA()()(),t.TgZ(4,"div",3)(5,"mat-dialog-content")(6,"div",4)(7,"h5",5),t.YNc(8,P,2,0,"span",6),t.YNc(9,k,2,0,"span",6),t.qZA()(),t.TgZ(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"mat-form-field",12)(16,"mat-label"),t._uU(17,"Birim Kodu"),t.qZA(),t._UZ(18,"input",13),t.qZA()(),t.TgZ(19,"div",11)(20,"mat-form-field",12)(21,"mat-label"),t._uU(22,"Birim Ad\u0131"),t.qZA(),t._UZ(23,"input",13),t.qZA()()()()(),t.TgZ(24,"div",14)(25,"div",15)(26,"button",16),t._UZ(27,"mat-icon",17),t.qZA(),t.TgZ(28,"button",16),t._UZ(29,"mat-icon",17),t.qZA(),t.TgZ(30,"button",16),t._UZ(31,"mat-icon",17),t.qZA(),t.TgZ(32,"button",16),t._UZ(33,"mat-icon",17),t.qZA()(),t.TgZ(34,"div",18)(35,"button",19),t.NdJ("click",function(){return o.closeDialog()}),t._uU(36," Vazge\xe7 "),t.qZA(),t.TgZ(37,"button",20),t.NdJ("click",function(){return o.addOrUpdateUnitDef()}),t._uU(38," Kaydet "),t.qZA()()()()()()),2&n&&(t.xp6(8),t.Q6J("ngIf",o.selectedunitdefinition),t.xp6(1),t.Q6J("ngIf",!o.selectedunitdefinition),t.xp6(3),t.Q6J("formGroup",o.unitdefinition),t.xp6(6),t.Q6J("formControlName","unitCode"),t.xp6(5),t.Q6J("formControlName","unitName"),t.xp6(4),t.Q6J("svgIcon","heroicons_solid:paper-clip"),t.xp6(2),t.Q6J("svgIcon","heroicons_solid:link"),t.xp6(2),t.Q6J("svgIcon","heroicons_solid:emoji-happy"),t.xp6(2),t.Q6J("svgIcon","heroicons_solid:photograph"),t.xp6(4),t.Q6J("color","primary")("disabled",o.buttonDisabled))},dependencies:[a.Fj,a.JJ,a.JL,d.lW,d.RK,h.KE,h.hX,r.Hw,w.Nt,a.sg,a.u,N.O5,v.uh,v.xY]})}return i})();const K=["paginator"];function M(i,c){1&i&&(t.TgZ(0,"th",25),t._uU(1," Birim Kodu "),t.qZA())}function V(i,c){if(1&i&&(t.TgZ(0,"td",26),t._uU(1),t.qZA()),2&i){const e=c.$implicit;t.xp6(1),t.hij(" ",e.unitCode," ")}}function H(i,c){1&i&&(t.TgZ(0,"th",25),t._uU(1," Birim Ad\u0131 "),t.qZA())}function X(i,c){if(1&i&&(t.TgZ(0,"td",26),t._uU(1),t.qZA()),2&i){const e=c.$implicit;t.xp6(1),t.hij(" ",e.unitName," ")}}function G(i,c){1&i&&t._UZ(0,"tr",27)}function W(i,c){1&i&&t._UZ(0,"tr",28)}function j(i,c){1&i&&(t.TgZ(0,"th",25),t._uU(1," \u0130\u015flemler "),t.qZA())}function $(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"td",26)(1,"button",29),t.NdJ("click",function(){const l=t.CHM(e).$implicit,f=t.oxw();return t.KtG(f.redirectToUpdate(l.id))}),t.TgZ(2,"mat-icon",30),t._uU(3,"edit"),t.qZA()(),t.TgZ(4,"button",31),t.NdJ("click",function(){const l=t.CHM(e).$implicit,f=t.oxw();return t.KtG(f.redirectToDelete(l.id))}),t.TgZ(5,"mat-icon",32),t._uU(6,"delete"),t.qZA()()()}}const q=function(){return[5,10,20]},tt=[{path:"",component:(()=>{class i{constructor(e,n,o){this._dialog=e,this._unitsservice=n,this._translocoService=o,this.displayedColumns=["unitCode","unitName","actions"],this.units=[],this.dataSource=new u.by(this.units),this.redirectToUpdate=l=>{this.isUpdateButtonActive=!0;const f=this.units.find(T=>T.id===l);f&&this._dialog.open(Q,{maxWidth:"100vw !important",disableClose:!0,data:f}).afterClosed().subscribe(A=>{A.status&&this.UnitsList()})},this.redirectToDelete=l=>{const f=new C.c(this.translate("sweetalert.areYouSure"),this.translate("sweetalert.areYouSureDelete"),U.p.warning);Z.m.sweetAlertOfQuestion(f).then(T=>{T.isConfirmed&&this._unitsservice.deleteUnits({id:l}).subscribe(D=>{if(D.isSuccessful){this.UnitsList();const it=new C.c(this.translate("sweetalert.success"),this.translate("sweetalert.transactionSuccessful"),U.p.success);Z.m.sweetAlert(it)}else this.showSweetAlert("error",D.errors[0]),console.log(D.errors[0])})})}}ngOnInit(){this.UnitsList()}ngAfterViewInit(){this.dataSource.paginator=this.paginator}UnitsList(){this._unitsservice.getUnitsList().subscribe(e=>{this.units=e.data,console.log(this.units),this.dataSource=new u.by(this.units),this.dataSource.paginator=this.paginator})}addPanelOpen(){this.isUpdateButtonActive=!1,this._dialog.open(Q,{maxWidth:"100vw !important",disableClose:!0,data:null}).afterClosed().subscribe(n=>{n.status&&this.UnitsList()})}showSweetAlert(e,n){if("success"===e){const o=new C.c(this.translate("sweetalert.success"),this.translate("sweetalert.transactionSuccessful"),U.p.success);Z.m.sweetAlert(o)}else{const o=new C.c(this.translate("sweetalert.error"),this.translate(n),U.p.error);Z.m.sweetAlert(o)}}translate(e){return this._translocoService.translate(e)}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(v.uw),t.Y36(J.X),t.Y36(B.Vn))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-Unit"]],viewQuery:function(n,o){if(1&n&&t.Gf(K,5),2&n){let l;t.iGM(l=t.CRH())&&(o.paginator=l.first)}},decls:34,vars:9,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex","flex-col","sm:flex-row","flex-0","sm:items-center","sm:justify-between","p-6","pb-22","sm:pt-12","sm:pb-28","sm:px-10","bg-default","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1"],[1,"mt-2"],[1,"text-3xl","md:text-4xl","font-extrabold","tracking-tight","leading-7","sm:leading-10","truncate"],[1,"font-medium","tracking-tight","text-secondary"],[1,"flex","shrink-0","items-center","mt-6","sm:mt-0","sm:ml-4"],["mat-flat-button","",1,"ml-3",3,"color","click"],[1,"icon-size-5","mr-2",3,"svgIcon"],[1,"flex-auto","-mt-16","p-6","sm:p-10","rounded-t-2xl","shadow","bg-card"],[1,"mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","unitCode"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","unitName"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["matColumnDef","actions"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["paginator",""],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],["mat-icon-button","","color","accent",3,"click"],["aria-label","Edit"],["mat-icon-button","","color","warn",3,"click"],[1,"mat-18"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"a",4),t._UZ(6,"mat-icon",5),t.TgZ(7,"span",6),t._uU(8,"Back"),t.qZA()()()(),t.TgZ(9,"div",7)(10,"h2",8),t._uU(11," Birim Tan\u0131mlar\u0131 "),t.qZA()(),t.TgZ(12,"div",9),t._uU(13,"\xdcr\xfcnlerde kullan\u0131lacak Birim Tan\u0131mlar\u0131 Yap\u0131lmas\u0131 "),t.qZA()(),t.TgZ(14,"div",10)(15,"button",11),t.NdJ("click",function(){return o.addPanelOpen()}),t._UZ(16,"mat-icon",12),t._uU(17," Yeni Birim EKle "),t.qZA()()(),t.TgZ(18,"div",13)(19,"div",14)(20,"table",15),t.ynx(21,16),t.YNc(22,M,2,0,"th",17),t.YNc(23,V,2,1,"td",18),t.BQk(),t.ynx(24,19),t.YNc(25,H,2,0,"th",17),t.YNc(26,X,2,1,"td",18),t.BQk(),t.YNc(27,G,1,0,"tr",20),t.YNc(28,W,1,0,"tr",21),t.ynx(29,22),t.YNc(30,j,2,0,"th",17),t.YNc(31,$,7,0,"td",18),t.BQk(),t.qZA(),t._UZ(32,"mat-paginator",23,24),t.qZA()()()),2&n&&(t.xp6(5),t.Q6J("routerLink","./.."),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:chevron-left"),t.xp6(9),t.Q6J("color","primary"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:link"),t.xp6(4),t.Q6J("dataSource",o.dataSource),t.xp6(7),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(4),t.Q6J("pageSizeOptions",t.DdM(8,q)))},dependencies:[d.lW,d.RK,r.Hw,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,y.NW,p.rH]})}return i})()}];let et=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[a.u5,d.ot,h.lN,r.Ps,w.c,a.u5,a.UX,m.J,x.Tx,a.u5,u.p0,N.ez,r.Ps,h.lN,d.ot,h.lN,r.Ps,w.c,a.u5,a.UX,m.J,x.Tx,_.LD,r.Ps,S.p9,d.ot,S.p9,h.lN,r.Ps,w.c,x.Tx,y.TU,I.Cv,Y.si,E.JX,_.LD,F.rP,L.AV,O.m,v.Is,p.Bz.forChild(tt)]})}return i})()},70487:(b,g,s)=>{s.d(g,{c:()=>p});class p{constructor(d,h,r){this.title=d,this.text=h,this.icon=r}}}}]);