"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[4889],{74889:(Nt,y,s)=>{s.r(y),s.d(y,{ProductdescriptionModule:()=>kt});var w=s(89299),u=s(24006),D=s(69227),d=s(30671),C=s(69079),T=s(45263),x=s(70487),g=s(65412),t=s(94650),b=s(16056),Z=s(98739);const M=["paginator"];function F(e,n){1&e&&(t.TgZ(0,"th",21),t._uU(1," \u0130\u015flem Tarihi "),t.qZA())}function Q(e,n){if(1&e&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&e){const o=n.$implicit,i=t.oxw();t.xp6(1),t.hij(" ",i.formatDate(o.createDate)," ")}}function J(e,n){1&e&&(t.TgZ(0,"th",21),t._uU(1," A\xe7\u0131klama "),t.qZA())}function B(e,n){if(1&e&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.remark," ")}}function R(e,n){1&e&&(t.TgZ(0,"th",21),t._uU(1," Adet / Miktar "),t.qZA())}function $(e,n){if(1&e&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.pieceQuentity," ")}}function H(e,n){1&e&&(t.TgZ(0,"th",21),t._uU(1," Tutar "),t.qZA())}function I(e,n){if(1&e&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.amount," ")}}function O(e,n){1&e&&(t.TgZ(0,"th",21),t._uU(1," M\xfc\u015fteri / Tedarik\xe7i "),t.qZA())}function q(e,n){if(1&e&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.customerSupplier," ")}}function j(e,n){1&e&&t._UZ(0,"tr",23)}function z(e,n){1&e&&t._UZ(0,"tr",24)}const G=function(){return[5,10,20]};let K=(()=>{class e{constructor(o,i,r){this._dialogRef=o,this._productdescriptionService=i,this.data=r,this.displayedColumns=["createDate","remark","piecequentity","amount","customersupplier"],this.productMovementList=[],this.dataSource=new d.by(this.productMovementList),this.selectedProductId=r.productid}ngOnInit(){this.selectedProductId.length>0&&this.getProductMovementList()}getProductMovementList(){this._productdescriptionService.productMovementList({ProductId:this.selectedProductId}).subscribe(i=>{this.productMovementList=i.data,console.log(this.productMovementList),this.dataSource=new d.by(this.productMovementList),this.dataSource.paginator=this.paginator})}closeDialog(){this._dialogRef.close({status:null})}formatDate(o){return new Date(o).toLocaleString("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit"})}static#t=this.\u0275fac=function(i){return new(i||e)(t.Y36(g.so),t.Y36(b.d),t.Y36(g.WI))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-productmovement-list"]],viewQuery:function(i,r){if(1&i&&t.Gf(M,5),2&i){let c;t.iGM(c=t.CRH())&&(r.paginator=c.first)}},decls:33,vars:6,consts:[["mat-dialog-title","",1,"mat-dialog-title"],[1,"dialog-close-button",3,"tabIndex","click"],[1,"material-icons"],[1,"modalForm"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body","mbody-productdescription"],[1,"qm-pr-content"],[1,"container-fluid"],["mat-table","",3,"dataSource"],["matColumnDef","createDate"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","remark"],["matColumnDef","piecequentity"],["matColumnDef","amount"],["matColumnDef","customersupplier"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["paginator",""],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(i,r){1&i&&(t.TgZ(0,"h1",0)(1,"button",1),t.NdJ("click",function(){return r.closeDialog()}),t.TgZ(2,"span",2),t._uU(3," highlight_off "),t.qZA()()(),t.TgZ(4,"div",3)(5,"mat-dialog-content")(6,"div",4)(7,"h5",5)(8,"span"),t._uU(9,"\xdcr\xfcn Hareketleri"),t.qZA()()(),t.TgZ(10,"div",6)(11,"div",7)(12,"div",8)(13,"table",9),t.ynx(14,10),t.YNc(15,F,2,0,"th",11),t.YNc(16,Q,2,1,"td",12),t.BQk(),t.ynx(17,13),t.YNc(18,J,2,0,"th",11),t.YNc(19,B,2,1,"td",12),t.BQk(),t.ynx(20,14),t.YNc(21,R,2,0,"th",11),t.YNc(22,$,2,1,"td",12),t.BQk(),t.ynx(23,15),t.YNc(24,H,2,0,"th",11),t.YNc(25,I,2,1,"td",12),t.BQk(),t.ynx(26,16),t.YNc(27,O,2,0,"th",11),t.YNc(28,q,2,1,"td",12),t.BQk(),t.YNc(29,j,1,0,"tr",17),t.YNc(30,z,1,0,"tr",18),t.qZA(),t._UZ(31,"mat-paginator",19,20),t.qZA()()()()()),2&i&&(t.xp6(1),t.Q6J("tabIndex",-1),t.xp6(12),t.Q6J("dataSource",r.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",r.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",r.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(5,G)))},dependencies:[d.BZ,d.fO,d.as,d.w1,d.Dz,d.nj,d.ge,d.ev,d.XQ,d.Gk,Z.NW,g.uh,g.xY]})}return e})();var E=s(38257),W=s(57243),U=s(38750),X=s(30430),_=s(4859),f=s(97392),h=s(28255),P=s(36895),k=s(90455),S=s(10266);const V=["paginator"];function tt(e,n){1&e&&t._UZ(0,"th",31)}function et(e,n){1&e&&(t.TgZ(0,"mat-icon",34),t._uU(1,"warning"),t.qZA())}function ot(e,n){if(1&e&&(t.TgZ(0,"td",32),t.YNc(1,et,2,0,"mat-icon",33),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Q6J("ngIf",0!=o.criticalAmount&&o.stockCount<=o.criticalAmount)}}function nt(e,n){1&e&&(t.TgZ(0,"th",31),t._uU(1," Durum "),t.qZA())}function it(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"td",32)(1,"mat-slide-toggle",35),t.NdJ("ngModelChange",function(r){const a=t.CHM(o).$implicit;return t.KtG(a.active=r)})("change",function(){const c=t.CHM(o).$implicit,a=t.oxw();return t.KtG(a.toggleActive(c.id,c.active))}),t.qZA()()}if(2&e){const o=n.$implicit;t.xp6(1),t.s9C("color",0===o.criticalAmount?"warn":"green-toggle"),t.Q6J("ngModel",o.active)}}function ct(e,n){1&e&&(t.TgZ(0,"th",31),t._uU(1," \xdcr\xfcn Ad\u0131 "),t.qZA())}function rt(e,n){if(1&e&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.name," ")}}function st(e,n){1&e&&(t.TgZ(0,"th",31),t._uU(1," \xdcr\xfcn Kodu "),t.qZA())}function at(e,n){if(1&e&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.productCode," ")}}function dt(e,n){1&e&&(t.TgZ(0,"th",31),t._uU(1," \xdcr\xfcn Barkodu "),t.qZA())}function lt(e,n){if(1&e&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.productBarcode," ")}}function ut(e,n){1&e&&(t.TgZ(0,"th",31),t._uU(1," Al\u0131\u015f Fiyat\u0131 "),t.qZA())}function mt(e,n){if(1&e&&(t.TgZ(0,"td",32),t._uU(1),t.ALo(2,"number"),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,o.buyingPrice,"1.2-2")," ")}}function pt(e,n){1&e&&(t.TgZ(0,"th",31),t._uU(1," Sat\u0131\u015f Fiyat\u0131 "),t.qZA())}function gt(e,n){if(1&e&&(t.TgZ(0,"td",32),t._uU(1),t.ALo(2,"number"),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,o.sellingPrice,"1.2-2")," ")}}function ft(e,n){1&e&&(t.TgZ(0,"th",31),t._uU(1," Stok "),t.qZA())}function ht(e,n){if(1&e&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.stockCount," Adet ")}}function _t(e,n){1&e&&(t.TgZ(0,"th",31),t._uU(1," \u0130\u015flemler "),t.qZA())}function Ct(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"td",32)(1,"button",36),t.NdJ("click",function(){const c=t.CHM(o).$implicit,a=t.oxw();return t.KtG(a.redirectToMovement(c.id))}),t.TgZ(2,"mat-icon",37),t._uU(3,"view_list"),t.qZA()(),t.TgZ(4,"button",38),t.NdJ("click",function(){const c=t.CHM(o).$implicit,a=t.oxw();return t.KtG(a.redirectToUpdate(c.id))}),t.TgZ(5,"mat-icon",39),t._uU(6,"edit"),t.qZA()(),t.TgZ(7,"button",40),t.NdJ("click",function(){const c=t.CHM(o).$implicit,a=t.oxw();return t.KtG(a.redirectToDelete(c.id))}),t.TgZ(8,"mat-icon",41),t._uU(9,"delete"),t.qZA()(),t.TgZ(10,"button",42)(11,"mat-icon"),t._uU(12,"more_vert"),t.qZA()(),t.TgZ(13,"mat-menu",null,43)(15,"button",44),t.NdJ("click",function(){const c=t.CHM(o).$implicit,a=t.oxw();return t.KtG(a.openStockTrackingEntry(c.id,1))}),t.TgZ(16,"mat-icon"),t._uU(17,"trending_up"),t.qZA(),t.TgZ(18,"span"),t._uU(19,"Stok Ekle"),t.qZA()(),t.TgZ(20,"button",44),t.NdJ("click",function(){const c=t.CHM(o).$implicit,a=t.oxw();return t.KtG(a.openStockTrackingEntry(c.id,2))}),t.TgZ(21,"mat-icon"),t._uU(22,"trending_down"),t.qZA(),t.TgZ(23,"span"),t._uU(24,"Stok D\xfc\u015f"),t.qZA()(),t.TgZ(25,"button",44),t.NdJ("click",function(){const c=t.CHM(o).$implicit,a=t.oxw();return t.KtG(a.openStockTrackingList(c.id))}),t.TgZ(26,"mat-icon"),t._uU(27,"view_list"),t.qZA(),t.TgZ(28,"span"),t._uU(29,"Stoklar"),t.qZA()()()()}if(2&e){const o=t.MAs(14);t.xp6(10),t.Q6J("matMenuTriggerFor",o)}}function Tt(e,n){1&e&&t._UZ(0,"tr",45)}function xt(e,n){1&e&&t._UZ(0,"tr",46)}const vt=function(){return[5,10,20]};let Zt=(()=>{class e{constructor(o,i,r){this._dialog=o,this._productdescriptionService=i,this._translocoService=r,this.displayedColumns=["warning","active","name","productCode","productBarcode","buyingPrice","sellingPrice","stockCount","actions"],this.productdescription=[],this.dataSource=new d.by(this.productdescription),this.redirectToUpdate=c=>{this.isUpdateButtonActive=!0,this.visibleProductType=!1,this.producttype=1;const a=this.productdescription.find(l=>l.id===c);a&&this._dialog.open(D.i,{maxWidth:"100vw !important",disableClose:!0,data:{selectedProductdescription:a,producttype:1,visibleProductType:!1}}).afterClosed().subscribe(p=>{p.status&&this.getProductList()})},this.redirectToDelete=c=>{const a=new x.c(this.translate("sweetalert.areYouSure"),this.translate("sweetalert.areYouSureDelete"),C.p.warning);T.m.sweetAlertOfQuestion(a).then(m=>{m.isConfirmed&&this._productdescriptionService.deleteProductDescription({id:c}).subscribe(p=>{if(p.isSuccessful){this.getProductList();const St=new x.c(this.translate("sweetalert.success"),this.translate("sweetalert.transactionSuccessful"),C.p.success);T.m.sweetAlert(St)}else this.showSweetAlert("error",p.errors[0]),console.log(p.errors[0])})})},this.redirectToMovement=c=>{this._dialog.open(K,{maxWidth:"100vw !important",disableClose:!0,data:{productid:c}}).afterClosed().subscribe(l=>{l.status&&this.getProductList()})},this.openStockTrackingList=c=>{this._dialog.open(E.K,{maxWidth:"100vw !important",disableClose:!0,data:{productid:c}}).afterClosed().subscribe(l=>{l.status&&this.getProductList()})},this.openStockTrackingEntry=(c,a)=>{this._dialog.open(W.a,{maxWidth:"100vw !important",disableClose:!0,data:{productid:c,entryexittype:1===a?U.Y0.Entry:U.Y0.Exit,data:null}}).afterClosed().subscribe(p=>{p.status&&this.getProductList()})}}ngAfterViewInit(){this.dataSource.paginator=this.paginator}ngOnInit(){this.getProductList()}getProductList(){this._productdescriptionService.getProductDescriptionFilters({ProductType:1}).subscribe(i=>{this.productdescription=i.data,console.log(this.productdescription),this.dataSource=new d.by(this.productdescription),this.dataSource.paginator=this.paginator})}addPanelOpen(){this.isUpdateButtonActive=!1,this.visibleProductType=!1,this.producttype=1,this._dialog.open(D.i,{maxWidth:"100vw !important",disableClose:!0,data:{selectedProductdescription:null,producttype:1,visibleProductType:!1}}).afterClosed().subscribe(r=>{r.status&&this.getProductList()})}showSweetAlert(o,i){if("success"===o){const r=new x.c(this.translate("sweetalert.success"),this.translate("sweetalert.transactionSuccessful"),C.p.success);T.m.sweetAlert(r)}else{const r=new x.c(this.translate("sweetalert.error"),this.translate(i),C.p.error);T.m.sweetAlert(r)}}translate(o){return this._translocoService.translate(o)}toggleActive(o,i){console.log("Toggle event captured for element with id:",o),this._productdescriptionService.updateProductActive({Id:o,Active:i}).subscribe(c=>{c.isSuccessful||this.showSweetAlert("error","sweetalert.transactionFailed")},c=>{console.log(c)})}static#t=this.\u0275fac=function(i){return new(i||e)(t.Y36(g.uw),t.Y36(b.d),t.Y36(X.Vn))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-productdescription"]],viewQuery:function(i,r){if(1&i&&t.Gf(V,5),2&i){let c;t.iGM(c=t.CRH())&&(r.paginator=c.first)}},decls:52,vars:10,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex","flex-col","sm:flex-row","flex-0","sm:items-center","sm:justify-between","p-6","pb-22","sm:pt-12","sm:pb-28","sm:px-10","bg-default","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1"],[1,"mt-2"],[1,"text-3xl","md:text-4xl","font-extrabold","tracking-tight","leading-7","sm:leading-10","truncate"],[1,"font-medium","tracking-tight","text-secondary"],[1,"flex","shrink-0","items-center","mt-6","sm:mt-0","sm:ml-4"],["mat-flat-button","",1,"ml-3",3,"color","click"],[1,"icon-size-5","mr-2",3,"svgIcon"],[1,"flex-auto","-mt-16","p-6","sm:p-10","rounded-t-2xl","shadow","bg-card"],[1,"mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","warning"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","active"],["matColumnDef","name"],["matColumnDef","productCode"],["matColumnDef","productBarcode"],["matColumnDef","buyingPrice"],["matColumnDef","sellingPrice"],["matColumnDef","stockCount"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions","pageSize"],["paginator",""],["mat-header-cell",""],["mat-cell",""],["color","warn","matTooltip","Kritik sto\u011fa ula\u015f\u0131ld",4,"ngIf"],["color","warn","matTooltip","Kritik sto\u011fa ula\u015f\u0131ld"],[3,"ngModel","color","ngModelChange","change"],["mat-icon-button","",3,"click"],["aria-label","view_list"],["mat-icon-button","","color","accent",3,"click"],["aria-label","Edit"],["mat-icon-button","","color","warn",3,"click"],[1,"mat-18"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(i,r){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"a",4),t._UZ(6,"mat-icon",5),t.TgZ(7,"span",6),t._uU(8,"Back"),t.qZA()()()(),t.TgZ(9,"div",7)(10,"h2",8),t._uU(11," \xdcr\xfcn "),t.qZA()(),t.TgZ(12,"div",9),t._uU(13,"Malzeme Listesi/ Sat\u0131\u015fa sunulacak \xfcr\xfcnlerin tan\u0131mlamas\u0131n\u0131n yap\u0131lmas\u0131"),t.qZA()(),t.TgZ(14,"div",10)(15,"button",11),t.NdJ("click",function(){return r.addPanelOpen()}),t._UZ(16,"mat-icon",12),t._uU(17," Yeni \xdcr\xfcn Ekle "),t.qZA()()(),t.TgZ(18,"div",13)(19,"div",14)(20,"table",15),t.ynx(21,16),t.YNc(22,tt,1,0,"th",17),t.YNc(23,ot,2,1,"td",18),t.BQk(),t.ynx(24,19),t.YNc(25,nt,2,0,"th",17),t.YNc(26,it,2,2,"td",18),t.BQk(),t.ynx(27,20),t.YNc(28,ct,2,0,"th",17),t.YNc(29,rt,2,1,"td",18),t.BQk(),t.ynx(30,21),t.YNc(31,st,2,0,"th",17),t.YNc(32,at,2,1,"td",18),t.BQk(),t.ynx(33,22),t.YNc(34,dt,2,0,"th",17),t.YNc(35,lt,2,1,"td",18),t.BQk(),t.ynx(36,23),t.YNc(37,ut,2,0,"th",17),t.YNc(38,mt,3,4,"td",18),t.BQk(),t.ynx(39,24),t.YNc(40,pt,2,0,"th",17),t.YNc(41,gt,3,4,"td",18),t.BQk(),t.ynx(42,25),t.YNc(43,ft,2,0,"th",17),t.YNc(44,ht,2,1,"td",18),t.BQk(),t.ynx(45,26),t.YNc(46,_t,2,0,"th",17),t.YNc(47,Ct,30,1,"td",18),t.BQk(),t.YNc(48,Tt,1,0,"tr",27),t.YNc(49,xt,1,0,"tr",28),t.qZA(),t._UZ(50,"mat-paginator",29,30),t.qZA()()()),2&i&&(t.xp6(5),t.Q6J("routerLink","./.."),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:chevron-left"),t.xp6(9),t.Q6J("color","primary"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:pencil-alt"),t.xp6(4),t.Q6J("dataSource",r.dataSource),t.xp6(28),t.Q6J("matHeaderRowDef",r.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",r.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(9,vt))("pageSize",10))},dependencies:[u.JJ,u.On,_.lW,_.RK,f.Hw,h.VK,h.OP,h.p6,d.BZ,d.fO,d.as,d.w1,d.Dz,d.nj,d.ge,d.ev,d.XQ,d.Gk,P.O5,Z.NW,k.Rr,S.gM,w.rH,P.JJ],styles:[".green-toggle[_ngcontent-%COMP%]   .mat-slide-toggle-bar[_ngcontent-%COMP%], .green-toggle[_ngcontent-%COMP%]   .mat-slide-toggle-thumb[_ngcontent-%COMP%]{background-color:#4caf50}"]})}return e})();var v=s(59549),A=s(284),N=s(85804),Y=s(84385),L=s(56709),Pt=s(73162),At=s(3238),yt=s(96308),wt=s(44466),Dt=s(36838),bt=s(99602);const Ut=[{path:"",component:Zt}];let kt=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275mod=t.oAB({type:e});static#o=this.\u0275inj=t.cJS({imports:[u.u5,_.ot,v.lN,f.Ps,A.c,u.u5,u.UX,N.J,h.Tx,u.u5,d.p0,P.ez,f.Ps,v.lN,_.ot,v.lN,f.Ps,A.c,u.u5,u.UX,N.J,h.Tx,Y.LD,f.Ps,L.p9,_.ot,L.p9,v.lN,f.Ps,A.c,h.Tx,Z.TU,Pt.Cv,At.si,yt.JX,Y.LD,k.rP,S.AV,wt.m,g.Is,Dt.FF,bt.FA,w.Bz.forChild(Ut)]})}return e})()}}]);