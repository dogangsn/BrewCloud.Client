"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[8698],{63225:(J,C,a)=>{a.d(C,{R:()=>c});var h=a(51723),n=a(94650),f=a(76717);let c=(()=>{class m{constructor(d){this._httpService=d}getSuppliersList(){return this._httpService.getRequest(h.z.suppliers.suppliersList)}createSuppliers(d){return this._httpService.post(h.z.suppliers.Createsuppliers,d)}deleteSuppliers(d){return this._httpService.post(h.z.suppliers.Deletesuppliers,d)}updateSuppliers(d){return this._httpService.post(h.z.suppliers.Updatesuppliers,d)}static#t=this.\u0275fac=function(T){return new(T||m)(n.LFG(f.O))};static#e=this.\u0275prov=n.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})()},48698:(J,C,a)=>{a.r(C),a.d(C,{SuppliersModule:()=>ct});var h=a(89299),n=a(24006),f=a(4859),c=a(59549),m=a(97392),_=a(284),d=a(85804),T=a(28255),p=a(30671),N=a(70487),b=a(45263),A=a(69079),Z=a(65412);class V{constructor(l="",e="",s="",o=!1,r="",u,g="",v="",S="",U=""){this.supplierName=l,this.email=e,this.phone=s,this.active=o,this.adress=r,this.invoiceType=u,this.companyName=g,this.webSite=v,this.taxOffice=S,this.taxNumber=U}}var x=(()=>{return(i=x||(x={}))[i.Institutional=1]="Institutional",i[i.Individual=2]="Individual",x;var i})();class k{constructor(l,e,s,o,r,u="",g,v="",S="",U="",dt=""){this.id=l,this.suppliername=e,this.email=s,this.phone=o,this.active=r,this.adress=u,this.invoiceType=g,this.companyName=v,this.webSite=S,this.taxOffice=U,this.taxNumber=dt}}var t=a(94650),F=a(63225),Q=a(30430),O=a(39349),y=a(36895),w=a(56709),D=a(71948);function Y(i,l){1&i&&(t.TgZ(0,"span"),t._uU(1,"Tedarik\xe7i Ekle"),t.qZA())}function M(i,l){1&i&&(t.TgZ(0,"span"),t._uU(1,"Tedarik\xe7i G\xfcncelle"),t.qZA())}function R(i,l){if(1&i&&(t.TgZ(0,"mat-radio-button",31),t._uU(1),t.qZA()),2&i){const e=l.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}let B=(()=>{class i{constructor(e,s,o,r,u){this._dialogRef=e,this._formBuilder=s,this._Suppliers=o,this._translocoService=r,this.data=u,this.buttonDisabled=!1,this.states=["Kurumsal","Bireysel"],this.selectedsuppliers=u}ngOnInit(){this.suppliers=this._formBuilder.group({suppliername:["",n.kI.required],email:["",n.kI.required],phone:["",n.kI.required],active:[!0],address:[""],selectedState:[this.states[0]],companyName:[""],webSite:[""],taxOffice:[""],taxNumber:[""]}),this.fillFormData(this.selectedsuppliers)}fillFormData(e){null!==this.selectedsuppliers&&this.suppliers.setValue({suppliername:e.suppliername,email:e.email,phone:e.phone,active:e.active,address:e.adress,selectedState:1===e.invoiceType?"Kurumsal":"Bireysel",companyName:e.companyName,webSite:e.webSite,taxOffice:e.taxOffice,taxNumber:e.taxNumber})}closeDialog(){this._dialogRef.close({status:null})}addOrUpdateStore(){this.buttonDisabled=!0,this.selectedsuppliers?this.updateSupplier():this.addsuppliers()}updateSupplier(){const e=new k(this.selectedsuppliers.id,this.getFormValueByName("suppliername"),this.getFormValueByName("email"),this.getFormValueByName("phone"),this.getFormValueByName("active"),this.getFormValueByName("address"),"Kurumsal"===this.getFormValueByName("selectedState")?x.Institutional:x.Individual,this.getFormValueByName("companyName"),this.getFormValueByName("webSite"),this.getFormValueByName("taxOffice"),this.getFormValueByName("taxNumber"));this._Suppliers.updateSuppliers(e).subscribe(s=>{s.isSuccessful?(this.showSweetAlert("success"),this._dialogRef.close({status:!0})):this.showSweetAlert("error")},s=>{console.log(s)})}addsuppliers(){const e=new V(this.getFormValueByName("suppliername"),this.getFormValueByName("email"),this.getFormValueByName("phone"),this.getFormValueByName("active"),this.getFormValueByName("address"),"Kurumsal"===this.getFormValueByName("selectedState")?x.Institutional:x.Individual,this.getFormValueByName("companyName"),this.getFormValueByName("webSite"),this.getFormValueByName("taxOffice"),this.getFormValueByName("taxNumber"));this._Suppliers.createSuppliers(e).subscribe(s=>{s.isSuccessful?(this.showSweetAlert("success"),this._dialogRef.close({status:!0})):(this.showSweetAlert("error"),this.buttonDisabled=!1)},s=>{console.log(s),this.buttonDisabled=!1})}getFormValueByName(e){return this.suppliers.get(e).value}showSweetAlert(e){if("success"===e){const s=new N.c(this.translate("sweetalert.success"),this.translate("sweetalert.transactionSuccessful"),A.p.success);b.m.sweetAlert(s)}else{const s=new N.c(this.translate("sweetalert.error"),this.translate("sweetalert.transactionFailed"),A.p.error);b.m.sweetAlert(s)}}translate(e){return this._translocoService.translate(e)}formatPhoneNumber(e){const s=e.replace(/\D/g,"");let o="";s.length>0&&(o+="("+s.substring(0,3)+")"),s.length>3&&(o+=" "+s.substring(3,6)),s.length>6&&(o+="-"+s.substring(6,10)),this.suppliers.get("phone").setValue(o)}static#t=this.\u0275fac=function(s){return new(s||i)(t.Y36(Z.so),t.Y36(n.qu),t.Y36(F.R),t.Y36(Q.Vn),t.Y36(Z.WI))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-create-edit-suppliers-dialog"]],decls:70,vars:25,consts:[["mat-dialog-title","",1,"mat-dialog-title"],[1,"dialog-close-button",3,"tabIndex","click"],[1,"material-icons"],[1,"modalForm"],[1,"modal-header"],[1,"modal-title"],[4,"ngIf"],[1,"modal-body","mbody-productcategory"],[1,"qm-pr-content"],[1,"container-fluid",3,"formGroup"],[1,"row"],[1,"flex","flex-col","gt-sm:flex-row"],[1,"flex","flex-col"],[1,"mb-2",3,"checked","formControlName","color"],[1,"float",":","left","flex","gt-xs:flex-row"],[1,"flex-auto","gt-xs:pl-3"],["matInput","",3,"formControlName"],["matSuffix","",1,"icon-size-5",3,"svgIcon"],[1,"ml-5","flex-auto","gt-xs:pl-3"],["placeholder","(555) 555-5555","matInput","",3,"formControlName","input"],[1,"col-sm-12","mt-2","common-width"],[1,"flex-auto"],["matInput","","cdkTextareaAutosize","",3,"cdkAutosizeMinRows","formControlName"],["aria-labelledby","example-radio-group-label",1,"example-radio-group",3,"formControlName"],["class","example-radio-button",3,"value",4,"ngFor","ngForOf"],[2,"width","100%"],[1,"flex","flex-col","sm:flex-row","sm:items-center","justify-between","mt-4","sm:mt-6"],[1,"-ml-2"],[1,"flex","items-center","mt-4","sm:mt-0"],["mat-stroked-button","",1,"ml-auto","sm:ml-0",3,"click"],["mat-flat-button","",1,"order-first","sm:order-last",3,"color","disabled","click"],[1,"example-radio-button",3,"value"]],template:function(s,o){1&s&&(t.TgZ(0,"h1",0)(1,"button",1),t.NdJ("click",function(){return o.closeDialog()}),t.TgZ(2,"span",2),t._uU(3," highlight_off "),t.qZA()()(),t.TgZ(4,"div",3)(5,"mat-dialog-content")(6,"div",4)(7,"h5",5),t.YNc(8,Y,2,0,"span",6),t.YNc(9,M,2,0,"span",6),t.qZA()(),t.TgZ(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"mat-checkbox",13),t._uU(17," Durum "),t.qZA()()(),t.TgZ(18,"div",14)(19,"mat-form-field",15)(20,"mat-label"),t._uU(21,"Tedarik\xe7i Ad\u0131"),t.qZA(),t._UZ(22,"input",16)(23,"mat-icon",17),t.qZA(),t.TgZ(24,"mat-form-field",18)(25,"mat-label"),t._uU(26,"Website"),t.qZA(),t._UZ(27,"input",16)(28,"mat-icon",17),t.qZA()(),t.TgZ(29,"div",14)(30,"mat-form-field",15)(31,"mat-label"),t._uU(32,"E-Mail"),t.qZA(),t._UZ(33,"input",16)(34,"mat-icon",17),t.qZA(),t.TgZ(35,"mat-form-field",18)(36,"mat-label"),t._uU(37,"Telefon"),t.qZA(),t.TgZ(38,"input",19),t.NdJ("input",function(u){return o.formatPhoneNumber(u.target.value)}),t.qZA(),t._UZ(39,"mat-icon",17),t.qZA()(),t.TgZ(40,"div",20)(41,"mat-form-field",21)(42,"mat-label"),t._uU(43,"Adres"),t.qZA(),t._UZ(44,"textarea",22)(45,"mat-icon",17),t.qZA()(),t.TgZ(46,"div",14)(47,"mat-radio-group",23),t.YNc(48,R,2,2,"mat-radio-button",24),t.qZA()(),t.TgZ(49,"div",14)(50,"mat-form-field",15)(51,"mat-label"),t._uU(52,"Vergi numaras\u0131 / TC Kimlik No"),t.qZA(),t._UZ(53,"input",16),t.qZA(),t.TgZ(54,"mat-form-field",18)(55,"mat-label"),t._uU(56,"Firma Ad\u0131 / Ad\u0131 Soyad\u0131"),t.qZA(),t._UZ(57,"input",16),t.qZA()(),t.TgZ(58,"div",20)(59,"mat-form-field",25)(60,"mat-label"),t._uU(61,"Vergi Dairesi"),t.qZA(),t._UZ(62,"input",16),t.qZA()()()()(),t.TgZ(63,"div",26),t._UZ(64,"div",27),t.TgZ(65,"div",28)(66,"button",29),t.NdJ("click",function(){return o.closeDialog()}),t._uU(67," Vazge\xe7 "),t.qZA(),t.TgZ(68,"button",30),t.NdJ("click",function(){return o.addOrUpdateStore()}),t._uU(69," Kaydet "),t.qZA()()()()()()),2&s&&(t.xp6(1),t.Q6J("tabIndex",-1),t.xp6(7),t.Q6J("ngIf",!o.selectedsuppliers),t.xp6(1),t.Q6J("ngIf",o.selectedsuppliers),t.xp6(3),t.Q6J("formGroup",o.suppliers),t.xp6(4),t.Q6J("checked",!1)("formControlName","active")("color","primary"),t.xp6(6),t.Q6J("formControlName","suppliername"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:user-circle"),t.xp6(4),t.Q6J("formControlName","webSite"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:user-circle"),t.xp6(5),t.Q6J("formControlName","email"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:mail"),t.xp6(4),t.Q6J("formControlName","phone"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:phone"),t.xp6(5),t.Q6J("cdkAutosizeMinRows",3)("formControlName","address"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:location-marker"),t.xp6(2),t.Q6J("formControlName","selectedState"),t.xp6(1),t.Q6J("ngForOf",o.states),t.xp6(5),t.Q6J("formControlName","taxNumber"),t.xp6(4),t.Q6J("formControlName","companyName"),t.xp6(5),t.Q6J("formControlName","taxOffice"),t.xp6(6),t.Q6J("color","primary")("disabled",o.buttonDisabled))},dependencies:[n.Fj,n.JJ,n.JL,f.lW,c.KE,c.hX,c.R9,m.Hw,_.Nt,O.IC,n.sg,n.u,y.sg,y.O5,w.oG,Z.uh,Z.xY,D.VQ,D.U0]})}return i})();var z=a(87554),I=a(98739);const P=["paginator"];function q(i,l){1&i&&(t.TgZ(0,"th",27),t._uU(1," Tedarik\xe7i Ad\u0131 "),t.qZA())}function K(i,l){if(1&i&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&i){const e=l.$implicit;t.xp6(1),t.hij(" ",e.suppliername," ")}}function L(i,l){1&i&&(t.TgZ(0,"th",27),t._uU(1," E-Mail "),t.qZA())}function G(i,l){if(1&i&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&i){const e=l.$implicit;t.xp6(1),t.hij(" ",e.email," ")}}function H(i,l){1&i&&(t.TgZ(0,"th",27),t._uU(1," Telefon "),t.qZA())}function W(i,l){if(1&i&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&i){const e=l.$implicit;t.xp6(1),t.hij(" ",e.phone," ")}}function j(i,l){1&i&&(t.TgZ(0,"th",27),t._uU(1," Durumu "),t.qZA())}function $(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"td",28)(1,"mat-checkbox",29),t.NdJ("ngModelChange",function(o){const u=t.CHM(e).$implicit;return t.KtG(u.active=o)}),t.qZA()()}if(2&i){const e=l.$implicit;t.xp6(1),t.Q6J("ngModel",e.active)("disabled",!0)}}function X(i,l){1&i&&(t.TgZ(0,"th",27),t._uU(1," \u0130\u015flemler "),t.qZA())}function tt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"td",28)(1,"button",30),t.NdJ("click",function(){const r=t.CHM(e).$implicit,u=t.oxw();return t.KtG(u.redirectToUpdate(r.id))}),t.TgZ(2,"mat-icon",31),t._uU(3,"edit"),t.qZA()(),t.TgZ(4,"button",32),t.NdJ("click",function(){const r=t.CHM(e).$implicit,u=t.oxw();return t.KtG(u.redirectToDelete(r.id))}),t.TgZ(5,"mat-icon",33),t._uU(6,"delete"),t.qZA()()()}}function et(i,l){1&i&&t._UZ(0,"tr",34)}function it(i,l){1&i&&t._UZ(0,"tr",35)}const st=function(){return[5,10,20]};let at=(()=>{class i{constructor(e,s,o){this._dialog=e,this._suppliersService=s,this._translocoService=o,this.displayedColumns=["suppliername","email","phone","active","actions"],this.supplierscards=[],this.dataSource=new p.by(this.supplierscards),this.redirectToUpdate=r=>{this.isUpdateButtonActive=!0;const u=this.supplierscards.find(g=>g.id===r);u&&this._dialog.open(B,{maxWidth:"100vw !important",disableClose:!0,data:u}).afterClosed().subscribe(v=>{v.status&&this.getSuppliers()})},this.redirectToDelete=r=>{const u=new N.c(this.translate("sweetalert.areYouSure"),this.translate("sweetalert.areYouSureDelete"),A.p.warning);b.m.sweetAlertOfQuestion(u).then(g=>{if(g.isConfirmed){const v=new z.D(r);this._suppliersService.deleteSuppliers(v).subscribe(S=>{S.isSuccessful?(this.getSuppliers(),this.showSweetAlert("success")):this.showSweetAlert("error")},S=>{console.log(S)})}})}}ngOnInit(){this.getSuppliers()}getSuppliers(){this._suppliersService.getSuppliersList().subscribe(e=>{this.supplierscards=e.data,console.log(this.supplierscards),this.dataSource=new p.by(this.supplierscards),this.dataSource.paginator=this.paginator})}addPanelOpen(){this.isUpdateButtonActive=!1,this._dialog.open(B,{maxWidth:"100vw !important",disableClose:!0,data:null}).afterClosed().subscribe(s=>{s.status&&this.getSuppliers()})}showSweetAlert(e){if("success"===e){const s=new N.c(this.translate("sweetalert.success"),this.translate("sweetalert.transactionSuccessful"),A.p.success);b.m.sweetAlert(s)}else{const s=new N.c(this.translate("sweetalert.error"),this.translate("sweetalert.transactionFailed"),A.p.error);b.m.sweetAlert(s)}}translate(e){return this._translocoService.translate(e)}static#t=this.\u0275fac=function(s){return new(s||i)(t.Y36(Z.uw),t.Y36(F.R),t.Y36(Q.Vn))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-suppliers"]],viewQuery:function(s,o){if(1&s&&t.Gf(P,5),2&s){let r;t.iGM(r=t.CRH())&&(o.paginator=r.first)}},decls:40,vars:10,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex","flex-col","sm:flex-row","flex-0","sm:items-center","sm:justify-between","p-6","pb-22","sm:pt-12","sm:pb-28","sm:px-10","bg-default","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1"],[1,"mt-2"],[1,"text-3xl","md:text-4xl","font-extrabold","tracking-tight","leading-7","sm:leading-10","truncate"],[1,"font-medium","tracking-tight","text-secondary"],[1,"flex","shrink-0","items-center","mt-6","sm:mt-0","sm:ml-4"],["mat-flat-button","",1,"ml-3",3,"color","click"],[1,"icon-size-5","mr-2",3,"svgIcon"],[1,"flex-auto","-mt-16","p-6","sm:p-10","rounded-t-2xl","shadow","bg-card"],[1,"mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","suppliername"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["matColumnDef","phone"],["matColumnDef","active"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions","pageSize"],["paginator",""],["mat-header-cell",""],["mat-cell",""],[3,"ngModel","disabled","ngModelChange"],["mat-icon-button","","color","accent",3,"click"],["aria-label","Edit"],["mat-icon-button","","color","warn",3,"click"],[1,"mat-18"],["mat-header-row",""],["mat-row",""]],template:function(s,o){1&s&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"a",4),t._UZ(6,"mat-icon",5),t.TgZ(7,"span",6),t._uU(8,"Back"),t.qZA()()()(),t.TgZ(9,"div",7)(10,"h2",8),t._uU(11," Tedarik\xe7iler "),t.qZA()(),t.TgZ(12,"div",9),t._uU(13,"Malzeme firma bilgileri"),t.qZA()(),t.TgZ(14,"div",10)(15,"button",11),t.NdJ("click",function(){return o.addPanelOpen()}),t._UZ(16,"mat-icon",12),t._uU(17," Yeni Tedarik\xe7i Ekle "),t.qZA()()(),t.TgZ(18,"div",13)(19,"div",14)(20,"table",15),t.ynx(21,16),t.YNc(22,q,2,0,"th",17),t.YNc(23,K,2,1,"td",18),t.BQk(),t.ynx(24,19),t.YNc(25,L,2,0,"th",17),t.YNc(26,G,2,1,"td",18),t.BQk(),t.ynx(27,20),t.YNc(28,H,2,0,"th",17),t.YNc(29,W,2,1,"td",18),t.BQk(),t.ynx(30,21),t.YNc(31,j,2,0,"th",17),t.YNc(32,$,2,2,"td",18),t.BQk(),t.ynx(33,22),t.YNc(34,X,2,0,"th",17),t.YNc(35,tt,7,0,"td",18),t.BQk(),t.YNc(36,et,1,0,"tr",23),t.YNc(37,it,1,0,"tr",24),t.qZA(),t._UZ(38,"mat-paginator",25,26),t.qZA()()()),2&s&&(t.xp6(5),t.Q6J("routerLink","./.."),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:chevron-left"),t.xp6(9),t.Q6J("color","primary"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:link"),t.xp6(4),t.Q6J("dataSource",o.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(9,st))("pageSize",10))},dependencies:[n.JJ,n.On,f.lW,f.RK,m.Hw,p.BZ,p.fO,p.as,p.w1,p.Dz,p.nj,p.ge,p.ev,p.XQ,p.Gk,w.oG,I.NW,h.rH]})}return i})();var E=a(84385),ot=a(73162),lt=a(3238),rt=a(96308),nt=a(90455),ut=a(10266),mt=a(44466);const pt=[{path:"",component:at}];let ct=(()=>{class i{static#t=this.\u0275fac=function(s){return new(s||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[n.u5,f.ot,c.lN,m.Ps,_.c,n.u5,n.UX,d.J,T.Tx,n.u5,p.p0,y.ez,m.Ps,c.lN,f.ot,c.lN,m.Ps,_.c,n.u5,n.UX,d.J,T.Tx,E.LD,m.Ps,w.p9,f.ot,w.p9,c.lN,m.Ps,_.c,T.Tx,I.TU,ot.Cv,lt.si,rt.JX,E.LD,nt.rP,ut.AV,mt.m,Z.Is,D.Fk,h.Bz.forChild(pt)]})}return i})()},70487:(J,C,a)=>{a.d(C,{c:()=>h});class h{constructor(f,c,m){this.title=f,this.text=c,this.icon=m}}}}]);