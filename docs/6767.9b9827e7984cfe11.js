"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[6767],{3191:(B,S,m)=>{m.d(S,{x:()=>_});var x=m(51723),r=m(94650),p=m(76717);let _=(()=>{class u{constructor(c){this._httpService=c}getAnimalColorsDefList(){return this._httpService.getRequest(x.z.animalColorsDef.animalColorsDefList)}createCreateAnimalColorsDef(c){return this._httpService.post(x.z.animalColorsDef.CreateAnimalColorsDef,c)}static#t=this.\u0275fac=function(t){return new(t||u)(r.LFG(p.O))};static#e=this.\u0275prov=r.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})()},4558:(B,S,m)=>{m.d(S,{J:()=>_});var x=m(51723),r=m(94650),p=m(76717);let _=(()=>{class u{constructor(c){this._httpService=c}getcustomerGroupList(){return this._httpService.getRequest(x.z.customergroup.customerGroupList)}createcustomerGroupDef(c){return this._httpService.post(x.z.customergroup.createCustomerGroupDef,c)}updatecustomerGroupDef(c){return this._httpService.post(x.z.customergroup.updateCustomerGroupDef,c)}deletedcustomerGroupDef(c){return this._httpService.post(x.z.customergroup.deleteCustomerGroupDef,c)}static#t=this.\u0275fac=function(t){return new(t||u)(r.LFG(p.O))};static#e=this.\u0275prov=r.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})()},19918:(B,S,m)=>{m.d(S,{b:()=>_});var x=m(51723),r=m(94650),p=m(76717);let _=(()=>{class u{constructor(c){this._httpService=c}getPaymentMethodsList(){return this._httpService.getRequest(x.z.paymentmethods.paymentmethodsList)}creatPaymentMethods(c){return this._httpService.post(x.z.paymentmethods.createPaymentMethods,c)}updatePaymentMethods(c){return this._httpService.post(x.z.paymentmethods.updatePaymentMethods,c)}deletedPaymentMethods(c){return this._httpService.post(x.z.paymentmethods.deletePaymentMethods,c)}static#t=this.\u0275fac=function(t){return new(t||u)(r.LFG(p.O))};static#e=this.\u0275prov=r.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})()},33822:(B,S,m)=>{m.d(S,{X:()=>_});var x=m(51723),r=m(94650),p=m(76717);let _=(()=>{class u{constructor(c){this._httpService=c}getUnitsList(){return this._httpService.getRequest(x.z.units.unitsList)}createUnits(c){return this._httpService.post(x.z.units.createUnits,c)}updateUnits(c){return this._httpService.post(x.z.units.updateUnits,c)}deleteUnits(c){return this._httpService.post(x.z.units.deleteUnits,c)}static#t=this.\u0275fac=function(t){return new(t||u)(r.LFG(p.O))};static#e=this.\u0275prov=r.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})()},38064:(B,S,m)=>{m.d(S,{O:()=>_});var x=m(51723),r=m(94650),p=m(76717);let _=(()=>{class u{constructor(c){this._httpService=c}getAccomodationList(c){return this._httpService.post(x.z.pethotels.getAccomodationList,c)}createAccommodation(c){return this._httpService.post(x.z.pethotels.createAccommodation,c)}deleteAccomodation(c){return this._httpService.post(x.z.pethotels.deleteAccomodation,c)}static#t=this.\u0275fac=function(t){return new(t||u)(r.LFG(p.O))};static#e=this.\u0275prov=r.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})()},40182:(B,S,m)=>{m.d(S,{I:()=>_});var x=m(51723),r=m(94650),p=m(76717);let _=(()=>{class u{constructor(c){this._httpService=c}getBuySaleList(c){return this._httpService.post(x.z.saleBuy.saleBuyList,c)}getBuySaleFilterList(c){return this._httpService.post(x.z.saleBuy.saleBuyFilter,c)}createSaleBuy(c){return this._httpService.post(x.z.saleBuy.createSaleBuy,c)}deletedSaleBuy(c){return this._httpService.post(x.z.saleBuy.deleteSaleBuy,c)}updateSaleBuy(c){return this._httpService.post(x.z.saleBuy.updateSaleBuy,c)}static#t=this.\u0275fac=function(t){return new(t||u)(r.LFG(p.O))};static#e=this.\u0275prov=r.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})()},96829:(B,S,m)=>{m.d(S,{s:()=>_});var x=m(51723),r=m(94650),p=m(76717);let _=(()=>{class u{constructor(c){this._httpService=c}getPatientVaccineList(c){return this._httpService.post(x.z.vaccineCalendar.patientVaccineList,c)}createVaccineExaminations(c){return this._httpService.post(x.z.vaccineCalendar.createVaccineExaminations,c)}updateVaccine(c){return this._httpService.post(x.z.vaccine.updateVaccine,c)}deletePatientVaccine(c){return this._httpService.post(x.z.vaccineCalendar.deletePatientVaccine,c)}static#t=this.\u0275fac=function(t){return new(t||u)(r.LFG(p.O))};static#e=this.\u0275prov=r.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})()},19075:(B,S,m)=>{m.d(S,{l:()=>U});var x=m(65412),r=m(24006),p=m(70487),_=m(45263),u=m(69079);class h{constructor(I){this.name=I}}var c=m(94650),t=m(30430),d=m(3191),M=m(36895),G=m(4859),$=m(59549),y=m(97392),J=m(284);function P(Q,I){1&Q&&(c.TgZ(0,"span"),c._uU(1,"Renk Ekle"),c.qZA())}function j(Q,I){1&Q&&(c.TgZ(0,"span"),c._uU(1,"Renk G\xfcncelle"),c.qZA())}let U=(()=>{class Q{constructor(v,T,w,q,D){this._dialogRef=v,this._formBuilder=T,this._translocoService=w,this._animalColorDefService=q,this.data=D,this.buttonDisabled=!1,this.selectedanimalColors=D}ngOnInit(){this.animalcolors=this._formBuilder.group({name:["",r.kI.required]}),this.fillFormData(this.selectedanimalColors)}fillFormData(v){null!==this.selectedanimalColors&&this.animalcolors.setValue({name:v.name})}closeDialog(){this._dialogRef.close({status:null})}addOrUpdateAnimalColors(){this.buttonDisabled=!0,this.selectedanimalColors?this.updateAnimalColors():this.addAnimalColors()}updateAnimalColors(){}addAnimalColors(){const v=new h(this.getFormValueByName("name"));this._animalColorDefService.createCreateAnimalColorsDef(v).subscribe(T=>{T.isSuccessful?(this.showSweetAlert("success"),this._dialogRef.close({status:!0})):this.showSweetAlert("error")},T=>{console.log(T)})}getFormValueByName(v){return this.animalcolors.get(v).value}showSweetAlert(v){if("success"===v){const T=new p.c(this.translate("sweetalert.success"),this.translate("sweetalert.transactionSuccessful"),u.p.success);_.m.sweetAlert(T)}else{const T=new p.c(this.translate("sweetalert.error"),this.translate("sweetalert.transactionFailed"),u.p.error);_.m.sweetAlert(T)}}translate(v){return this._translocoService.translate(v)}static#t=this.\u0275fac=function(T){return new(T||Q)(c.Y36(x.so),c.Y36(r.qu),c.Y36(t.Vn),c.Y36(d.x),c.Y36(x.WI))};static#e=this.\u0275cmp=c.Xpm({type:Q,selectors:[["app-create-edit-animalscolor"]],decls:34,vars:11,consts:[["mat-dialog-title","",1,"mat-dialog-title"],[1,"dialog-close-button",3,"tabIndex","click"],[1,"material-icons"],[1,"modalForm"],[1,"modal-header"],[1,"modal-title"],[4,"ngIf"],[1,"modal-body","mbody-animalColors"],[1,"qm-pr-content"],[1,"container-fluid",3,"formGroup"],[1,"row"],[1,"col-sm-12","mt-2","common-width"],[2,"width","100%"],["matInput","",3,"formControlName"],[1,"flex","flex-col","sm:flex-row","sm:items-center","justify-between","mt-4","sm:mt-6"],[1,"-ml-2"],["mat-icon-button",""],[1,"icon-size-5",3,"svgIcon"],[1,"flex","items-center","mt-4","sm:mt-0"],["mat-stroked-button","",1,"ml-auto","sm:ml-0",3,"click"],["mat-flat-button","",1,"order-first","sm:order-last",3,"color","disabled","click"]],template:function(T,w){1&T&&(c.TgZ(0,"h1",0)(1,"button",1),c.NdJ("click",function(){return w.closeDialog()}),c.TgZ(2,"span",2),c._uU(3," highlight_off "),c.qZA()()(),c.TgZ(4,"div",3)(5,"mat-dialog-content")(6,"div",4)(7,"h5",5),c.YNc(8,P,2,0,"span",6),c.YNc(9,j,2,0,"span",6),c.qZA()(),c.TgZ(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"mat-form-field",12)(16,"mat-label"),c._uU(17,"Renk Ad\u0131"),c.qZA(),c._UZ(18,"input",13),c.qZA()()()()(),c.TgZ(19,"div",14)(20,"div",15)(21,"button",16),c._UZ(22,"mat-icon",17),c.qZA(),c.TgZ(23,"button",16),c._UZ(24,"mat-icon",17),c.qZA(),c.TgZ(25,"button",16),c._UZ(26,"mat-icon",17),c.qZA(),c.TgZ(27,"button",16),c._UZ(28,"mat-icon",17),c.qZA()(),c.TgZ(29,"div",18)(30,"button",19),c.NdJ("click",function(){return w.closeDialog()}),c._uU(31," Vazge\xe7 "),c.qZA(),c.TgZ(32,"button",20),c.NdJ("click",function(){return w.addOrUpdateAnimalColors()}),c._uU(33," Kaydet "),c.qZA()()()()()()),2&T&&(c.xp6(1),c.Q6J("tabIndex",-1),c.xp6(7),c.Q6J("ngIf",!w.selectedanimalColors),c.xp6(1),c.Q6J("ngIf",w.selectedanimalColors),c.xp6(3),c.Q6J("formGroup",w.animalcolors),c.xp6(6),c.Q6J("formControlName","name"),c.xp6(4),c.Q6J("svgIcon","heroicons_solid:paper-clip"),c.xp6(2),c.Q6J("svgIcon","heroicons_solid:link"),c.xp6(2),c.Q6J("svgIcon","heroicons_solid:emoji-happy"),c.xp6(2),c.Q6J("svgIcon","heroicons_solid:photograph"),c.xp6(4),c.Q6J("color","primary")("disabled",w.buttonDisabled))},dependencies:[M.O5,x.uh,x.xY,G.lW,G.RK,$.KE,$.hX,y.Hw,J.Nt,r.Fj,r.JJ,r.JL,r.sg,r.u]})}return Q})()},56878:(B,S,m)=>{m.d(S,{q:()=>r});var x=m(94650);let r=(()=>{class p{constructor(){}setCustomerId(u){this.customerId=u}getCustomerId(){return this.customerId}setPatientId(u){this.patientId=u}getPatientId(){return this.patientId}static#t=this.\u0275fac=function(h){return new(h||p)};static#e=this.\u0275prov=x.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})()},6767:(B,S,m)=>{m.r(S),m.d(S,{CustomerListModule:()=>Ms});var x=m(89299),r=m(30671),p=m(65412),_=m(70487),u=m(69079),h=m(45263),c=m(28597),t=m(94650),d=m(24006),M=m(51588),G=m(15439),$=m.n(G),y=m(3238),J=m(88492),P=m(86257),j=m(33822),U=m(30430),Q=m(3191),I=m(49345),v=m(4859),T=m(59549),w=m(97392),q=m(284),D=m(36895),F=m(84385),V=m(56709),W=m(90455),Y=m(99602);function bt(i,n){1&i&&(t.TgZ(0,"span"),t._uU(1,"Hasta G\xfcncelle"),t.qZA())}function At(i,n){1&i&&(t.TgZ(0,"span"),t._uU(1,"Hasta Ekle"),t.qZA())}function Dt(i,n){if(1&i&&(t.ynx(0),t._UZ(1,"img",49),t.BQk()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("src",e.selectedPatientDetailsForm.get("images").value[e.selectedPatientDetailsForm.get("currentImageIndex").value],t.LSH)}}function wt(i,n){1&i&&(t.TgZ(0,"span",50),t._uU(1,"NO IMAGE"),t.qZA())}function yt(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",51)(1,"button",52),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.cycleImages(!1))}),t._UZ(2,"mat-icon",44),t.qZA(),t.TgZ(3,"span",53),t._uU(4),t.qZA(),t.TgZ(5,"button",52),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.cycleImages(!0))}),t._UZ(6,"mat-icon",44),t.qZA()()}if(2&i){const e=t.oxw(2);t.xp6(2),t.Q6J("svgIcon","heroicons_solid:arrow-narrow-left"),t.xp6(2),t.AsE(" ",e.selectedPatientDetailsForm.get("currentImageIndex").value+1," of ",e.selectedPatientDetailsForm.get("images").value.length," "),t.xp6(2),t.Q6J("svgIcon","heroicons_solid:arrow-narrow-right")}}function Nt(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"mat-option",54),t._uU(2),t.qZA(),t.BQk()),2&i){const e=n.$implicit;t.xp6(1),t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function St(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"mat-option",54),t._uU(2),t.qZA(),t.BQk()),2&i){const e=n.$implicit;t.xp6(1),t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function Ut(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"mat-option",54),t._uU(2),t.qZA(),t.BQk()),2&i){const e=n.$implicit;t.xp6(1),t.Q6J("value",e.type),t.xp6(1),t.hij(" ",e.name," ")}}function It(i,n){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"mat-checkbox",56),t.NdJ("change",function(o){const l=t.CHM(e).$implicit,C=t.oxw(3);return t.KtG(C.toggleProductTag(l,o))}),t._uU(2),t.qZA(),t.BQk()}if(2&i){const e=n.$implicit;t.xp6(1),t.Q6J("color","primary"),t.xp6(1),t.hij(" ",e.breedName," ")}}function qt(i,n){if(1&i&&(t.ynx(0),t.YNc(1,It,3,2,"ng-container",55),t.BQk()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.filteredTags)("ngForTrackBy",e.trackByFn)}}function kt(i,n){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"mat-form-field",58)(2,"input",59),t.NdJ("input",function(o){const l=t.CHM(e).$implicit,C=t.oxw(3);return t.KtG(C.updateTagTitle(l,o))}),t.qZA(),t.TgZ(3,"button",60),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw(3);return t.KtG(l.deleteTag(s))}),t._UZ(4,"mat-icon",44),t.qZA()(),t.BQk()}if(2&i){const e=n.$implicit;t.xp6(1),t.Q6J("subscriptSizing","dynamic"),t.xp6(1),t.Q6J("value",e.breedName),t.xp6(2),t.Q6J("svgIcon","heroicons_solid:trash")}}function Yt(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"div",57),t.YNc(2,kt,5,3,"ng-container",55),t.qZA(),t.BQk()),2&i){const e=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",e.filteredTags)("ngForTrackBy",e.trackByFn)}}function Jt(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"button",66),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.patientBack())}),t._uU(1," Back "),t.qZA()}}function Qt(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"button",67),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.patientBack())}),t._uU(1," Next "),t.qZA()}}function Ft(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"button",68),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.addOrUpdatePatients())}),t._uU(1," Bitir "),t.qZA()}if(2&i){const e=t.oxw(3);t.Q6J("disabled",e.selectedPatientDetailsForm.get("name").invalid||e.selectedPatientDetailsForm.get("birthDate").invalid||e.selectedPatientDetailsForm.get("sex").invalid)}}function Et(i,n){if(1&i&&(t.ynx(0,61),t.TgZ(1,"div",62),t.YNc(2,Jt,2,0,"button",63),t.YNc(3,Qt,2,0,"button",64),t.YNc(4,Ft,2,1,"button",65),t.qZA(),t.BQk()),2&i){const e=t.oxw(2);t.xp6(2),t.Q6J("ngIf",0!=e.stepIndex),t.xp6(1),t.Q6J("ngIf",e.stepIndex<e.patientSteps.length-1&&e.patientSteps.length>1),t.xp6(1),t.Q6J("ngIf",e.stepIndex==e.patientSteps.length-1)}}function Bt(i,n){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"mat-step",10)(2,"div",11)(3,"div",12)(4,"form",13)(5,"div",14)(6,"div",15)(7,"div",16)(8,"div",17),t.YNc(9,Dt,2,1,"ng-container",18),t.YNc(10,wt,2,0,"ng-template",null,19,t.W1O),t.qZA(),t.YNc(12,yt,7,4,"div",20),t.qZA(),t.TgZ(13,"div",21)(14,"span",22),t._uU(15,"K\u0131s\u0131rla\u015ft\u0131r\u0131lm\u0131\u015f"),t.qZA(),t.TgZ(16,"mat-slide-toggle",23),t._uU(17),t.qZA()()(),t.TgZ(18,"div",24)(19,"div",25)(20,"mat-form-field",26)(21,"mat-label"),t._uU(22,"Hasta Ad\u0131"),t.qZA(),t._UZ(23,"input",27),t.qZA(),t.TgZ(24,"div",28)(25,"mat-form-field",29)(26,"mat-label"),t._uU(27,"\xc7ip Numaras\u0131"),t.qZA(),t._UZ(28,"input",30),t.qZA(),t.TgZ(29,"mat-form-field",31)(30,"mat-label"),t._uU(31,"Karne/K\xfcpe Numaras\u0131"),t.qZA(),t._UZ(32,"input",30),t.qZA()(),t.TgZ(33,"div",28)(34,"mat-form-field",29)(35,"mat-label"),t._uU(36,"Do\u011fum Tarihi"),t.qZA(),t._UZ(37,"input",32)(38,"mat-datepicker-toggle",33)(39,"mat-datepicker",null,34),t.qZA(),t.TgZ(41,"mat-form-field",35)(42,"mat-label"),t._uU(43,"Rengi"),t.qZA(),t.TgZ(44,"mat-select",36),t.YNc(45,Nt,3,2,"ng-container",9),t.qZA()()(),t.TgZ(46,"div",28)(47,"mat-form-field",37)(48,"mat-label"),t._uU(49,"Hasta \xd6zel Durumu"),t.qZA(),t._UZ(50,"textarea",30),t.qZA()()(),t.TgZ(51,"div",38)(52,"mat-form-field",26)(53,"mat-label"),t._uU(54,"Cinsiyeti"),t.qZA(),t.TgZ(55,"mat-select",36),t.YNc(56,St,3,2,"ng-container",9),t.qZA()()(),t.TgZ(57,"div",38)(58,"mat-form-field",26)(59,"mat-label"),t._uU(60,"T\xfcr"),t.qZA(),t.TgZ(61,"mat-select",39),t.NdJ("selectionChange",function(o){t.CHM(e);const s=t.oxw();return t.KtG(s.filterTagsByVendor(o))}),t.YNc(62,Ut,3,2,"ng-container",9),t.qZA()(),t.TgZ(63,"span",40),t._uU(64,"Irk\u0131"),t.qZA(),t.TgZ(65,"div",41)(66,"div",42)(67,"div",43),t._UZ(68,"mat-icon",44),t.TgZ(69,"input",45,46),t.NdJ("input",function(o){t.CHM(e);const s=t.oxw();return t.KtG(s.filterTags(o))})("keydown",function(o){t.CHM(e);const s=t.oxw();return t.KtG(s.filterTagsInputKeyDown(o))}),t.qZA()()(),t.TgZ(71,"div",47),t.YNc(72,qt,2,2,"ng-container",6),t.YNc(73,Yt,3,2,"ng-container",6),t.qZA()()()()(),t.YNc(74,Et,5,3,"ng-container",48),t.qZA()()()(),t.BQk()}if(2&i){const e=n.index,a=t.MAs(11),o=t.MAs(40),s=t.oxw();t.xp6(1),t.Q6J("stepControl",s.selectedPatientDetailsForm)("label","Hasta "+(e+1)),t.xp6(3),t.Q6J("formGroup",s.selectedPatientDetailsForm),t.xp6(5),t.Q6J("ngIf",s.selectedPatientDetailsForm.get("images").value.length)("ngIfElse",a),t.xp6(3),t.Q6J("ngIf",s.selectedPatientDetailsForm.get("images").value.length),t.xp6(4),t.Q6J("formControlName","sterilization")("color","primary"),t.xp6(1),t.hij(" ",!0===s.selectedPatientDetailsForm.get("sterilization").value?"Evet":"Hay\u0131r"," "),t.xp6(6),t.Q6J("formControlName","name"),t.xp6(5),t.Q6J("formControlName","chipNumber"),t.xp6(4),t.Q6J("formControlName","reportNumber"),t.xp6(5),t.Q6J("matDatepicker",o)("formControlName","birthDate"),t.xp6(1),t.Q6J("for",o),t.xp6(6),t.Q6J("formControlName","animalColor"),t.xp6(1),t.Q6J("ngForOf",s.animalcolorDefList),t.xp6(5),t.Q6J("formControlName","specialNote"),t.xp6(5),t.Q6J("formControlName","sex"),t.xp6(1),t.Q6J("ngForOf",s.sextype),t.xp6(5),t.Q6J("formControlName","animalType"),t.xp6(1),t.Q6J("ngForOf",s.animalTypesList),t.xp6(6),t.Q6J("svgIcon","heroicons_solid:search"),t.xp6(1),t.Q6J("maxLength",50),t.xp6(3),t.Q6J("ngIf",!s.tagsEditMode),t.xp6(1),t.Q6J("ngIf",s.tagsEditMode),t.xp6(1),t.Q6J("ngIf",s.isLastStep())}}$();const Mt={parse:{dateInput:"DD/MM/YYYY"},display:{dateInput:"DD/MM/YYYY",monthYearLabel:"DDD MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"DDD MMMM YYYY"}};let Lt=(()=>{class i{constructor(e,a,o,s,l,C,f,Z,g){this._dialogRef=e,this._formBuilder=a,this._unitservice=o,this._translocoService=s,this._animalColorDefService=l,this._customerService=C,this.dialogRef=f,this.MatStepper=Z,this.tabCount=g,this.selectedpatients2=[],this.selectedImage=null,this.animalcolorDefList=[],this.animalTypesList=[],this.animalBreedsDef=[],this.patientSteps=[],this.tagsEditMode=!1,this.flashMessage=null,this.patients=[],this.modalKapatildi=new t.vpe}ngOnInit(){this.getAnimalColorsDefList(),this.getAnimalTypesList(),this.getAnimalBreedsDefList(),this.counter=parseInt(this.tabCount.count),this.counter||(this.counter=1);for(let e=0;e<this.counter;e++)this.patientSteps.push({step:"$i"});this.selectedPatientDetailsForm=this._formBuilder.group({id:[""],name:["",[d.kI.required]],birthDate:["",[d.kI.required]],chipNumber:[""],sex:[1,[d.kI.required]],animalType:["",[d.kI.required]],animalBreed:["",[d.kI.required]],animalColor:[""],reportNumber:[""],specialNote:[""],sterilization:[!1],images:[[]],active:[!1],isIndex:[0]}),this.fillFormData(this.selectedpatients),this.sextype=Pt,this.stepIndex=0}fillFormData(e){}addOrUpdatePatients(){this.selectedpatients2.length>0?(this.counter!==this.selectedpatients2.length&&(this.selectedpatients=this.selectedPatientDetailsForm.value,this.selectedpatients.id=(0,M.Z)(),this.patients.push(this.selectedpatients)),this.selectedpatients2.forEach(e=>{e.id=(0,M.Z)(),this.getBoolState(),this.patients.push(e)})):(this.selectedpatients=this.selectedPatientDetailsForm.value,this.selectedpatients.id=(0,M.Z)(),this.patients.push(this.selectedpatients)),this.addpatients()}getBoolState(){return!0}closeDialog(e){this._dialogRef.close({status:!!e,data:e})}addpatients(){this.modalKapatildi.emit(),this.closeDialog(this.patients)}checkInputValid(){return this.inputValid=!!(this.selectedPatientDetailsForm.get("name").valid&&this.selectedPatientDetailsForm.get("birthDate").valid&&this.selectedPatientDetailsForm.get("sex").valid),this.inputValid}patientNext(){(this.selectedPatientDetailsForm.get("name").valid||this.selectedPatientDetailsForm.get("birthDate").valid||this.selectedPatientDetailsForm.get("sex").valid)&&(this.selectedpatients=this.selectedPatientDetailsForm.value,this.patients.push(this.selectedpatients),this.stepIndex++)}patientBack(){}onStepChange(e){const a=e.selectedIndex,o=this.selectedPatientDetailsForm;null==this.selectedpatients2[this.stepIndex]?(this.selectedpatients2[this.stepIndex]=o.value,this.selectedpatients2[this.stepIndex].isIndex=this.stepIndex):(this.stepIndex==o.value.isIndex&&(this.selectedpatients2[this.stepIndex]=o.value,this.selectedpatients2[this.stepIndex].isIndex=this.stepIndex),this.selectedpatients2[this.stepIndex].isIndex==this.stepIndex&&(this.selectedPatientDetailsForm.patchValue(this.selectedpatients2[a]),this.stepIndex=e.selectedIndex,this.selectedpatients2[this.stepIndex]=this.selectedPatientDetailsForm.value,this.selectedpatients2[this.stepIndex].isIndex=this.stepIndex)),this.stepIndex=e.selectedIndex}updatepatients(){}getFormValueByName(e){return this.selectedPatientDetailsForm.get(e).value}isLastStep(){return this.patientSteps.length>0}finish(){}showSweetAlert(e){if("success"===e){const a=new _.c(this.translate("sweetalert.success"),this.translate("sweetalert.transactionSuccessful"),u.p.success);h.m.sweetAlert(a)}else{const a=new _.c(this.translate("sweetalert.error"),this.translate("sweetalert.transactionFailed"),u.p.error);h.m.sweetAlert(a)}}translate(e){return this._translocoService.translate(e)}onFileSelected(e){const a=e.target.files[0];if(a){const o=new FileReader;o.onload=s=>{this.selectedImage=s.target.result},o.readAsDataURL(a),this.selectedPatientDetailsForm.patchValue({images:[a]})}}filterTagsByVendor(e){const a=e.value;this.filteredTags=this.animalBreedsDef.filter(o=>o.animaltype==a)}filterTags(e){const a=e.target.value.toLowerCase();this.filteredTags=this.animalBreedsDef.filter(o=>o.breedName.toLowerCase().includes(a))}filterTagsInputKeyDown(e){"Enter"===e.key&&(0!==this.filteredTags.length||(e.target.value=""))}getAnimalColorsDefList(){this._animalColorDefService.getAnimalColorsDefList().subscribe(e=>{this.animalcolorDefList=e.data})}getAnimalTypesList(){this._customerService.getVetVetAnimalsType().subscribe(e=>{this.animalTypesList=e.data})}getAnimalBreedsDefList(){this._customerService.getAnimalBreedsDefList().subscribe(e=>{this.animalBreedsDef=e.data})}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(p.so),t.Y36(d.qu),t.Y36(j.X),t.Y36(U.Vn),t.Y36(Q.x),t.Y36(I.v),t.Y36(p.so),t.Y36(P.T5),t.Y36(p.WI))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-create-edit-patients-dialog"]],viewQuery:function(a,o){if(1&a&&t.Gf(P.Vq,5),2&a){let s;t.iGM(s=t.CRH())&&(o.stepper=s)}},outputs:{modalKapatildi:"modalKapatildi"},features:[t._Bn([{provide:y._A,useClass:J.t7,deps:[y.Ad,J.o8]},{provide:y.sG,useValue:Mt}])],decls:13,vars:4,consts:[["mat-dialog-title","",1,"mat-dialog-title"],[1,"dialog-close-button",3,"tabIndex","click"],[1,"material-icons"],[1,"modalForm"],[1,"modal-header"],[1,"modal-title"],[4,"ngIf"],[3,"selectionChange"],["stepper",""],[4,"ngFor","ngForOf"],[3,"stepControl","label"],[1,"modal-body","mbody-patients"],[1,"qm-pr-content"],[1,"flex","flex-col","w-full",3,"formGroup"],[1,"flex","flex-col","sm:flex-row","p-8"],[1,"flex","flex-col","items-center","sm:items-start","mb-8","sm:mb-0"],[1,"flex","flex-col","items-center"],[1,"w-32","h-44","border","rounded","overflow-hidden"],[4,"ngIf","ngIfElse"],["noImage",""],["class","flex items-center mt-2 whitespace-nowrap",4,"ngIf"],[1,"flex","flex-col","mt-8"],[1,"font-semibold","mb-2"],[3,"formControlName","color"],[1,"flex","flex-auto","flex-wrap"],[1,"flex","flex-col","w-full","lg:w-2/4","sm:pl-8"],[1,"w-full"],["matInput","","required","",3,"formControlName"],[1,"flex"],[1,"w-1/3","pr-2"],["matInput","",3,"formControlName"],[1,"w-2/3","pl-2"],["matInput","",3,"matDatepicker","formControlName"],["matIconSuffix","",3,"for"],["picker",""],[1,"w-1/3","pl-2"],[3,"formControlName"],[1,"w-1/6","pr-2"],[1,"flex","flex-col","w-full","lg:w-1/4","sm:pl-8"],[3,"formControlName","selectionChange"],[1,"mb-px","font-medium","leading-tight"],[1,"mt-1.5","rounded-md","border","border-gray-300","dark:border-gray-500","shadow-sm","overflow-hidden"],[1,"flex","items-center","-my-px","py-2","px-3"],[1,"flex","items-center","flex-auto","min-w-0"],[1,"icon-size-5",3,"svgIcon"],["type","text","placeholder","Enter tag name",1,"min-w-0","ml-2","py-1","border-0",3,"maxLength","input","keydown"],["newTagInput",""],[1,"h-56","leading-none","overflow-y-auto","border-t","border-gray-300","dark:border-gray-500"],["class","mt-2 h-full",4,"ngIf"],[1,"w-full","h-full","object-cover",3,"src"],[1,"flex","items-center","min-h-20","text-lg","font-semibold"],[1,"flex","items-center","mt-2","whitespace-nowrap"],["mat-icon-button","",3,"click"],[1,"font-sm","mx-2"],[3,"value"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","items-center","h-10","min-h-10","pl-1","pr-4",3,"color","change"],[1,"p-4","space-y-2"],[1,"fuse-mat-dense","w-full",3,"subscriptSizing"],["matInput","",3,"value","input"],["mat-icon-button","","matSuffix","",3,"click"],[1,"mt-2","h-full"],[1,"bottom-0"],["mat-button","","matStepperPrevious","","class","mr-3",3,"click",4,"ngIf"],["mat-button","","matStepperNext","","class","bg-primary text-white",3,"click",4,"ngIf"],["mat-button","","class","bg-primary text-white",3,"disabled","click",4,"ngIf"],["mat-button","","matStepperPrevious","",1,"mr-3",3,"click"],["mat-button","","matStepperNext","",1,"bg-primary","text-white",3,"click"],["mat-button","",1,"bg-primary","text-white",3,"disabled","click"]],template:function(a,o){1&a&&(t.TgZ(0,"h1",0)(1,"button",1),t.NdJ("click",function(){return o.closeDialog()}),t.TgZ(2,"span",2),t._uU(3," highlight_off "),t.qZA()()(),t.TgZ(4,"div",3)(5,"mat-dialog-content")(6,"div",4)(7,"h5",5),t.YNc(8,bt,2,0,"span",6),t.YNc(9,At,2,0,"span",6),t.qZA()(),t.TgZ(10,"mat-horizontal-stepper",7,8),t.NdJ("selectionChange",function(l){return o.onStepChange(l)}),t.YNc(12,Bt,75,27,"ng-container",9),t.qZA()()()),2&a&&(t.xp6(1),t.Q6J("tabIndex",-1),t.xp6(7),t.Q6J("ngIf",o.selectedpatients),t.xp6(1),t.Q6J("ngIf",!o.selectedpatients),t.xp6(3),t.Q6J("ngForOf",o.patientSteps))},dependencies:[d._Y,d.Fj,d.JJ,d.JL,d.Q7,v.lW,v.RK,T.KE,T.hX,T.R9,w.Hw,q.Nt,d.sg,d.u,D.sg,D.O5,F.gD,y.ey,V.oG,W.Rr,p.uh,p.xY,Y.Mq,Y.hl,Y.nW,P.C0,P.Vq,P.Ic,P.fd]})}return i})();const Pt=[{id:1,parentId:null,name:"Erkek",slug:"Erkek"},{id:2,parentId:null,name:"Di\u015fi",slug:"Di\u015fi"}];var X=m(4558);let Ot=(()=>{class i{constructor(){this.patientsVerileri=[]}setPatientsVerileri(e){this.patientsVerileri=e}getPatientsVerileri(){return this.patientsVerileri}static#t=this.\u0275fac=function(a){return new(a||i)};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var ct=m(39349);function Rt(i,n){1&i&&(t.TgZ(0,"span"),t._uU(1,"M\xfc\u015fteri G\xfcncelle"),t.qZA())}function Vt(i,n){1&i&&(t.TgZ(0,"span"),t._uU(1,"M\xfc\u015fteri Ekle"),t.qZA())}function Gt(i,n){if(1&i&&(t.TgZ(0,"mat-option",49),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",e.name),t.xp6(1),t.Oqu(e.name)}}function Ht(i,n){1&i&&(t.TgZ(0,"th",50),t._uU(1," Hasta \u0130smi"),t.qZA())}function zt(i,n){if(1&i&&(t.TgZ(0,"td",51),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function Kt(i,n){1&i&&(t.TgZ(0,"th",50),t._uU(1," \xc7ip Numaras\u0131"),t.qZA())}function $t(i,n){if(1&i&&(t.TgZ(0,"td",51),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e.chipNumber," ")}}function jt(i,n){1&i&&(t.TgZ(0,"th",50),t._uU(1," Do\u011fum Tarihi"),t.qZA())}function Wt(i,n){if(1&i&&(t.TgZ(0,"td",51),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.birthDate,"dd.MM.yyyy")," ")}}function Xt(i,n){1&i&&(t.TgZ(0,"th",50),t._uU(1,"\u0130\u015flemler"),t.qZA())}function te(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"td",51)(1,"button",52),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.redirectToDelete(s.id))}),t.TgZ(2,"mat-icon",53),t._uU(3,"delete"),t.qZA()()()}}function ee(i,n){1&i&&t._UZ(0,"tr",54)}function ie(i,n){1&i&&t._UZ(0,"tr",55)}let ae=(()=>{class i{constructor(e,a,o,s,l,C,f,Z,g,b){this._dialog=e,this._dialogRef=a,this._formBuilder=o,this._translocoService=s,this._customerService=l,this._customergroup=C,this.veriServisi=f,this.router=Z,this.route=g,this.data=b,this.displayedColumns=["name","chipNumber","birthDate","delete"],this.patientCount="",this.customers=new c.I,this.customergroupList=[],this.patients=[],this.dataSource=new r.by(this.patients)}ngOnInit(){this.getCustomerGroupList(),this.customeradd=this._formBuilder.group({firstName:[""],lastName:[""],phoneNumber:[""],phoneNumber2:[""],eMail:[""],taxOffice:[""],vKNTCNo:[""],note:[""],discountRate:[0],isEmail:!1,isPhone:!1,province:[""],district:[""],longAdress:[""]}),this.patientsAdd=this._formBuilder.group({count:[""]})}fillFormData(e){null!==this.selectedcustomeradd&&this.customeradd.setValue({})}getCustomerGroupList(){this._customergroup.getcustomerGroupList().subscribe(e=>{this.customergroupList=e.data})}redirectToDelete(e){this.dataSource.data=this.dataSource.data.filter(a=>a.id!==e),this.patients=this.patients.filter(a=>a.id!==e)}addOrUpdateCustomer(){this.selectedcustomeradd?this.updateCustomer():this.addCustomers()}closeDialog(){this._dialogRef.close({status:null})}addCustomers(){if(this.customeradd.invalid)return void this.showSweetAlert("error","Zorunlu Alanlar\u0131 Doldurunuz.");const e=this.getFormValueByName("isEmail"),a=this.getFormValueByName("isEmail");if(this.customers.isEmail=e,this.customers.isPhone=a,this.fillSelectedInvoice()){this.customers.PatientDetails.forEach(s=>{""==s.animalBreed.toString()&&(s.animalBreed=0),""==s.animalColor.toString()&&(s.animalColor=0),""==s.animalType.toString()&&(s.animalType=0),s.id="00000000-0000-0000-0000-000000000000",s.images=null});const o={createcustomers:this.customers};if(!this.phoneNumberValidator(this.customers.phoneNumber))return void this.showSweetAlert("error","Telefon Numaras\u0131 Alan Kodu Hatal\u0131. Kontrol Ediniz.");this._customerService.createCustomers(o).subscribe(s=>{if(s.isSuccessful){this._dialogRef.close({status:!0});const l=new _.c("Kay\u0131t \u0130\u015flemi Ger\xe7ekle\u015fti","M\xfc\u015fteri Detay Ekran\u0131na Y\xf6nlendirilmek \u0130ster Misiniz?",u.p.success);h.m.sweetAlertOfQuestion(l).then(C=>{C.isConfirmed&&this.router.navigate(["customerlist/customerdetails",s.data])})}else this.showSweetAlert("error",s.errors[0])},s=>{console.log(s)})}}fillSelectedInvoice(){const e=this.getFormValueByName("firstName");if(!e||null===e){const a=new _.c(this.translate("sweetalert.error"),this.translate("Hasta Sahibi Ad\u0131 Giriniz."),u.p.warning);return h.m.sweetAlert(a),!1}if(0==this.patients.length||null===this.patients){const a=new _.c(this.translate("sweetalert.error"),this.translate("Hasta Bilgisi Giriniz."),u.p.warning);return h.m.sweetAlert(a),!1}return this.customers.firstName=this.getFormValueByName("firstName"),this.customers.lastName=this.getFormValueByName("lastName"),this.customers.phoneNumber=this.getFormValueByName("phoneNumber"),this.customers.phoneNumber2=this.getFormValueByName("phoneNumber2"),this.customers.eMail=this.getFormValueByName("eMail"),this.customers.taxOffice=this.getFormValueByName("taxOffice"),this.customers.vKNTCNo=this.getFormValueByName("vKNTCNo"),this.customers.note=this.getFormValueByName("note"),this.customers.discountRate=this.getFormValueByName("discountRate"),this.customers.province=this.getFormValueByName("province"),this.customers.district=this.getFormValueByName("district"),this.customers.longAdress=this.getFormValueByName("longAdress"),this.customers.PatientDetails=this.patients,!0}updateCustomer(){}getFormValueByName(e){return"patientsAdd"==e?this.patientsAdd.get(e).value:this.customeradd.get(e).value}showSweetAlert(e,a){if("success"===e){const o=new _.c(this.translate("sweetalert.success"),this.translate(a),u.p.success);h.m.sweetAlert(o)}else{const o=new _.c(this.translate("sweetalert.error"),this.translate(a),u.p.error);h.m.sweetAlert(o)}}translate(e){return this._translocoService.translate(e)}addPanelOpen(){this.patientCount=this.patientsAdd.value.count,console.log(this.patientCount),this._dialog.open(Lt,{disableClose:!0,data:{count:this.patientCount}}).afterClosed().subscribe(a=>{a.status&&(a.data.forEach(o=>{this.patients.push(o)}),this.dataSource=new r.by(this.patients))})}phoneNumberValidator(e){const s=e.substring(0,5);return!!["(505)","(506)","(507)","(551)","(552)","(553)","(554)","(555)","(556)","(557)","(558)","(559)","(501)","(502)","(503)","(504)","(540)","(541)","(542)","(543)","(544)","(545)","(546)","(547)","(548)","(549)","(530)","(531)","(532)","(533)","(534)","(535)","(536)","(537)","(538)","(539)","(501)","(502)","(503)","(504)","(505)","(506)","(507)"].includes(s)}formatPhoneNumber(e,a){const o=e.replace(/\D/g,"");let s="";o.length>0&&(s+="("+o.substring(0,3)+")"),o.length>3&&(s+=" "+o.substring(3,6)),o.length>6&&(s+="-"+o.substring(6,10)),this.customeradd.get(a).setValue(s)}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(p.uw),t.Y36(p.so),t.Y36(d.qu),t.Y36(U.Vn),t.Y36(I.v),t.Y36(X.J),t.Y36(Ot),t.Y36(x.F0),t.Y36(x.gz),t.Y36(p.WI))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-create-edit-customeradd-dialog"]],decls:131,vars:47,consts:[["mat-dialog-title","",1,"mat-dialog-title"],[1,"dialog-close-button",3,"tabIndex","click"],[1,"material-icons"],[1,"modalForm"],[1,"modal-header"],[1,"modal-title"],[4,"ngIf"],[1,"modal-body","mbody-customeradd"],[1,"qm-pr-content"],[1,"container-fluid",3,"formGroup"],[1,"float",":","left","flex","gt-xs:flex-row"],[1,"flex-auto","gt-xs:pr-3"],["matInput","",3,"formControlName"],["matSuffix","",1,"icon-size-5",3,"svgIcon"],[1,"ml-5","flex-auto","gt-xs:pl-3"],[1,"flex","float",":","left","gt-xs:flex-row"],["placeholder","(555) 555-5555","matInput","",3,"formControlName","input"],[1,"flex","float",":","left","gt-md:flex-row"],[1,"flex-auto","gt-md:pr-3"],[1,"ml-5","flex-auto","gt-md:pl-3"],[1,"flex"],[1,"flex-auto"],["matInput","","cdkTextareaAutosize","",3,"cdkAutosizeMinRows","formControlName"],["name","customergroup",3,"placeholder","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"ml-5","flex-auto","gt-xs:pl-3",3,"checked","color","formControlName"],[1,"ml-5","flex-auto","gt-xs:pl-3",3,"color","formControlName"],[1,"my-10","border-t"],["mat-flat-button","",1,"ml-3","mr-6",3,"color","click"],[1,"icon-size-5","mr-2",3,"svgIcon"],[1,"ml-3","mr-6",3,"formGroup"],["placeholder","Hasta Say\u0131s\u0131 (1)","matInput","","type","number","id","myNumber",1,"wide-input",3,"formControlName"],[1,"mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","chipNumber"],["matColumnDef","birthDate"],["matColumnDef","delete"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"flex","flex-col","sm:flex-row","sm:items-center","justify-between","mt-4","sm:mt-6"],[1,"-ml-2"],["mat-icon-button",""],[1,"icon-size-5",3,"svgIcon"],[1,"flex","items-center","mt-4","sm:mt-0"],["mat-stroked-button","",1,"ml-auto","sm:ml-0",3,"click"],["mat-flat-button","",1,"order-first","sm:order-last",3,"color","click"],[3,"value"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","warn",3,"click"],[1,"mat-18"],["mat-header-row",""],["mat-row",""]],template:function(a,o){1&a&&(t.TgZ(0,"h1",0)(1,"button",1),t.NdJ("click",function(){return o.closeDialog()}),t.TgZ(2,"span",2),t._uU(3," highlight_off "),t.qZA()()(),t.TgZ(4,"div",3)(5,"mat-dialog-content")(6,"div",4)(7,"h5",5),t.YNc(8,Rt,2,0,"span",6),t.YNc(9,Vt,2,0,"span",6),t.qZA()(),t.TgZ(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10)(14,"mat-form-field",11)(15,"mat-label"),t._uU(16,"Hasta Sahibi Ad\u0131"),t.qZA(),t._UZ(17,"input",12)(18,"mat-icon",13),t.qZA(),t.TgZ(19,"mat-form-field",14)(20,"mat-label"),t._uU(21,"Hasta Sahibi Soyad\u0131"),t.qZA(),t._UZ(22,"input",12)(23,"mat-icon",13),t.qZA()(),t.TgZ(24,"div",15)(25,"mat-form-field",11)(26,"mat-label"),t._uU(27,"Telefon Numaras\u0131"),t.qZA(),t.TgZ(28,"input",16),t.NdJ("input",function(l){return o.formatPhoneNumber(l.target.value,"phoneNumber")}),t.qZA(),t._UZ(29,"mat-icon",13),t.qZA(),t.TgZ(30,"mat-form-field",14)(31,"mat-label"),t._uU(32,"Telefon Numaras\u0131 2"),t.qZA(),t.TgZ(33,"input",16),t.NdJ("input",function(l){return o.formatPhoneNumber(l.target.value,"phoneNumber2")}),t.qZA(),t._UZ(34,"mat-icon",13),t.qZA(),t.TgZ(35,"mat-form-field",14)(36,"mat-label"),t._uU(37,"E-Mail"),t.qZA(),t._UZ(38,"input",12)(39,"mat-icon",13),t.qZA()(),t.TgZ(40,"div",15)(41,"mat-form-field",11)(42,"mat-label"),t._uU(43,"Not"),t.qZA(),t._UZ(44,"input",12),t.qZA(),t.TgZ(45,"mat-form-field",14)(46,"mat-label"),t._uU(47,"VN/T.C Numaras\u0131"),t.qZA(),t._UZ(48,"input",12)(49,"mat-icon",13),t.qZA(),t.TgZ(50,"mat-form-field",14)(51,"mat-label"),t._uU(52,"Vergi Dairesi"),t.qZA(),t._UZ(53,"input",12),t.qZA()(),t.TgZ(54,"div",17)(55,"mat-form-field",18)(56,"mat-label"),t._uU(57,"\u0130l"),t.qZA(),t._UZ(58,"input",12)(59,"mat-icon",13),t.qZA(),t.TgZ(60,"mat-form-field",19)(61,"mat-label"),t._uU(62,"\u0130l\xe7e"),t.qZA(),t._UZ(63,"input",12)(64,"mat-icon",13),t.qZA()(),t.TgZ(65,"div",20)(66,"mat-form-field",21)(67,"mat-label"),t._uU(68,"Addres"),t.qZA(),t._UZ(69,"textarea",22)(70,"mat-icon",13),t.qZA()(),t.TgZ(71,"div",15)(72,"mat-form-field",11)(73,"mat-label"),t._uU(74,"M\xfc\u015fteri Grubu"),t.qZA(),t.TgZ(75,"mat-select",23),t.NdJ("ngModelChange",function(l){return o.selectedValue=l}),t.TgZ(76,"mat-option"),t._uU(77,"None"),t.qZA(),t.YNc(78,Gt,2,2,"mat-option",24),t.qZA()(),t.TgZ(79,"mat-form-field",14)(80,"mat-label"),t._uU(81,"M\xfc\u015fteri \u0130ndirim Kodu"),t.qZA(),t._UZ(82,"input",12)(83,"mat-icon",13),t.qZA()(),t.TgZ(84,"div",15)(85,"mat-checkbox",25),t._uU(86," SMS Bildirimi "),t.qZA(),t.TgZ(87,"mat-checkbox",26),t._uU(88," E-Posta Bildirimi "),t.qZA()()()(),t._UZ(89,"div",27),t.TgZ(90,"div",20)(91,"button",28),t.NdJ("click",function(){return o.addPanelOpen()}),t._UZ(92,"mat-icon",29),t._uU(93," Hasta Ekle "),t.qZA(),t.TgZ(94,"div",30)(95,"mat-form-field"),t._UZ(96,"input",31),t.qZA()()(),t._UZ(97,"br"),t.TgZ(98,"div",32)(99,"table",33),t.ynx(100,34),t.YNc(101,Ht,2,0,"th",35),t.YNc(102,zt,2,1,"td",36),t.BQk(),t.ynx(103,37),t.YNc(104,Kt,2,0,"th",35),t.YNc(105,$t,2,1,"td",36),t.BQk(),t.ynx(106,38),t.YNc(107,jt,2,0,"th",35),t.YNc(108,Wt,3,4,"td",36),t.BQk(),t.ynx(109,39),t.YNc(110,Xt,2,0,"th",35),t.YNc(111,te,4,0,"td",36),t.BQk(),t.YNc(112,ee,1,0,"tr",40),t.YNc(113,ie,1,0,"tr",41),t.qZA()(),t._UZ(114,"br")(115,"br"),t.qZA(),t.TgZ(116,"div",42)(117,"div",43)(118,"button",44),t._UZ(119,"mat-icon",45),t.qZA(),t.TgZ(120,"button",44),t._UZ(121,"mat-icon",45),t.qZA(),t.TgZ(122,"button",44),t._UZ(123,"mat-icon",45),t.qZA(),t.TgZ(124,"button",44),t._UZ(125,"mat-icon",45),t.qZA()(),t.TgZ(126,"div",46)(127,"button",47),t.NdJ("click",function(){return o.closeDialog()}),t._uU(128," Vazge\xe7 "),t.qZA(),t.TgZ(129,"button",48),t.NdJ("click",function(){return o.addOrUpdateCustomer()}),t._uU(130," Kaydet "),t.qZA()()()()()),2&a&&(t.xp6(1),t.Q6J("tabIndex",-1),t.xp6(7),t.Q6J("ngIf",o.selectedcustomeradd),t.xp6(1),t.Q6J("ngIf",!o.selectedcustomeradd),t.xp6(3),t.Q6J("formGroup",o.customeradd),t.xp6(5),t.Q6J("formControlName","firstName"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:user-circle"),t.xp6(4),t.Q6J("formControlName","lastName"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:user-circle"),t.xp6(5),t.Q6J("formControlName","phoneNumber"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:phone"),t.xp6(4),t.Q6J("formControlName","phoneNumber2"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:phone"),t.xp6(4),t.Q6J("formControlName","eMail"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:mail"),t.xp6(5),t.Q6J("formControlName","note"),t.xp6(4),t.Q6J("formControlName","vKNTCNo"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:identification"),t.xp6(4),t.Q6J("formControlName","taxOffice"),t.xp6(5),t.Q6J("formControlName","province"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:location-marker"),t.xp6(4),t.Q6J("formControlName","district"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:location-marker"),t.xp6(5),t.Q6J("cdkAutosizeMinRows",3)("formControlName","longAdress"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:location-marker"),t.xp6(5),t.Q6J("placeholder","M\xfc\u015fteri Grubu")("ngModel",o.selectedValue),t.xp6(3),t.Q6J("ngForOf",o.customergroupList),t.xp6(4),t.Q6J("formControlName","discountRate"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:receipt-tax"),t.xp6(2),t.Q6J("checked",!0)("color","primary")("formControlName","isPhone"),t.xp6(2),t.Q6J("color","primary")("formControlName","isEmail"),t.xp6(4),t.Q6J("color","primary"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:plus"),t.xp6(2),t.Q6J("formGroup",o.patientsAdd),t.xp6(2),t.Q6J("formControlName","count"),t.xp6(3),t.Q6J("dataSource",o.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(6),t.Q6J("svgIcon","heroicons_solid:paper-clip"),t.xp6(2),t.Q6J("svgIcon","heroicons_solid:link"),t.xp6(2),t.Q6J("svgIcon","heroicons_solid:emoji-happy"),t.xp6(2),t.Q6J("svgIcon","heroicons_solid:photograph"),t.xp6(4),t.Q6J("color","primary"))},dependencies:[d.Fj,d.wV,d.JJ,d.JL,d.On,v.lW,v.RK,T.KE,T.hX,T.R9,w.Hw,q.Nt,ct.IC,d.sg,d.u,r.BZ,r.fO,r.as,r.w1,r.Dz,r.nj,r.ge,r.ev,r.XQ,r.Gk,D.sg,D.O5,F.gD,y.ey,V.oG,p.uh,p.xY,D.uU],styles:[".flex[_ngcontent-%COMP%]{display:flex}.equal-width[_ngcontent-%COMP%]{flex:1}.wide-input[_ngcontent-%COMP%]{width:150%}"]})}return i})();var oe=m(55039);class ne{constructor(){this.export=!1}}var H=m(77579),z=m(37188),K=m(82722),E=m(98739);const se=["paginator"];function re(i,n){1&i&&(t.TgZ(0,"div",8),t._UZ(1,"div",9),t.qZA())}function le(i,n){1&i&&(t.TgZ(0,"div",8),t._UZ(1,"div",10)(2,"div",10)(3,"div",10)(4,"div",10)(5,"div",10)(6,"div",10)(7,"div",10)(8,"div",10),t.qZA())}function ce(i,n){1&i&&(t.TgZ(0,"th",25),t._uU(1," Hasta "),t.qZA())}function me(i,n){if(1&i&&(t.TgZ(0,"td",26),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function ue(i,n){1&i&&(t.TgZ(0,"th",25),t._uU(1," T\xfcr "),t.qZA())}function de(i,n){if(1&i&&(t.TgZ(0,"td",26),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e.animalTypeName," ")}}function pe(i,n){1&i&&t._UZ(0,"tr",27)}function _e(i,n){1&i&&t._UZ(0,"tr",28)}function he(i,n){1&i&&(t.TgZ(0,"th",25),t._uU(1," \u0130\u015flemler "),t.qZA())}function fe(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"td",26)(1,"button",29),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.redirectToUpdate(s.id))}),t.TgZ(2,"mat-icon",30),t._uU(3,"edit"),t.qZA()(),t.TgZ(4,"button",31),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.redirectToDelete(s.id))}),t.TgZ(5,"mat-icon",32),t._uU(6,"delete"),t.qZA()()()}}const ge=function(){return[5,10,20]};function Ce(i,n){if(1&i&&(t.TgZ(0,"div")(1,"div",11)(2,"h2",12)(3,"span"),t._uU(4),t.qZA()()(),t.TgZ(5,"div",13)(6,"div",14)(7,"table",15),t.ynx(8,16),t.YNc(9,ce,2,0,"th",17),t.YNc(10,me,2,1,"td",18),t.BQk(),t.ynx(11,19),t.YNc(12,ue,2,0,"th",17),t.YNc(13,de,2,1,"td",18),t.BQk(),t.YNc(14,pe,1,0,"tr",20),t.YNc(15,_e,1,0,"tr",21),t.ynx(16,22),t.YNc(17,he,2,0,"th",17),t.YNc(18,fe,7,0,"td",18),t.BQk(),t.qZA(),t._UZ(19,"mat-paginator",23,24),t.qZA()()()),2&i){const e=t.oxw();t.xp6(4),t.AsE("",e.customer.firstname," ",e.customer.lastname,""),t.xp6(3),t.Q6J("dataSource",e.dataSource),t.xp6(7),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns),t.xp6(4),t.Q6J("pageSizeOptions",t.DdM(7,ge))("pageSize",10)}}let xe=(()=>{class i{constructor(e,a,o,s,l){this._dialogRef=e,this.data=a,this._customerService=o,this.router=s,this._translocoService=l,this.displayedColumns=["name","animalTypeName","actions"],this.patientList=[],this.dataSource=new r.by(this.patientList),this.customerId="",this.customerName="",this.loader=!0,this.destroy$=new H.x,this.redirectToUpdate=C=>{console.log(C),this.router.navigate(["/patientslist/patientdetails/",C]),this.closeDialog()},this.redirectToDelete=C=>{const f=new _.c(this.translate("sweetalert.areYouSure"),this.translate("sweetalert.areYouSureDelete"),u.p.warning);h.m.sweetAlertOfQuestion(f).then(Z=>{Z.isConfirmed&&this._customerService.deletePatients({id:C}).subscribe(b=>{if(b.isSuccessful){const A=new _.c(this.translate("sweetalert.success"),this.translate("sweetalert.transactionSuccessful"),u.p.success);h.m.sweetAlert(A)}else console.error("Silme i\u015flemi ba\u015far\u0131s\u0131z.")})})},this.customerId=a.customerId}ngOnInit(){(0,z.$)(this.getPatientList(),this.getCustomer()).pipe((0,K.R)(this.destroy$)).subscribe({next:e=>{this.setPatientList(e[0]),this.setCustomer(e[1])},error:e=>{console.log(e)},complete:()=>{}})}closeDialog(){this._dialogRef.close({status:null})}getCustomer(){return this._customerService.getCustomersFindById({id:this.customerId})}setCustomer(e){e.data&&(this.customer=e.data)}getPatientList(){return this._customerService.getPatientsByCustomerId({id:this.customerId})}setPatientList(e){e.data&&(this.patientList=e.data),this.dataSource=new r.by(this.patientList),this.dataSource.paginator=this.paginator,this.loader=!1}translate(e){return this._translocoService.translate(e)}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(p.so),t.Y36(p.WI),t.Y36(I.v),t.Y36(x.F0),t.Y36(U.Vn))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-patientlist-dialog"]],viewQuery:function(a,o){if(1&a&&t.Gf(se,5),2&a){let s;t.iGM(s=t.CRH())&&(o.paginator=s.first)}},decls:12,vars:4,consts:[["mat-dialog-title","",1,"mat-dialog-title"],[1,"dialog-close-button",3,"tabIndex","click"],[1,"material-icons"],[1,"modalForm"],["role","status","class","animate-pulse",4,"ngIf"],[4,"ngIf"],[1,"flex","items-center","mt-4","sm:mt-0","justify-end","mr-7"],["mat-stroked-button","",1,"ml-auto","sm:ml-0",3,"click"],["role","status",1,"animate-pulse"],[1,"h-2.5","bg-gray-200","rounded-full","dark:bg-gray-700","w-1/2","mb-4"],[1,"h-2.5","bg-gray-200","rounded-full","dark:bg-gray-700","w-full","mb-4"],[1,"modal-header","ml-2"],[1,"modal-title"],[1,"modal-body","mbody-customeradd"],[1,"mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","animalTypeName"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["matColumnDef","actions"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions","pageSize"],["paginator",""],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],["mat-icon-button","","color","accent",3,"click"],["aria-label","Edit"],["mat-icon-button","","color","warn",3,"click"],[1,"mat-18"]],template:function(a,o){1&a&&(t.TgZ(0,"h1",0)(1,"button",1),t.NdJ("click",function(){return o.closeDialog()}),t.TgZ(2,"span",2),t._uU(3," highlight_off "),t.qZA()()(),t.TgZ(4,"div",3)(5,"mat-dialog-content"),t.YNc(6,re,2,0,"div",4),t.YNc(7,le,9,0,"div",4),t.YNc(8,Ce,21,8,"div",5),t.qZA()(),t.TgZ(9,"div",6)(10,"button",7),t.NdJ("click",function(){return o.closeDialog()}),t._uU(11," Kapat "),t.qZA()()),2&a&&(t.xp6(1),t.Q6J("tabIndex",-1),t.xp6(5),t.Q6J("ngIf",o.loader),t.xp6(1),t.Q6J("ngIf",o.loader),t.xp6(1),t.Q6J("ngIf",!o.loader))},dependencies:[v.lW,v.RK,w.Hw,r.BZ,r.fO,r.as,r.w1,r.Dz,r.nj,r.ge,r.ev,r.XQ,r.Gk,D.O5,E.NW,p.uh,p.xY]})}return i})();const Te=["paginator"];function Ze(i,n){1&i&&(t.TgZ(0,"th",22),t._uU(1," Tarih "),t.qZA())}function ve(i,n){if(1&i&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&i){const e=n.$implicit,a=t.oxw();t.xp6(1),t.hij(" ",a.formatDate(e.date)," ")}}function be(i,n){1&i&&(t.TgZ(0,"th",22),t._uU(1," Bor\xe7 Tutar\u0131"),t.qZA())}function Ae(i,n){if(1&i&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e.credit," ")}}function De(i,n){1&i&&(t.TgZ(0,"th",22),t._uU(1," Tahsilat Tutar\u0131 "),t.qZA())}function we(i,n){if(1&i&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e.paid," ")}}function ye(i,n){1&i&&(t.TgZ(0,"th",22),t._uU(1," \xd6deme Y\xf6ntemi "),t.qZA())}function Ne(i,n){if(1&i&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e.paymentName," ")}}function Se(i,n){1&i&&(t.TgZ(0,"th",22),t._uU(1," A\xe7\u0131klama "),t.qZA())}function Ue(i,n){if(1&i&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e.remark," ")}}function Ie(i,n){1&i&&t._UZ(0,"tr",24)}function qe(i,n){1&i&&t._UZ(0,"tr",25)}const ke=function(){return[5,10,20]};let tt=(()=>{class i{constructor(e,a,o,s,l){this._formBuilder=e,this._dialogRef=a,this._translocoService=o,this._customerService=s,this.data=l,this.displayedColumns=["date","credit","paid","paymentName","remark"],this.payChartList=[],this.dataSource=new r.by(this.payChartList),this.redirectToDelete=C=>{const f=new _.c(this.translate("sweetalert.areYouSure"),this.translate("sweetalert.areYouSureDelete"),u.p.warning);h.m.sweetAlertOfQuestion(f).then(Z=>{if(Z.isConfirmed){const g=this.payChartList.find(b=>b.id==C);g&&this._customerService.deletePayChart({id:C,appointmentId:g.appointmentId}).subscribe(A=>{if(A.isSuccessful){this.getPaymentTransactiopnList();const N=new _.c(this.translate("sweetalert.success"),this.translate("sweetalert.transactionSuccessful"),u.p.success);h.m.sweetAlert(N)}else console.error("Silme i\u015flemi ba\u015far\u0131s\u0131z.")})}})},this.selectedCustomerId=l.customerId,this.selectedsaleId=l.saleBuyId}ngOnInit(){this.getPaymentTransactiopnList()}getPaymentTransactiopnList(){this._customerService.getPayChartList({CustomerId:this.selectedCustomerId}).subscribe(a=>{this.payChartList=a.data,this.dataSource=new r.by(this.payChartList),this.dataSource.paginator=this.paginator})}closeDialog(){this._dialogRef.close({status:null})}showSweetAlert(e){if("success"===e){const a=new _.c(this.translate("sweetalert.success"),this.translate("sweetalert.transactionSuccessful"),u.p.success);h.m.sweetAlert(a)}else{const a=new _.c(this.translate("sweetalert.error"),this.translate("sweetalert.transactionFailed"),u.p.error);h.m.sweetAlert(a)}}translate(e){return this._translocoService.translate(e)}formatDate(e){return new Date(e).toLocaleString("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(d.qu),t.Y36(p.so),t.Y36(U.Vn),t.Y36(I.v),t.Y36(p.WI))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-pay-chart"]],viewQuery:function(a,o){if(1&a&&t.Gf(Te,5),2&a){let s;t.iGM(s=t.CRH())&&(o.paginator=s.first)}},decls:35,vars:6,consts:[["mat-dialog-title","",1,"mat-dialog-title"],[1,"dialog-close-button",3,"tabIndex","click"],[1,"material-icons"],[1,"modalForm"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body","mbody-customeradd"],[1,"mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","date"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","credit"],["matColumnDef","paid"],["matColumnDef","paymentName"],["matColumnDef","remark"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["paginator",""],[1,"flex","items-center","mt-4","sm:mt-0","justify-end","mr-7"],["mat-stroked-button","",1,"ml-auto","sm:ml-0",3,"click"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(a,o){1&a&&(t.TgZ(0,"h1",0)(1,"button",1),t.NdJ("click",function(){return o.closeDialog()}),t.TgZ(2,"span",2),t._uU(3," highlight_off "),t.qZA()()(),t.TgZ(4,"div",3)(5,"mat-dialog-content")(6,"div",4)(7,"h5",5)(8,"span"),t._uU(9,"\xd6deme Tablosu"),t.qZA()()(),t.TgZ(10,"div",6)(11,"div",7)(12,"table",8),t.ynx(13,9),t.YNc(14,Ze,2,0,"th",10),t.YNc(15,ve,2,1,"td",11),t.BQk(),t.ynx(16,12),t.YNc(17,be,2,0,"th",10),t.YNc(18,Ae,2,1,"td",11),t.BQk(),t.ynx(19,13),t.YNc(20,De,2,0,"th",10),t.YNc(21,we,2,1,"td",11),t.BQk(),t.ynx(22,14),t.YNc(23,ye,2,0,"th",10),t.YNc(24,Ne,2,1,"td",11),t.BQk(),t.ynx(25,15),t.YNc(26,Se,2,0,"th",10),t.YNc(27,Ue,2,1,"td",11),t.BQk(),t.YNc(28,Ie,1,0,"tr",16),t.YNc(29,qe,1,0,"tr",17),t.qZA(),t._UZ(30,"mat-paginator",18,19),t.qZA()()()(),t.TgZ(32,"div",20)(33,"button",21),t.NdJ("click",function(){return o.closeDialog()}),t._uU(34," Kapat "),t.qZA()()),2&a&&(t.xp6(1),t.Q6J("tabIndex",-1),t.xp6(11),t.Q6J("dataSource",o.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(5,ke)))},dependencies:[v.lW,r.BZ,r.fO,r.as,r.w1,r.Dz,r.nj,r.ge,r.ev,r.XQ,r.Gk,E.NW,p.uh,p.xY]})}return i})();var Ye=m(61135);let Je=(()=>{class i{constructor(){this.customerDetailsSource=new Ye.X(null),this.customerDetails$=this.customerDetailsSource.asObservable()}setCustomerDetails(e){this.customerDetailsSource.next(e)}static#t=this.\u0275fac=function(a){return new(a||i)};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var k=m(28255),mt=m(12687),ut=m(21281);let Qe=0;const Fe=(0,y.Id)(class{}),dt="mat-badge-content";let Ee=(()=>{class i extends Fe{get color(){return this._color}set color(e){this._setColor(e),this._color=e}get overlap(){return this._overlap}set overlap(e){this._overlap=(0,ut.Ig)(e)}get content(){return this._content}set content(e){this._updateRenderedContent(e)}get description(){return this._description}set description(e){this._updateHostAriaDescription(e)}get hidden(){return this._hidden}set hidden(e){this._hidden=(0,ut.Ig)(e)}constructor(e,a,o,s,l){super(),this._ngZone=e,this._elementRef=a,this._ariaDescriber=o,this._renderer=s,this._animationMode=l,this._color="primary",this._overlap=!0,this.position="above after",this.size="medium",this._id=Qe++,this._isInitialized=!1}isAbove(){return-1===this.position.indexOf("below")}isAfter(){return-1===this.position.indexOf("before")}getBadgeElement(){return this._badgeElement}ngOnInit(){this._clearExistingBadges(),this.content&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement(),this._updateRenderedContent(this.content)),this._isInitialized=!0}ngOnDestroy(){this._renderer.destroyNode&&this._renderer.destroyNode(this._badgeElement),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description)}_createBadgeElement(){const e=this._renderer.createElement("span"),a="mat-badge-active";return e.setAttribute("id",`mat-badge-content-${this._id}`),e.setAttribute("aria-hidden","true"),e.classList.add(dt),"NoopAnimations"===this._animationMode&&e.classList.add("_mat-animation-noopable"),this._elementRef.nativeElement.appendChild(e),"function"==typeof requestAnimationFrame&&"NoopAnimations"!==this._animationMode?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{e.classList.add(a)})}):e.classList.add(a),e}_updateRenderedContent(e){const a=`${e??""}`.trim();this._isInitialized&&a&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement()),this._badgeElement&&(this._badgeElement.textContent=a),this._content=a}_updateHostAriaDescription(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description),e&&this._ariaDescriber.describe(this._elementRef.nativeElement,e),this._description=e}_setColor(e){const a=this._elementRef.nativeElement.classList;a.remove(`mat-badge-${this._color}`),e&&a.add(`mat-badge-${e}`)}_clearExistingBadges(){const e=this._elementRef.nativeElement.querySelectorAll(`:scope > .${dt}`);for(const a of Array.from(e))a!==this._badgeElement&&a.remove()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.R0b),t.Y36(t.SBq),t.Y36(mt.$s),t.Y36(t.Qsj),t.Y36(t.QbO,8))},i.\u0275dir=t.lG2({type:i,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(e,a){2&e&&t.ekj("mat-badge-overlap",a.overlap)("mat-badge-above",a.isAbove())("mat-badge-below",!a.isAbove())("mat-badge-before",!a.isAfter())("mat-badge-after",a.isAfter())("mat-badge-small","small"===a.size)("mat-badge-medium","medium"===a.size)("mat-badge-large","large"===a.size)("mat-badge-hidden",a.hidden||!a.content)("mat-badge-disabled",a.disabled)},inputs:{disabled:["matBadgeDisabled","disabled"],color:["matBadgeColor","color"],overlap:["matBadgeOverlap","overlap"],position:["matBadgePosition","position"],content:["matBadge","content"],description:["matBadgeDescription","description"],size:["matBadgeSize","size"],hidden:["matBadgeHidden","hidden"]},features:[t.qOj]}),i})(),Be=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[mt.rt,y.BQ,y.BQ]}),i})();const Me=["paginator"];function Le(i,n){1&i&&(t.TgZ(0,"div",18),t._UZ(1,"div",19),t.qZA())}function Pe(i,n){1&i&&t._UZ(0,"div",22)}function Oe(i,n){if(1&i&&(t.TgZ(0,"div",20),t.YNc(1,Pe,1,0,"div",21),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.items)}}function Re(i,n){1&i&&(t.TgZ(0,"th",44),t._uU(1," \u0130sim"),t.qZA())}function Ve(i,n){if(1&i&&(t.TgZ(0,"td",45),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e.firstName," ")}}function Ge(i,n){1&i&&(t.TgZ(0,"th",44),t._uU(1," Soyisim "),t.qZA())}function He(i,n){if(1&i&&(t.TgZ(0,"td",45),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e.lastName," ")}}function ze(i,n){1&i&&(t.TgZ(0,"th",44),t._uU(1," Tel.No "),t.qZA())}function Ke(i,n){if(1&i&&(t.TgZ(0,"td",45),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e.phoneNumber," ")}}function $e(i,n){1&i&&(t.TgZ(0,"th",44),t._uU(1," Tel.No2 "),t.qZA())}function je(i,n){if(1&i&&(t.TgZ(0,"td",45),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e.phoneNumber2," ")}}function We(i,n){1&i&&(t.TgZ(0,"th",44),t._uU(1," E-Posta "),t.qZA())}function Xe(i,n){if(1&i&&(t.TgZ(0,"td",45),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e.eMail," ")}}function ti(i,n){1&i&&(t.TgZ(0,"th",44),t._uU(1," Note "),t.qZA())}function ei(i,n){if(1&i&&(t.TgZ(0,"td",45),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e.note," ")}}function ii(i,n){1&i&&(t.TgZ(0,"th",44),t._uU(1," Bor\xe7 Tutar\u0131 "),t.qZA())}function ai(i,n){if(1&i&&(t.TgZ(0,"td",45),t._uU(1),t.ALo(2,"number"),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.balance,"1.2-2")," ")}}function oi(i,n){1&i&&t._UZ(0,"tr",46)}function ni(i,n){1&i&&t._UZ(0,"tr",47)}function si(i,n){1&i&&(t.TgZ(0,"th",44),t._uU(1," \u0130\u015flemler "),t.qZA())}function ri(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"td",45)(1,"button",48),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.redirectToPatientList(s.id))}),t.TgZ(2,"mat-icon",49),t._uU(3,"pets"),t.qZA()(),t.TgZ(4,"button",48),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.redirectToUpdate(s.id))}),t.TgZ(5,"mat-icon",50),t._uU(6,"search"),t.qZA()(),t.TgZ(7,"button",51),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.redirectToDelete(s.id))}),t.TgZ(8,"mat-icon",50),t._uU(9,"delete"),t.qZA()(),t.TgZ(10,"button",48),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.redirectToPrint(s.id))}),t.TgZ(11,"mat-icon",52),t._uU(12,"print"),t.qZA()(),t.TgZ(13,"button",53)(14,"mat-icon"),t._uU(15,"more_vert"),t.qZA()(),t.TgZ(16,"mat-menu",null,54)(18,"button",55),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.openPayChart(s.id))}),t.TgZ(19,"mat-icon"),t._uU(20,"view_headline"),t.qZA(),t.TgZ(21,"span"),t._uU(22,"\xd6demeler"),t.qZA()(),t.TgZ(23,"button",56)(24,"mat-icon"),t._uU(25,"payment"),t.qZA(),t.TgZ(26,"span"),t._uU(27,"\xd6deme Ekle"),t.qZA()(),t.TgZ(28,"button",57)(29,"mat-icon"),t._uU(30,"colorize"),t.qZA(),t.TgZ(31,"span"),t._uU(32,"A\u015f\u0131 Takvimi"),t.qZA()(),t.TgZ(33,"button",56)(34,"mat-icon"),t._uU(35,"message"),t.qZA(),t.TgZ(36,"span"),t._uU(37,"Bor\xe7 Hat\u0131rlatma"),t.qZA()(),t.TgZ(38,"button",55),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.updateArchive(s.id))}),t.TgZ(39,"mat-icon"),t._uU(40,"archive"),t.qZA(),t.TgZ(41,"span"),t._uU(42,"Ar\u015fivle"),t.qZA()()()()}if(2&i){const e=n.$implicit,a=t.MAs(17);t.xp6(2),t.Q6J("matBadge",e.petCount),t.xp6(11),t.Q6J("matMenuTriggerFor",a),t.xp6(10),t.Q6J("disabled",0==e.balance),t.xp6(10),t.Q6J("disabled",0==e.balance)}}const li=function(){return[5,10,20]};function ci(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"div",23)(2,"div",24)(3,"mat-form-field",25),t._UZ(4,"mat-icon",26),t.TgZ(5,"input",27),t.NdJ("keyup",function(o){t.CHM(e);const s=t.oxw();return t.KtG(s.applyFilter(o.target.value))}),t.qZA()()()(),t.TgZ(6,"div",28)(7,"table",29),t.ynx(8,30),t.YNc(9,Re,2,0,"th",31),t.YNc(10,Ve,2,1,"td",32),t.BQk(),t.ynx(11,33),t.YNc(12,Ge,2,0,"th",31),t.YNc(13,He,2,1,"td",32),t.BQk(),t.ynx(14,34),t.YNc(15,ze,2,0,"th",31),t.YNc(16,Ke,2,1,"td",32),t.BQk(),t.ynx(17,35),t.YNc(18,$e,2,0,"th",31),t.YNc(19,je,2,1,"td",32),t.BQk(),t.ynx(20,36),t.YNc(21,We,2,0,"th",31),t.YNc(22,Xe,2,1,"td",32),t.BQk(),t.ynx(23,37),t.YNc(24,ti,2,0,"th",31),t.YNc(25,ei,2,1,"td",32),t.BQk(),t.ynx(26,38),t.YNc(27,ii,2,0,"th",31),t.YNc(28,ai,3,4,"td",32),t.BQk(),t.YNc(29,oi,1,0,"tr",39),t.YNc(30,ni,1,0,"tr",40),t.ynx(31,41),t.YNc(32,si,2,0,"th",31),t.YNc(33,ri,43,4,"td",32),t.BQk(),t.qZA(),t._UZ(34,"mat-paginator",42,43),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(4),t.Q6J("svgIcon","heroicons_solid:search"),t.xp6(1),t.Q6J("autocomplete","off")("placeholder","Search"),t.xp6(2),t.Q6J("dataSource",e.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns),t.xp6(4),t.Q6J("pageSizeOptions",t.DdM(8,li))("pageSize",10)}}let mi=(()=>{class i{constructor(e,a,o,s,l,C){this._customerListService=e,this._dialog=a,this._translocoService=o,this.router=s,this.route=l,this.customerDetailsService=C,this.displayedColumns=["firstName","lastName","phoneNumber","phoneNumber2","eMail","note","balance","actions"],this.customerlist=[],this.dataSource=new r.by(this.customerlist),this.loader=!0,this.petCount=3,this.items=Array(13),this.redirectToUpdate=f=>{console.log(f),this.router.navigate(["customerlist/customerdetails",f])},this.redirectToDelete=f=>{const Z=new _.c(this.translate("sweetalert.areYouSure"),this.translate("sweetalert.areYouSureDelete"),u.p.warning);h.m.sweetAlertOfQuestion(Z).then(g=>{g.isConfirmed&&this._customerListService.deleteCustomers({id:f}).subscribe(A=>{if(A.isSuccessful){this.getCustomerList();const N=new _.c(this.translate("sweetalert.success"),this.translate("sweetalert.transactionSuccessful"),u.p.success);h.m.sweetAlert(N)}else console.error("Silme i\u015flemi ba\u015far\u0131s\u0131z.")})})},this.redirectToPrint=f=>{const Z=new ne;Z.resuuid="00000000-0000-0000-0000-000000000000",Z.hotelidlist="deneme1",Z.hotellist="deneme2",Z.reportId=1090,this._dialog.open(oe.O,{width:"80%",disableClose:!0,data:Z})},this.redirectToPatientList=f=>{this.customerlist.find(g=>g.id===f)&&this._dialog.open(xe,{maxWidth:"100%",minWidth:"55%",disableClose:!0,data:{customerId:f}}).afterClosed().subscribe(A=>{})},this.openPayChart=f=>{if(this.customerlist.find(g=>g.id===f)){const g={customerId:f};console.log(g),this._dialog.open(tt,{maxWidth:"100vw !important",disableClose:!0,data:g}).afterClosed().subscribe(A=>{})}},this.updateArchive=f=>{this.customerlist.find(g=>g.id===f)&&this._customerListService.updateCustomerArchive({customerId:f,archive:!0}).subscribe(b=>{b.isSuccessful?(this.showSweetAlert("success"),this.getCustomerList()):this.showSweetAlert("error")},b=>{console.log(b)})}}ngOnInit(){this.getCustomerList()}getCustomerList(){this._customerListService.getcustomerlist().subscribe(e=>{this.customerlist=e.data,this.dataSource=new r.by(this.customerlist),setTimeout(()=>{this.dataSource&&(this.dataSource.paginator=this.paginator)},0),this.loader=!1})}addPanelOpen(){this._dialog.open(ae,{maxWidth:"100%",disableClose:!0,data:null}).afterClosed().subscribe(a=>{a.status&&this.getCustomerList()})}showSweetAlert(e){if("success"===e){const a=new _.c(this.translate("sweetalert.success"),this.translate("sweetalert.transactionSuccessful"),u.p.success);h.m.sweetAlert(a)}else{const a=new _.c(this.translate("sweetalert.error"),this.translate("sweetalert.transactionFailed"),u.p.error);h.m.sweetAlert(a)}}translate(e){return this._translocoService.translate(e)}applyFilter(e){this.dataSource.filter=e.trim().toLowerCase()}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(I.v),t.Y36(p.uw),t.Y36(U.Vn),t.Y36(x.F0),t.Y36(x.gz),t.Y36(Je))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["customerslist"]],viewQuery:function(a,o){if(1&a&&t.Gf(Me,5),2&a){let s;t.iGM(s=t.CRH())&&(o.paginator=s.first)}},decls:25,vars:8,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex","flex-col","sm:flex-row","flex-0","sm:items-center","sm:justify-between","p-6","pb-22","sm:pt-12","sm:pb-28","sm:px-10","bg-default","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1"],[1,"mt-2"],[1,"text-3xl","md:text-4xl","font-extrabold","tracking-tight","leading-7","sm:leading-10","truncate"],[1,"font-medium","tracking-tight","text-secondary"],[1,"flex","shrink-0","items-center","mt-6","sm:mt-0","sm:ml-4"],["mat-stroked-button","",3,"click"],[1,"icon-size-5","mr-2",3,"svgIcon"],["mat-flat-button","",1,"ml-3",3,"color","click"],[1,"flex-auto","-mt-16","p-6","sm:p-10","rounded-t-2xl","shadow","bg-card"],["role","status","class","animate-pulse mt-4 mb-4 sm:mt-0 md:mt-4",4,"ngIf"],["role","status","class","animate-pulse",4,"ngIf"],[4,"ngIf"],["role","status",1,"animate-pulse","mt-4","mb-4","sm:mt-0","md:mt-4"],[1,"h-10","bg-gray-200","rounded-full","dark:bg-gray-700","w-full","mb-4"],["role","status",1,"animate-pulse"],["class","h-2.5 bg-gray-200 rounded-full dark:bg-gray-700 w-full mb-4",4,"ngFor","ngForOf"],[1,"h-2.5","bg-gray-200","rounded-full","dark:bg-gray-700","w-full","mb-4"],[1,"flex","items-center","mt-4","mb-4","sm:mt-0","md:mt-4"],[1,"flex-auto"],["subscriptSizing","dynamic",1,"fuse-mat-dense","fuse-mat-rounded","w-full","min-w-50"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"autocomplete","placeholder","keyup"],[1,"mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","firstName"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","lastName"],["matColumnDef","phoneNumber"],["matColumnDef","phoneNumber2"],["matColumnDef","eMail"],["matColumnDef","note"],["matColumnDef","balance"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["matColumnDef","actions"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions","pageSize"],["paginator",""],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],["mat-icon-button","","color","accent",3,"click"],["matBadgeColor","warn","aria-label","pets",3,"matBadge"],[1,"mat-18"],["mat-icon-button","","color","warn",3,"click"],["aria-label","Print"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"disabled"],["mat-menu-item",""]],template:function(a,o){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"a",4),t._UZ(6,"mat-icon",5),t.TgZ(7,"span",6),t._uU(8,"Back"),t.qZA()()()(),t.TgZ(9,"div",7)(10,"h2",8),t._uU(11," M\xfc\u015fteri Listesi "),t.qZA()(),t.TgZ(12,"div",9),t._uU(13,"Ziyaret Eden Misafir Listesi"),t.qZA()(),t.TgZ(14,"div",10)(15,"button",11),t.NdJ("click",function(){return o.getCustomerList()}),t._UZ(16,"mat-icon",12),t._uU(17," Yenile "),t.qZA(),t.TgZ(18,"button",13),t.NdJ("click",function(){return o.addPanelOpen()}),t._UZ(19,"mat-icon",12),t._uU(20," Yeni M\xfc\u015fteri "),t.qZA()()(),t.TgZ(21,"div",14),t.YNc(22,Le,2,0,"div",15),t.YNc(23,Oe,2,1,"div",16),t.YNc(24,ci,36,9,"div",17),t.qZA()()),2&a&&(t.xp6(5),t.Q6J("routerLink","./.."),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:chevron-left"),t.xp6(10),t.Q6J("svgIcon","refresh"),t.xp6(2),t.Q6J("color","primary"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:plus"),t.xp6(3),t.Q6J("ngIf",o.loader),t.xp6(1),t.Q6J("ngIf",o.loader),t.xp6(1),t.Q6J("ngIf",!o.loader))},dependencies:[v.lW,v.RK,T.KE,T.qo,w.Hw,q.Nt,k.VK,k.OP,k.p6,r.BZ,r.fO,r.as,r.w1,r.Dz,r.nj,r.ge,r.ev,r.XQ,r.Gk,D.sg,D.O5,E.NW,Ee,x.rH,D.JJ],encapsulation:2})}return i})();var pt=m(85804),_t=m(73162),ht=m(96308),et=m(10266),ui=m(44466),di=m(36838),pi=m(90811),_i=m(44850),hi=m(6205),it=m(22284),fi=m(11020),at=m(3848),O=m(56878);const gi=["paginator"];function Ci(i,n){1&i&&(t.TgZ(0,"th",14),t._uU(1," \u0130sim"),t.qZA())}function xi(i,n){if(1&i&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function Ti(i,n){1&i&&(t.TgZ(0,"th",14),t._uU(1," Do\u011fum Tarihi "),t.qZA())}function Zi(i,n){if(1&i&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&i){const e=n.$implicit,a=t.oxw(2);t.xp6(1),t.hij(" ",a.formatDate(e.birthDate)," ")}}function vi(i,n){1&i&&(t.TgZ(0,"th",14),t._uU(1," \xc7ip Numaras\u0131 "),t.qZA())}function bi(i,n){if(1&i&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e.chipNumber," ")}}function Ai(i,n){1&i&&(t.TgZ(0,"th",14),t._uU(1," T\xfcr "),t.qZA())}function Di(i,n){if(1&i&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e.animalTypeName," ")}}function wi(i,n){1&i&&(t.TgZ(0,"th",14),t._uU(1," \u0130\u015flemler "),t.qZA())}function yi(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"td",15)(1,"button",16),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.redirectToUpdate(s.id))}),t.TgZ(2,"mat-icon",17),t._uU(3,"search"),t.qZA()(),t.TgZ(4,"button",18),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.redirectToDeletePatient(s.id))}),t.TgZ(5,"mat-icon",17),t._uU(6,"delete"),t.qZA()(),t.TgZ(7,"button",19)(8,"mat-icon"),t._uU(9,"more_vert"),t.qZA()(),t.TgZ(10,"mat-menu",null,20)(12,"button",21)(13,"mat-icon"),t._uU(14,"calendar_today"),t.qZA(),t.TgZ(15,"span"),t._uU(16,"Randevular"),t.qZA()(),t.TgZ(17,"button",21)(18,"mat-icon"),t._uU(19,"print"),t.qZA(),t.TgZ(20,"span"),t._uU(21,"A\u015f\u0131 Kart\u0131"),t.qZA()()()()}if(2&i){const e=t.MAs(11);t.xp6(7),t.Q6J("matMenuTriggerFor",e)}}function Ni(i,n){1&i&&t._UZ(0,"tr",22)}function Si(i,n){1&i&&t._UZ(0,"tr",23)}const Ui=function(){return[5,10,20]};function Ii(i,n){if(1&i&&(t.TgZ(0,"div",1)(1,"table",2),t.ynx(2,3),t.YNc(3,Ci,2,0,"th",4),t.YNc(4,xi,2,1,"td",5),t.BQk(),t.ynx(5,6),t.YNc(6,Ti,2,0,"th",4),t.YNc(7,Zi,2,1,"td",5),t.BQk(),t.ynx(8,7),t.YNc(9,vi,2,0,"th",4),t.YNc(10,bi,2,1,"td",5),t.BQk(),t.ynx(11,8),t.YNc(12,Ai,2,0,"th",4),t.YNc(13,Di,2,1,"td",5),t.BQk(),t.ynx(14,9),t.YNc(15,wi,2,0,"th",4),t.YNc(16,yi,22,1,"td",5),t.BQk(),t.YNc(17,Ni,1,0,"tr",10),t.YNc(18,Si,1,0,"tr",11),t.qZA(),t._UZ(19,"mat-paginator",12,13),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("dataSource",e.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(4,Ui))}}let qi=(()=>{class i{constructor(e,a,o,s){this._customerDataService=e,this._customerService=a,this._translocoService=o,this.router=s,this.displayedColumns=["name","birthDate","chipNumber","animalTypeName","actions"],this.patientList=[],this.dataSource=new r.by(this.patientList),this.loader=!0,this.redirectToUpdate=l=>{console.log(l),this.router.navigate(["/patientslist/patientdetails/",l])},this.redirectToDeletePatient=l=>{const C=new _.c(this.translate("sweetalert.areYouSure"),this.translate("sweetalert.areYouSureDelete"),u.p.warning);h.m.sweetAlertOfQuestion(C).then(f=>{f.isConfirmed&&this._customerService.deletePatients({id:l}).subscribe(g=>{if(g.isSuccessful){this.getPatients();const b=new _.c(this.translate("sweetalert.success"),this.translate("sweetalert.transactionSuccessful"),u.p.success);h.m.sweetAlert(b)}else console.error("Silme i\u015flemi ba\u015far\u0131s\u0131z.")})})}}ngOnInit(){this.receivedCustomerId=this._customerDataService.getCustomerId(),this.getPatients()}ngAfterViewInit(){this.dataSource.paginator=this.paginator}getPatients(){this._customerService.getPatientsByCustomerId({id:this.receivedCustomerId}).subscribe({next:a=>{this.patientList=a.data,this.dataSource.data=this.patientList,setTimeout(()=>{this.dataSource&&(this.dataSource.paginator=this.paginator)},0),this.loader=!1},error:a=>{console.error(a),this.showSweetAlert("error","Failed to load patient data."),this.loader=!1}})}showSweetAlert(e,a){let o;o="success"===e?new _.c(this.translate("sweetalert.success"),a||this.translate("sweetalert.transactionSuccessful"),u.p.success):new _.c(this.translate("sweetalert.error"),a||this.translate("sweetalert.transactionFailed"),u.p.error),h.m.sweetAlert(o)}translate(e){return this._translocoService.translate(e)}formatDate(e){return new Date(e).toLocaleString("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit"})}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(O.q),t.Y36(I.v),t.Y36(U.Vn),t.Y36(x.F0))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-patient-tab"]],viewQuery:function(a,o){if(1&a&&t.Gf(gi,5),2&a){let s;t.iGM(s=t.CRH())&&(o.paginator=s.first)}},decls:1,vars:1,consts:[["class","mat-elevation-z8",4,"ngIf"],[1,"mat-elevation-z8"],["mat-table","",1,"mt-6",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","birthDate"],["matColumnDef","chipNumber"],["matColumnDef","animalTypeName"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["paginator",""],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","accent",3,"click"],[1,"mat-18"],["mat-icon-button","","color","warn",3,"click"],["mat-icon-button","","aria-label","Example icon-button with a menu",1,"menu-button",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item",""],["mat-header-row",""],["mat-row",""]],template:function(a,o){1&a&&t.YNc(0,Ii,21,5,"div",0),2&a&&t.Q6J("ngIf",!o.loader)},dependencies:[v.RK,w.Hw,k.VK,k.OP,k.p6,r.BZ,r.fO,r.as,r.w1,r.Dz,r.nj,r.ge,r.ev,r.XQ,r.Gk,D.O5,E.NW]})}return i})();var ot=m(19918),nt=m(74881);function ki(i,n){1&i&&(t.TgZ(0,"span"),t._uU(1,"Tahsilat G\xfcncelle"),t.qZA())}function Yi(i,n){1&i&&(t.TgZ(0,"span"),t._uU(1,"Tahsilat Ekle"),t.qZA())}function Ji(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"mat-option",29),t._uU(2),t.qZA(),t.BQk()),2&i){const e=n.$implicit;t.xp6(1),t.Q6J("value",e.recId),t.xp6(1),t.Oqu(e.name)}}const Qi={parse:{dateInput:"DD/MM/YYYY"},display:{dateInput:"DD/MM/YYYY",monthYearLabel:"DDD MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"DDD MMMM YYYY"}};let st=(()=>{class i{constructor(e,a,o,s,l,C,f){this._dialogRef=e,this._formBuilder=a,this._translocoService=o,this._paymentmethodsService=s,this._customerService=l,this._taxisService=C,this.data=f,this.buttonDisabled=!1,this.payments=[],this.selectedgetsales=f.data,this.selectedCustomerId=f.customerId,this.selectedItemSellingPrice=f.amount,this.selectedSaleOwnerId=f.saleOwnerId}ngOnInit(){this.paymentsList(),this.sales=this._formBuilder.group({date:new d.NI(new Date),paymenttype:[1,d.kI.required],amount:[this.selectedItemSellingPrice],remark:[""]}),this.fillFormData(this.selectedgetsales)}fillFormData(e){null!==this.selectedgetsales&&this.sales.setValue({date:e.date,paymenttype:e.paymetntId,amount:e.credit,remark:e.remark})}addOrUpdateSales(){this.buttonDisabled=!0,this.selectedgetsales?this.updateSaleCollection():this.addSaleCollection()}addSaleCollection(){const e={saleOwnerId:this.selectedSaleOwnerId,customerId:this.selectedCustomerId,paymentId:this.getFormValueByName("paymenttype"),date:this.getFormValueByName("date"),amount:this.getFormValueByName("amount"),remark:this.getFormValueByName("remark")};this._customerService.CreateSaleCollection(e).subscribe(a=>{a.isSuccessful?(this.showSweetAlert("success","sweetalert.transactionSuccessful"),this._dialogRef.close({status:!0})):this.showSweetAlert("error","sweetalert.transactionFailed")},a=>{console.log(a)})}updateSaleCollection(){}paymentsList(){this._paymentmethodsService.getPaymentMethodsList().subscribe(e=>{this.payments=e.data,console.log(this.payments)})}showSweetAlert(e,a){if("success"===e){const o=new _.c(this.translate("sweetalert.success"),this.translate(a),u.p.success);h.m.sweetAlert(o)}else{const o=new _.c(this.translate("sweetalert.error"),this.translate(a),u.p.error);h.m.sweetAlert(o)}}translate(e){return this._translocoService.translate(e)}closeDialog(){this._dialogRef.close({status:null})}getFormValueByName(e){return this.sales.get(e).value}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(p.so),t.Y36(d.qu),t.Y36(U.Vn),t.Y36(ot.b),t.Y36(I.v),t.Y36(nt.W),t.Y36(p.WI))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-create-edit-sales"]],features:[t._Bn([{provide:y._A,useClass:J.t7,deps:[y.Ad,J.o8]},{provide:y.sG,useValue:Qi}])],decls:40,vars:16,consts:[["mat-dialog-title","",1,"mat-dialog-title"],[1,"dialog-close-button",3,"tabIndex","click"],[1,"material-icons"],[1,"modalForm"],[1,"modal-header"],[1,"modal-title"],[4,"ngIf"],[1,"modal-body","mbody-store"],[1,"qm-pr-content"],[1,"container-fluid",3,"formGroup"],[1,"flex-auto","gt-xs:pr-3"],["matInput","",3,"matDatepicker","formControlName"],["matIconSuffix","",3,"for"],["picker",""],[1,"flex","float",":","left","gt-xs:flex-row"],[1,"flex-auto","gt-xs:pl-3"],[1,"boldFont"],["matInput","",1,"disableCustomCss",3,"value","formControlName"],["matSuffix","",1,"icon-size-5",3,"svgIcon"],[1,"ml-5","flex-auto","gt-xs:pl-3"],[3,"value","formControlName"],[4,"ngFor","ngForOf"],["appearance","fill",1,"full-width"],["matInput","","placeholder","Not",3,"formControlName"],[1,"flex","flex-col","sm:flex-row","sm:items-center","justify-between","mt-4","sm:mt-6"],[1,"-ml-2"],[1,"flex","items-center","mt-4","sm:mt-0"],["mat-stroked-button","",1,"ml-auto","sm:ml-0","mr-2",3,"click"],["mat-flat-button","",1,"order-first","sm:order-last",3,"color","disabled","click"],[3,"value"]],template:function(a,o){if(1&a&&(t.TgZ(0,"h1",0)(1,"button",1),t.NdJ("click",function(){return o.closeDialog()}),t.TgZ(2,"span",2),t._uU(3," highlight_off "),t.qZA()()(),t.TgZ(4,"div",3)(5,"mat-dialog-content")(6,"div",4)(7,"h5",5),t.YNc(8,ki,2,0,"span",6),t.YNc(9,Yi,2,0,"span",6),t.qZA()(),t.TgZ(10,"div",7)(11,"div",8)(12,"div",9)(13,"mat-form-field",10)(14,"mat-label"),t._uU(15,"Tarih"),t.qZA(),t._UZ(16,"input",11)(17,"mat-datepicker-toggle",12)(18,"mat-datepicker",null,13),t.qZA(),t.TgZ(20,"div",14)(21,"mat-form-field",15)(22,"mat-label",16),t._uU(23,"Tutar"),t.qZA(),t._UZ(24,"input",17)(25,"mat-icon",18),t.qZA(),t.TgZ(26,"mat-form-field",19)(27,"mat-label"),t._uU(28,"\xd6deme Tipi"),t.qZA(),t.TgZ(29,"mat-select",20),t.YNc(30,Ji,3,2,"ng-container",21),t.qZA()()(),t.TgZ(31,"mat-form-field",22),t._UZ(32,"textarea",23),t.qZA()()(),t.TgZ(33,"div",24),t._UZ(34,"div",25),t.TgZ(35,"div",26)(36,"button",27),t.NdJ("click",function(){return o.closeDialog()}),t._uU(37," Vazge\xe7 "),t.qZA(),t.TgZ(38,"button",28),t.NdJ("click",function(){return o.addOrUpdateSales()}),t._uU(39," Kaydet "),t.qZA()()()()()()),2&a){const s=t.MAs(19);t.xp6(1),t.Q6J("tabIndex",-1),t.xp6(7),t.Q6J("ngIf",o.selectedgetsales),t.xp6(1),t.Q6J("ngIf",!o.selectedgetsales),t.xp6(3),t.Q6J("formGroup",o.sales),t.xp6(4),t.Q6J("matDatepicker",s)("formControlName","date"),t.xp6(1),t.Q6J("for",s),t.xp6(7),t.Q6J("value",o.selectedItemSellingPrice)("formControlName","amount"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:receipt-tax"),t.xp6(4),t.Q6J("value","all")("formControlName","paymenttype"),t.xp6(1),t.Q6J("ngForOf",o.payments),t.xp6(2),t.Q6J("formControlName","remark"),t.xp6(6),t.Q6J("color","primary")("disabled",o.buttonDisabled)}},dependencies:[d.Fj,d.JJ,d.JL,v.lW,T.KE,T.hX,T.R9,w.Hw,q.Nt,d.sg,d.u,D.sg,D.O5,F.gD,y.ey,p.uh,p.xY,Y.Mq,Y.hl,Y.nW]})}return i})();const Fi=["paginator"];function Ei(i,n){1&i&&(t.TgZ(0,"th",14),t._uU(1," Tarih "),t.qZA())}function Bi(i,n){if(1&i&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&i){const e=n.$implicit,a=t.oxw();t.xp6(1),t.hij(" ",a.formatDate(e.date)," ")}}function Mi(i,n){1&i&&(t.TgZ(0,"th",14),t._uU(1," Bor\xe7 Tutar\u0131"),t.qZA())}function Li(i,n){if(1&i&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e.credit," ")}}function Pi(i,n){1&i&&(t.TgZ(0,"th",14),t._uU(1," Tahsilat Tutar\u0131 "),t.qZA())}function Oi(i,n){if(1&i&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e.paid," ")}}function Ri(i,n){1&i&&(t.TgZ(0,"th",14),t._uU(1," \xd6deme Y\xf6ntemi "),t.qZA())}function Vi(i,n){if(1&i&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e.paymentName," ")}}function Gi(i,n){1&i&&(t.TgZ(0,"th",14),t._uU(1," A\xe7\u0131klama "),t.qZA())}function Hi(i,n){if(1&i&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e.remark," ")}}function zi(i,n){1&i&&t._UZ(0,"tr",16)}function Ki(i,n){1&i&&t._UZ(0,"tr",17)}function $i(i,n){1&i&&(t.TgZ(0,"th",14),t._uU(1," \u0130\u015flemler "),t.qZA())}function ji(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"td",15)(1,"button",18),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.redirectToUpdate(s.id))}),t.TgZ(2,"mat-icon",19),t._uU(3,"edit"),t.qZA()(),t.TgZ(4,"button",20),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.redirectToDelete(s.id))}),t.TgZ(5,"mat-icon",21),t._uU(6,"delete"),t.qZA()()()}}const Wi=function(){return[5,10,20]};let Xi=(()=>{class i{constructor(e,a,o,s,l){this._formBuilder=e,this._translocoService=a,this._customerService=o,this._customerDataService=s,this._dialog=l,this.displayedColumns=["date","credit","paid","paymentName","remark","actions"],this.payChartList=[],this.dataSource=new r.by(this.payChartList),this.redirectToUpdate=C=>{const f=this.payChartList.find(Z=>Z.id===C);if(f){const Z={customerId:this.customerId,saleOwnerId:f.saleBuyId,amount:0,data:f};console.log(Z),this._dialog.open(st,{maxWidth:"100vw !important",disableClose:!0,data:Z}).afterClosed().subscribe(b=>{b.status&&this.getPaymentTransactiopnList()})}},this.redirectToDelete=C=>{const f=new _.c(this.translate("sweetalert.areYouSure"),this.translate("sweetalert.areYouSureDelete"),u.p.warning);h.m.sweetAlertOfQuestion(f).then(Z=>{Z.isConfirmed&&this._customerService.deletePayChart({id:C}).subscribe(b=>{if(b.isSuccessful){this.getPaymentTransactiopnList();const A=new _.c(this.translate("sweetalert.success"),this.translate("sweetalert.transactionSuccessful"),u.p.success);h.m.sweetAlert(A)}else console.error("Silme i\u015flemi ba\u015far\u0131s\u0131z.")})})}}ngOnInit(){this.customerId=this._customerDataService.getCustomerId()}ngAfterViewInit(){this.getPaymentTransactiopnList()}getPaymentTransactiopnList(){this._customerService.getPayChartList({CustomerId:this.customerId}).subscribe(a=>{this.payChartList=a.data,this.dataSource=new r.by(this.payChartList),this.dataSource.paginator=this.paginator})}formatDate(e){return new Date(e).toLocaleString("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}translate(e){return this._translocoService.translate(e)}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(d.qu),t.Y36(U.Vn),t.Y36(I.v),t.Y36(O.q),t.Y36(p.uw))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-pay-chart-tab"]],viewQuery:function(a,o){if(1&a&&t.Gf(Fi,5),2&a){let s;t.iGM(s=t.CRH())&&(o.paginator=s.first)}},decls:24,vars:6,consts:[[1,"mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","date"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","credit"],["matColumnDef","paid"],["matColumnDef","paymentName"],["matColumnDef","remark"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["matColumnDef","actions"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions","pageSize"],["paginator",""],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],["mat-icon-button","","color","accent",3,"click"],["aria-label","Edit"],["mat-icon-button","","color","warn",3,"click"],[1,"mat-18"]],template:function(a,o){1&a&&(t.TgZ(0,"div",0)(1,"table",1),t.ynx(2,2),t.YNc(3,Ei,2,0,"th",3),t.YNc(4,Bi,2,1,"td",4),t.BQk(),t.ynx(5,5),t.YNc(6,Mi,2,0,"th",3),t.YNc(7,Li,2,1,"td",4),t.BQk(),t.ynx(8,6),t.YNc(9,Pi,2,0,"th",3),t.YNc(10,Oi,2,1,"td",4),t.BQk(),t.ynx(11,7),t.YNc(12,Ri,2,0,"th",3),t.YNc(13,Vi,2,1,"td",4),t.BQk(),t.ynx(14,8),t.YNc(15,Gi,2,0,"th",3),t.YNc(16,Hi,2,1,"td",4),t.BQk(),t.YNc(17,zi,1,0,"tr",9),t.YNc(18,Ki,1,0,"tr",10),t.ynx(19,11),t.YNc(20,$i,2,0,"th",3),t.YNc(21,ji,7,0,"td",4),t.BQk(),t.qZA(),t._UZ(22,"mat-paginator",12,13),t.qZA()),2&a&&(t.xp6(1),t.Q6J("dataSource",o.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(4),t.Q6J("pageSizeOptions",t.DdM(5,Wi))("pageSize",10))},dependencies:[v.RK,w.Hw,r.BZ,r.fO,r.as,r.w1,r.Dz,r.nj,r.ge,r.ev,r.XQ,r.Gk,E.NW],styles:[".mat-primary[_ngcontent-%COMP%]   .mat-icons[_ngcontent-%COMP%]{color:#000}"]})}return i})();var ta=m(38064);const ea=["paginator"];function ia(i,n){1&i&&(t.TgZ(0,"th",13),t._uU(1," Hasta "),t.qZA())}function aa(i,n){if(1&i&&(t.TgZ(0,"td",14),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e.customerName," ")}}function oa(i,n){1&i&&(t.TgZ(0,"th",13),t._uU(1," Oda "),t.qZA())}function na(i,n){if(1&i&&(t.TgZ(0,"td",14),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e.roomName," ")}}function sa(i,n){1&i&&(t.TgZ(0,"th",13),t._uU(1," Giri\u015f Tarihi "),t.qZA())}function ra(i,n){if(1&i&&(t.TgZ(0,"td",14),t._uU(1),t.qZA()),2&i){const e=n.$implicit,a=t.oxw();t.xp6(1),t.hij(" ",a.formatDate(e.checkinDate)," ")}}function la(i,n){1&i&&(t.TgZ(0,"th",13),t._uU(1," \xc7\u0131k\u0131\u015f Tarihi "),t.qZA())}function ca(i,n){if(1&i&&(t.TgZ(0,"td",14),t._uU(1),t.qZA()),2&i){const e=n.$implicit,a=t.oxw();t.xp6(1),t.hij(" ",a.formatDate(e.checkoutDate)," ")}}function ma(i,n){1&i&&t._UZ(0,"tr",15)}function ua(i,n){1&i&&t._UZ(0,"tr",16)}function da(i,n){1&i&&(t.TgZ(0,"th",13),t._uU(1," \u0130\u015flemler "),t.qZA())}function pa(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"td",14)(1,"button",17),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.redirectToUpdate(s.id))}),t.TgZ(2,"mat-icon",18),t._uU(3,"edit"),t.qZA()(),t.TgZ(4,"button",19),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.redirectToDelete(s.id))}),t.TgZ(5,"mat-icon",20),t._uU(6,"delete"),t.qZA()(),t.TgZ(7,"button",21)(8,"mat-icon"),t._uU(9,"more_vert"),t.qZA()(),t.TgZ(10,"mat-menu",null,22)(12,"button",23),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.reservationlogout(s.id))}),t.TgZ(13,"mat-icon"),t._uU(14,"done_all"),t.qZA(),t.TgZ(15,"span"),t._uU(16,"\xc7\u0131k\u0131\u015f Yap"),t.qZA()(),t.TgZ(17,"button",23),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.pritnt(s.id))}),t.TgZ(18,"mat-icon"),t._uU(19,"print"),t.qZA(),t.TgZ(20,"span"),t._uU(21,"\xc7\u0131kt\u0131 Al"),t.qZA()()()()}if(2&i){const e=t.MAs(11);t.xp6(7),t.Q6J("matMenuTriggerFor",e)}}const _a=function(){return[5,10,20]};let ha=(()=>{class i{constructor(e,a,o){this._customerDataService=e,this._customerService=a,this._accommodationrooms=o,this.displayedColumns=["customerName","roomName","checkinDate","checkOutDate","actions"],this.accommodations=[],this.dataSource=new r.by(this.accommodations)}ngOnInit(){this.receivedCustomerId=this._customerDataService.getCustomerId()}getAccommodationsList(){this._accommodationrooms.getAccomodationList({CustomerId:this.receivedCustomerId}).subscribe(a=>{this.accommodations=a.data,this.dataSource=new r.by(this.accommodations),this.dataSource.paginator=this.paginator})}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.getAccommodationsList()}formatDate(e){return new Date(e).toLocaleString("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(O.q),t.Y36(I.v),t.Y36(ta.O))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-accommodations-tab"]],viewQuery:function(a,o){if(1&a&&t.Gf(ea,5),2&a){let s;t.iGM(s=t.CRH())&&(o.paginator=s.first)}},decls:21,vars:5,consts:[[1,"mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","customerName"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","roomName"],["matColumnDef","checkinDate"],["matColumnDef","checkOutDate"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["matColumnDef","actions"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["paginator",""],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],["mat-icon-button","","color","accent",3,"click"],["aria-label","Edit"],["mat-icon-button","","color","warn",3,"click"],[1,"mat-18"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"]],template:function(a,o){1&a&&(t.TgZ(0,"div",0)(1,"table",1),t.ynx(2,2),t.YNc(3,ia,2,0,"th",3),t.YNc(4,aa,2,1,"td",4),t.BQk(),t.ynx(5,5),t.YNc(6,oa,2,0,"th",3),t.YNc(7,na,2,1,"td",4),t.BQk(),t.ynx(8,6),t.YNc(9,sa,2,0,"th",3),t.YNc(10,ra,2,1,"td",4),t.BQk(),t.ynx(11,7),t.YNc(12,la,2,0,"th",3),t.YNc(13,ca,2,1,"td",4),t.BQk(),t.YNc(14,ma,1,0,"tr",8),t.YNc(15,ua,1,0,"tr",9),t.ynx(16,10),t.YNc(17,da,2,0,"th",3),t.YNc(18,pa,22,1,"td",4),t.BQk(),t.qZA(),t._UZ(19,"mat-paginator",11,12),t.qZA()),2&a&&(t.xp6(1),t.Q6J("dataSource",o.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(4),t.Q6J("pageSizeOptions",t.DdM(4,_a)))},dependencies:[v.RK,w.Hw,k.VK,k.OP,k.p6,r.BZ,r.fO,r.as,r.w1,r.Dz,r.nj,r.ge,r.ev,r.XQ,r.Gk,E.NW]})}return i})();var fa=m(85717),ga=m(88640);const Ca=["paginator"];function xa(i,n){1&i&&(t.TgZ(0,"th",16),t._uU(1," Durum "),t.qZA())}function Ta(i,n){1&i&&(t.TgZ(0,"mat-icon",21),t._uU(1,"circle"),t.qZA())}function Za(i,n){1&i&&(t.TgZ(0,"mat-icon",22),t._uU(1,"circle"),t.qZA())}function va(i,n){1&i&&(t.TgZ(0,"mat-icon",23),t._uU(1,"circle"),t.qZA())}function ba(i,n){if(1&i&&(t.TgZ(0,"td",17),t.YNc(1,Ta,2,0,"mat-icon",18),t.YNc(2,Za,2,0,"mat-icon",19),t.YNc(3,va,2,0,"mat-icon",20),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.Q6J("ngIf",0==e.status),t.xp6(1),t.Q6J("ngIf",1==e.status),t.xp6(1),t.Q6J("ngIf",2==e.status)}}function Aa(i,n){1&i&&(t.TgZ(0,"th",16),t._uU(1," Muayene Tarihi "),t.qZA())}function Da(i,n){if(1&i&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&i){const e=n.$implicit,a=t.oxw();t.xp6(1),t.hij(" ",a.formatDate(e.date)," ")}}function wa(i,n){1&i&&(t.TgZ(0,"th",16),t._uU(1," Hasta \u0130smi "),t.qZA())}function ya(i,n){if(1&i&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e.patientName," ")}}function Na(i,n){1&i&&(t.TgZ(0,"th",16),t._uU(1," A\u011f\u0131rl\u0131k "),t.qZA())}function Sa(i,n){if(1&i&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e.weight," ")}}function Ua(i,n){1&i&&(t.TgZ(0,"th",16),t._uU(1," \u015eikayet ve Ge\xe7mi\u015f "),t.qZA())}function Ia(i,n){if(1&i&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e.complaintStory," ")}}function qa(i,n){1&i&&(t.TgZ(0,"th",16),t._uU(1," Tedavi A\xe7\u0131klamas\u0131 "),t.qZA())}function ka(i,n){if(1&i&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e.treatmentDescription," ")}}function Ya(i,n){1&i&&(t.TgZ(0,"th",16),t._uU(1," Semptomlar "),t.qZA())}function Ja(i,n){if(1&i&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e.symptoms," ")}}function Qa(i,n){1&i&&(t.TgZ(0,"th",16),t._uU(1," \u0130\u015flemler "),t.qZA())}function Fa(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"td",17)(1,"button",24),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.redirectToUpdatePatientTab(s.id))}),t.TgZ(2,"mat-icon",25),t._uU(3,"edit"),t.qZA()(),t.TgZ(4,"button",26),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.redirectToDelete(s.id))}),t.TgZ(5,"mat-icon",27),t._uU(6,"delete"),t.qZA()(),t.TgZ(7,"button",28)(8,"mat-icon"),t._uU(9,"more_vert"),t.qZA()(),t.TgZ(10,"mat-menu",null,29)(12,"button",30)(13,"mat-icon"),t._uU(14,"pets"),t.qZA(),t.TgZ(15,"span"),t._uU(16,"Hasta Bilgileri"),t.qZA()(),t.TgZ(17,"button",30)(18,"mat-icon"),t._uU(19,"payment"),t.qZA(),t.TgZ(20,"span"),t._uU(21,"Yap\u0131lan \xd6demeler"),t.qZA()(),t.TgZ(22,"button",31)(23,"mat-icon"),t._uU(24,"refresh"),t.qZA(),t.TgZ(25,"span"),t._uU(26,"Durumu De\u011fi\u015ftir"),t.qZA()(),t.TgZ(27,"button",30)(28,"mat-icon"),t._uU(29,"print"),t.qZA(),t.TgZ(30,"span"),t._uU(31,"\xc7\u0131kt\u0131 Al"),t.qZA()()(),t.TgZ(32,"mat-menu",null,32)(34,"button",33),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.redirectToUpdateStatus(s.id,"Aktif"))}),t.TgZ(35,"mat-icon",21),t._uU(36,"circle"),t.qZA(),t.TgZ(37,"span"),t._uU(38,"Aktif"),t.qZA()(),t.TgZ(39,"button",33),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.redirectToUpdateStatus(s.id,"Bekliyor"))}),t.TgZ(40,"mat-icon",23),t._uU(41,"circle"),t.qZA(),t.TgZ(42,"span"),t._uU(43,"Bekliyor"),t.qZA()(),t.TgZ(44,"button",33),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.redirectToUpdateStatus(s.id,"Tamamland\u0131"))}),t.TgZ(45,"mat-icon",22),t._uU(46,"circle"),t.qZA(),t.TgZ(47,"span"),t._uU(48,"Tamamland\u0131"),t.qZA()()()()}if(2&i){const e=t.MAs(11),a=t.MAs(33);t.xp6(7),t.Q6J("matMenuTriggerFor",e),t.xp6(15),t.Q6J("matMenuTriggerFor",a)}}function Ea(i,n){1&i&&t._UZ(0,"tr",34)}function Ba(i,n){1&i&&t._UZ(0,"tr",35)}const Ma=function(){return[5,10,20]};let La=(()=>{class i{constructor(e,a,o,s){this._examinationService=e,this._customerDataService=a,this._translocoService=o,this._dialog=s,this.displayedColumns=["status","date","patientName","weight","complaintStory","treatmentDescription","symptoms","actions"],this.loader=!0,this.isUpdateButtonActive=!1,this.examinationList=[],this.dataSource=new r.by(this.examinationList),this.redirectToUpdatePatientTab=l=>{this.isUpdateButtonActive=!0;const C=this.examinationList.find(Z=>Z.id===l);C&&this._dialog.open(fa.j,{maxWidth:"100vw !important",disableClose:!0,data:C.id}).afterClosed().subscribe(g=>{g.status&&this.getExaminationList()})},this.redirectToUpdateStatus=(l,C)=>{const f=new _.c(this.translate("sweetalert.areYouSure"),this.translate("sweetalert.areYouSureChange"),u.p.warning);h.m.sweetAlertOfQuestion(f).then(Z=>{if(Z.isConfirmed){var g={id:this.examinationList.find(A=>A.id===l).id,status:C};this._examinationService.updateExaminationStatus(g).subscribe(A=>{if(A.isSuccessful){this.getExaminationList();const N=new _.c(this.translate("sweetalert.success"),this.translate("sweetalert.transactionSuccessful"),u.p.success);h.m.sweetAlert(N)}else this.showSweetAlert("error",A.errors[0]),console.log(A.errors[0])})}})},this.redirectToDelete=l=>{const C=new _.c(this.translate("sweetalert.areYouSure"),this.translate("sweetalert.areYouSureDelete"),u.p.warning);h.m.sweetAlertOfQuestion(C).then(f=>{if(f.isConfirmed){var Z={id:this.examinationList.find(b=>b.id===l).id};this._examinationService.deleteExamination(Z).subscribe(b=>{if(b.isSuccessful){this.getExaminationList();const A=new _.c(this.translate("sweetalert.success"),this.translate("sweetalert.transactionSuccessful"),u.p.success);h.m.sweetAlert(A)}else this.showSweetAlert("error",b.errors[0]),console.log(b.errors[0])})}})}}ngOnInit(){this.receivedCustomerId=this._customerDataService.getCustomerId()}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.getExaminationList()}getExaminationList(){this._examinationService.getExaminationlist({customerId:this.receivedCustomerId}).subscribe(a=>{this.examinationList=a.data,this.dataSource=new r.by(this.examinationList),setTimeout(()=>{this.dataSource&&(this.dataSource.paginator=this.paginator)},0),this.loader=!1})}formatDate(e){return new Date(e).toLocaleString("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}showSweetAlert(e,a){if("success"===e){const o=new _.c(this.translate("sweetalert.success"),this.translate("sweetalert.transactionSuccessful"),u.p.success);h.m.sweetAlert(o)}else{const o=new _.c(this.translate("sweetalert.error"),this.translate(a),u.p.error);h.m.sweetAlert(o)}}translate(e){return this._translocoService.translate(e)}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(ga.C),t.Y36(O.q),t.Y36(U.Vn),t.Y36(p.uw))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-examination-tab"]],viewQuery:function(a,o){if(1&a&&t.Gf(Ca,5),2&a){let s;t.iGM(s=t.CRH())&&(o.paginator=s.first)}},decls:30,vars:5,consts:[[1,"mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","status"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","date"],["matColumnDef","patientName"],["matColumnDef","weight"],["matColumnDef","complaintStory"],["matColumnDef","treatmentDescription"],["matColumnDef","symptoms"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["paginator",""],["mat-header-cell",""],["mat-cell",""],["class","!text-green-600",4,"ngIf"],["class","!text-red-600",4,"ngIf"],["class","!text-yellow-600",4,"ngIf"],[1,"!text-green-600"],[1,"!text-red-600"],[1,"!text-yellow-600"],["mat-icon-button","","color","accent",3,"click"],["aria-label","Edit"],["mat-icon-button","","color","warn",3,"click"],[1,"mat-18"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item",""],["mat-menu-item","",3,"matMenuTriggerFor"],["vertebrates","matMenu"],["mat-menu-item","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(a,o){1&a&&(t.TgZ(0,"div",0)(1,"table",1),t.ynx(2,2),t.YNc(3,xa,2,0,"th",3),t.YNc(4,ba,4,3,"td",4),t.BQk(),t.ynx(5,5),t.YNc(6,Aa,2,0,"th",3),t.YNc(7,Da,2,1,"td",4),t.BQk(),t.ynx(8,6),t.YNc(9,wa,2,0,"th",3),t.YNc(10,ya,2,1,"td",4),t.BQk(),t.ynx(11,7),t.YNc(12,Na,2,0,"th",3),t.YNc(13,Sa,2,1,"td",4),t.BQk(),t.ynx(14,8),t.YNc(15,Ua,2,0,"th",3),t.YNc(16,Ia,2,1,"td",4),t.BQk(),t.ynx(17,9),t.YNc(18,qa,2,0,"th",3),t.YNc(19,ka,2,1,"td",4),t.BQk(),t.ynx(20,10),t.YNc(21,Ya,2,0,"th",3),t.YNc(22,Ja,2,1,"td",4),t.BQk(),t.ynx(23,11),t.YNc(24,Qa,2,0,"th",3),t.YNc(25,Fa,49,2,"td",4),t.BQk(),t.YNc(26,Ea,1,0,"tr",12),t.YNc(27,Ba,1,0,"tr",13),t.qZA(),t._UZ(28,"mat-paginator",14,15),t.qZA()),2&a&&(t.xp6(1),t.Q6J("dataSource",o.dataSource),t.xp6(25),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(4,Ma)))},dependencies:[v.RK,w.Hw,k.VK,k.OP,k.p6,r.BZ,r.fO,r.as,r.w1,r.Dz,r.nj,r.ge,r.ev,r.XQ,r.Gk,D.O5,E.NW]})}return i})();const Pa=["paginator"];function Oa(i,n){1&i&&(t.TgZ(0,"th",13),t._uU(1," Hasta "),t.qZA())}function Ra(i,n){if(1&i&&(t.TgZ(0,"td",14),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e.date)," ")}}function Va(i,n){1&i&&(t.TgZ(0,"th",13),t._uU(1," A\u015f\u0131 "),t.qZA())}function Ga(i,n){if(1&i&&(t.TgZ(0,"td",14),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e.customerName," ")}}function Ha(i,n){1&i&&(t.TgZ(0,"th",13),t._uU(1," A\u015f\u0131 Tarihi "),t.qZA())}function za(i,n){if(1&i&&(t.TgZ(0,"td",14),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e.patientName," ")}}function Ka(i,n){1&i&&(t.TgZ(0,"th",13),t._uU(1," A\u015f\u0131 Yap\u0131ld\u0131 M\u0131? "),t.qZA())}function $a(i,n){if(1&i&&(t.TgZ(0,"td",14),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e.weight," ")}}function ja(i,n){1&i&&(t.TgZ(0,"th",13),t._uU(1," \u0130\u015flemler "),t.qZA())}function Wa(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"td",14)(1,"button",15),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.redirectToUpdate(s.id))}),t.TgZ(2,"mat-icon",16),t._uU(3,"edit"),t.qZA()(),t.TgZ(4,"button",17),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.redirectToDelete(s.id))}),t.TgZ(5,"mat-icon",18),t._uU(6,"delete"),t.qZA()()()}}function Xa(i,n){1&i&&t._UZ(0,"tr",19)}function to(i,n){1&i&&t._UZ(0,"tr",20)}const eo=function(){return[5,10,20]};let io=(()=>{class i{constructor(e){this._customerDataService=e,this.displayedColumns=["customerName","vaccineName","vaccineDate","isvaccine","actions"],this.vaccineList=[],this.dataSource=new r.by(this.vaccineList),this.loader=!0}ngOnInit(){this.customerId=this._customerDataService.getCustomerId()}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(O.q))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-vaccine-tab"]],viewQuery:function(a,o){if(1&a&&t.Gf(Pa,5),2&a){let s;t.iGM(s=t.CRH())&&(o.paginator=s.first)}},decls:21,vars:5,consts:[[1,"mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","customerName"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","vaccineName"],["matColumnDef","vaccineDate"],["matColumnDef","isvaccine"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["paginator",""],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","accent",3,"click"],["aria-label","Edit"],["mat-icon-button","","color","warn",3,"click"],[1,"mat-18"],["mat-header-row",""],["mat-row",""]],template:function(a,o){1&a&&(t.TgZ(0,"div",0)(1,"table",1),t.ynx(2,2),t.YNc(3,Oa,2,0,"th",3),t.YNc(4,Ra,3,3,"td",4),t.BQk(),t.ynx(5,5),t.YNc(6,Va,2,0,"th",3),t.YNc(7,Ga,2,1,"td",4),t.BQk(),t.ynx(8,6),t.YNc(9,Ha,2,0,"th",3),t.YNc(10,za,2,1,"td",4),t.BQk(),t.ynx(11,7),t.YNc(12,Ka,2,0,"th",3),t.YNc(13,$a,2,1,"td",4),t.BQk(),t.ynx(14,8),t.YNc(15,ja,2,0,"th",3),t.YNc(16,Wa,7,0,"td",4),t.BQk(),t.YNc(17,Xa,1,0,"tr",9),t.YNc(18,to,1,0,"tr",10),t.qZA(),t._UZ(19,"mat-paginator",11,12),t.qZA()),2&a&&(t.xp6(1),t.Q6J("dataSource",o.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(4,eo)))},dependencies:[v.RK,w.Hw,r.BZ,r.fO,r.as,r.w1,r.Dz,r.nj,r.ge,r.ev,r.XQ,r.Gk,E.NW,D.uU]})}return i})();var ao=m(68980);class oo{constructor(n,e,a,o,s,l){this.id=n,this.beginDate=e,this.customerId=a,this.note=o,this.appointmentType=s,this.vaccineId=l}}var ft=m(16056),gt=m(25864);const no=["class","component"];function so(i,n){if(1&i&&(t.TgZ(0,"mat-option",21),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.remark)}}function ro(i,n){if(1&i&&(t.TgZ(0,"mat-option",21),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function lo(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",9)(1,"mat-form-field",22)(2,"mat-label"),t._uU(3,"A\u015f\u0131 Tipi"),t.qZA(),t.TgZ(4,"mat-select",11),t.NdJ("selectionChange",function(o){t.CHM(e);const s=t.oxw();return t.KtG(s.onVaccineTypeChange(o,s.item.id))}),t.YNc(5,ro,2,2,"mat-option",12),t.qZA()()()}if(2&i){const e=t.oxw();t.xp6(4),t.Q6J("placeholder","Randevu Tipi")("formControlName","vaccineId"),t.xp6(1),t.Q6J("ngForOf",e.productdescription)}}const co=function(){return{"aria-label":"Date And Time"}};let mo=(()=>{class i{constructor(e,a,o,s,l,C){this._dialogRef=e,this._formBuilder=a,this._translocoService=o,this._productdescriptionService=s,this._appointmentService=l,this.data=C,this.appointmentsList=[],this.productdescription=[],this.lastSelectedValue=new Date,this.now=new Date,console.log(C),this.selectedAppointment=C.selectedAppointment,this.selectedCustomerId=C.customerId}ngOnInit(){this.getProductList(),this.appointmentsList=uo,this.appointmentEdit=this._formBuilder.group({appointmentType:[2,d.kI.required],note:[""],vaccineId:[""]}),this.fillFormData(this.selectedAppointment),this.visibleVaccine="00000000-0000-0000-0000-000000000000"!=this.selectedAppointment.vaccineId}fillFormData(e){null!==this.selectedAppointment&&this.appointmentEdit.setValue({appointmentType:e.appointmentType,note:e.note,vaccineId:e.vaccineId})}showSweetAlert(e,a){if("success"===e){const o=new _.c(this.translate(a),this.translate("sweetalert.transactionSuccessful"),u.p.success);h.m.sweetAlert(o)}else{const o=new _.c(this.translate(a),this.translate("sweetalert.transactionFailed"),u.p.error);h.m.sweetAlert(o)}}translate(e){return this._translocoService.translate(e)}closeDialog(){this._dialogRef.close({status:null})}onAppointmentTypeChange(e){this.selectedAppointmentType=e.value}handleValueChangeList(e){this.lastSelectedValue=e.value}getProductList(){this._productdescriptionService.getProductDescriptionFilters({ProductType:2}).subscribe(a=>{this.productdescription=a.data,console.log(this.productdescription)})}UpdateAppointment(){const e=new _.c(this.translate("sweetalert.areYouSure"),this.translate("sweetalert.apponitnmentAreSure"),u.p.warning);h.m.sweetAlertOfQuestion(e).then(a=>{if(a.isConfirmed){const o=new oo(this.selectedAppointment.id,this.lastSelectedValue,this.selectedCustomerId,this.getFormValueByName("note"),this.getFormValueByName("appointmentType"),this.selectedAppointment.vaccineId);this._appointmentService.updateAppointment(o).subscribe(s=>{s.isSuccessful?(this.showSweetAlert("success","sweetalert.transactionSuccessful"),this._dialogRef.close({status:!0})):this.showSweetAlert("error","sweetalert.transactionFailed")},s=>{console.log(s)})}})}getFormValueByName(e){return this.appointmentEdit.get(e).value}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(p.so),t.Y36(d.qu),t.Y36(U.Vn),t.Y36(ft.d),t.Y36(gt.H),t.Y36(p.WI))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-edit-appointment",8,"component"]],attrs:no,decls:32,vars:12,consts:[["mat-dialog-title","",1,"mat-dialog-title"],[1,"dialog-close-button",3,"tabIndex","click"],[1,"material-icons"],[1,"modalForm"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body","mbody-customeradd"],[1,"qm-pr-content"],[1,"container-fluid",3,"formGroup"],[1,"flex","float:","left","gt-xs:flex-row"],[1,"flex-auto","gt-xs:pl-3"],["name","doctor",3,"placeholder","formControlName","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["class","flex float: left gt-xs:flex-row",4,"ngIf"],[1,"dx-field"],["type","datetime",3,"value","min","inputAttr","onValueChanged"],[1,"flex","float",":","left","gt-xs:flex-row","gap-t-3"],["matInput","",3,"formControlName"],[1,"flex","items-center","mt-4","sm:mt-0","justify-end","mr-7"],["mat-stroked-button","",1,"ml-auto","sm:ml-0",3,"click"],["mat-flat-button","",1,"order-first","sm:order-last","ml-3",3,"color","click"],[3,"value"],[1,"flex-auto","gt-xs:pl-3","w-full"]],template:function(a,o){1&a&&(t.TgZ(0,"h1",0)(1,"button",1),t.NdJ("click",function(){return o.closeDialog()}),t.TgZ(2,"span",2),t._uU(3," highlight_off "),t.qZA()()(),t.TgZ(4,"div",3)(5,"mat-dialog-content")(6,"div",4)(7,"h5",5)(8,"span"),t._uU(9,"Randevu G\xfcncelle"),t.qZA()()(),t.TgZ(10,"div",6)(11,"div",7)(12,"div",8)(13,"div",9)(14,"mat-form-field",10)(15,"mat-label"),t._uU(16,"Randevu Tipi"),t.qZA(),t.TgZ(17,"mat-select",11),t.NdJ("selectionChange",function(l){return o.onAppointmentTypeChange(l)}),t.YNc(18,so,2,2,"mat-option",12),t.qZA()()(),t.YNc(19,lo,6,3,"div",13),t.TgZ(20,"div",14)(21,"dx-date-box",15),t.NdJ("onValueChanged",function(l){return o.handleValueChangeList(l)}),t.qZA()(),t.TgZ(22,"div",16)(23,"mat-form-field",10)(24,"mat-label"),t._uU(25,"Not"),t.qZA(),t._UZ(26,"input",17),t.qZA()()()()()()(),t.TgZ(27,"div",18)(28,"button",19),t.NdJ("click",function(){return o.closeDialog()}),t._uU(29," Vazge\xe7 "),t.qZA(),t.TgZ(30,"button",20),t.NdJ("click",function(){return o.UpdateAppointment()}),t._uU(31," Kaydet "),t.qZA()()),2&a&&(t.xp6(1),t.Q6J("tabIndex",-1),t.xp6(11),t.Q6J("formGroup",o.appointmentEdit),t.xp6(5),t.Q6J("placeholder","Randevu Tipi")("formControlName","appointmentType"),t.xp6(1),t.Q6J("ngForOf",o.appointmentsList),t.xp6(1),t.Q6J("ngIf",o.visibleVaccine),t.xp6(2),t.Q6J("value",o.selectedAppointment.beginDate)("min",o.now)("inputAttr",t.DdM(11,co)),t.xp6(5),t.Q6J("formControlName","note"),t.xp6(4),t.Q6J("color","primary"))},dependencies:[d.Fj,d.JJ,d.JL,v.lW,T.KE,T.hX,q.Nt,d.sg,d.u,D.sg,D.O5,F.gD,y.ey,p.uh,p.xY,it.M]})}return i})();const uo=[{id:1,remark:"A\u015f\u0131 Randevusu"},{id:2,remark:"Genel Muayene"},{id:3,remark:"Kontrol Muayene"},{id:4,remark:"Operasyon"},{id:5,remark:"T\u0131ra\u015f"},{id:6,remark:"Tedavi"}],po=["paginator"];function _o(i,n){1&i&&(t.TgZ(0,"th",22),t._uU(1," Yap\u0131ld\u0131 "),t.qZA())}function ho(i,n){1&i&&(t.ynx(0),t._UZ(1,"mat-icon",26),t.BQk()),2&i&&(t.xp6(1),t.Q6J("svgIcon","heroicons_outline:check-circle"))}function fo(i,n){1&i&&(t.ynx(0),t._UZ(1,"mat-icon",27),t.BQk()),2&i&&(t.xp6(1),t.Q6J("svgIcon","heroicons_outline:check-circle"))}function go(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"td",23)(1,"button",24),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.toggleCompleted(s))}),t.YNc(2,ho,2,1,"ng-container",25),t.YNc(3,fo,2,1,"ng-container",25),t.qZA()()}if(2&i){const e=n.$implicit;t.xp6(2),t.Q6J("ngIf",e.isComplated),t.xp6(1),t.Q6J("ngIf",!e.isComplated)}}function Co(i,n){1&i&&(t.TgZ(0,"th",22),t._uU(1," Tarih "),t.qZA())}const xo=function(i){return{"expired-date":i}};function To(i,n){if(1&i&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&i){const e=n.$implicit,a=t.oxw();t.Q6J("ngClass",t.VKq(2,xo,a.shouldMarkExpired(e))),t.xp6(1),t.hij(" ",a.formatDate(e.beginDate)," ")}}function Zo(i,n){1&i&&(t.TgZ(0,"th",22),t._uU(1," Randevu Tipi "),t.qZA())}function vo(i,n){if(1&i&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e.text," ")}}function bo(i,n){1&i&&t._UZ(0,"tr",29)}function Ao(i,n){1&i&&t._UZ(0,"tr",30)}function Do(i,n){1&i&&(t.TgZ(0,"th",22),t._uU(1," \u0130\u015flemler "),t.qZA())}function wo(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"td",23)(1,"button",31),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.redirectToUpdate(s.id))}),t.TgZ(2,"mat-icon",32),t._uU(3,"edit"),t.qZA()(),t.TgZ(4,"button",33),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.redirectToDelete(s.id))}),t.TgZ(5,"mat-icon",34),t._uU(6,"delete"),t.qZA()()()}}const yo=function(){return[5,10,20]};let No=(()=>{class i{constructor(e,a,o,s,l,C){this._formBuilder=e,this._dialogRef=a,this._translocoService=o,this._appointmentService=s,this.data=l,this._dialog=C,this.displayedColumns=["complated","beginDate","text","actions"],this.appointmentList=[],this.dataSource=new r.by(this.appointmentList),this.redirectToUpdate=f=>{const Z=this.appointmentList.find(g=>g.id==f);Z&&this._dialog.open(mo,{maxWidth:"100vw !important",disableClose:!0,data:{visibleCustomer:!1,selectedAppointment:Z,customerId:this.selectedCustomerId}}).afterClosed().subscribe(A=>{A.status&&this.getAppointmentsByIdList()})},this.redirectToDelete=f=>{const Z=new _.c(this.translate("sweetalert.areYouSure"),this.translate("sweetalert.areYouSureDelete"),u.p.warning);h.m.sweetAlertOfQuestion(Z).then(g=>{g.isConfirmed&&this._appointmentService.deleteAppointment({id:f}).subscribe(A=>{if(A.isSuccessful){this.getAppointmentsByIdList();const N=new _.c(this.translate("sweetalert.success"),this.translate("sweetalert.transactionSuccessful"),u.p.success);h.m.sweetAlert(N)}else console.error("Silme i\u015flemi ba\u015far\u0131s\u0131z.")})})},this.selectedCustomerId=l}ngOnInit(){this.getAppointmentsByIdList()}getAppointmentsByIdList(){this._appointmentService.getAppointmentsByIdList({CustomerId:this.selectedCustomerId.customerId}).subscribe(a=>{this.appointmentList=a.data,this.dataSource=new r.by(this.appointmentList),this.dataSource.paginator=this.paginator})}closeDialog(){this._dialogRef.close({status:null})}showSweetAlert(e,a){if("success"===e){const o=new _.c(this.translate("sweetalert.success"),this.translate(a),u.p.success);h.m.sweetAlert(o)}else{const o=new _.c(this.translate("sweetalert.error"),this.translate(a),u.p.error);h.m.sweetAlert(o)}}translate(e){return this._translocoService.translate(e)}formatDate(e){return new Date(e).toLocaleString("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}toggleCompleted(e){this.IsDateControl(e)?this.showSweetAlert("error","Ge\xe7mi\u015f Randevu \xdczerinde i\u015flem yap\u0131lamaz."):(e.isComplated=!e.isComplated,this._appointmentService.updateCompletedAppointment({id:e.id,isCompleted:e.isComplated}).subscribe(o=>{o.isSuccessful?(e.isComplated=!e.isComplated,this.getAppointmentsByIdList(),this.showSweetAlert("success","")):this.showSweetAlert("error",o.errors[0])}),console.log(e))}shouldMarkExpired(e){if(e.isComplated)return!1;const o=new Date(new Date);return o.setDate(o.getDate()-1),new Date(e.beginDate)<o}IsDateControl(e){const o=new Date(new Date);return o.setDate(o.getDate()-1),new Date(e.beginDate)<o}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(d.qu),t.Y36(p.so),t.Y36(U.Vn),t.Y36(gt.H),t.Y36(p.WI),t.Y36(p.uw))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-appointment-history"]],viewQuery:function(a,o){if(1&a&&t.Gf(po,5),2&a){let s;t.iGM(s=t.CRH())&&(o.paginator=s.first)}},decls:32,vars:6,consts:[["mat-dialog-title","",1,"mat-dialog-title"],[1,"dialog-close-button",3,"tabIndex","click"],[1,"material-icons"],[1,"modalForm"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body","mbody-customeradd"],[1,"mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","complated"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","beginDate"],["mat-cell","",3,"ngClass",4,"matCellDef"],["matColumnDef","text"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["matColumnDef","actions"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["paginator",""],[1,"flex","items-center","mt-4","sm:mt-0","justify-end","mr-7"],["mat-stroked-button","",1,"ml-auto","sm:ml-0",3,"click"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","",1,"mr-2","-ml-2.5","leading-none",3,"click"],[4,"ngIf"],[1,"text-primary",3,"svgIcon"],[1,"text-hint",3,"svgIcon"],["mat-cell","",3,"ngClass"],["mat-header-row",""],["mat-row",""],["mat-icon-button","","color","accent",3,"click"],["aria-label","Edit"],["mat-icon-button","","color","warn",3,"click"],[1,"mat-18"]],template:function(a,o){1&a&&(t.TgZ(0,"h1",0)(1,"button",1),t.NdJ("click",function(){return o.closeDialog()}),t.TgZ(2,"span",2),t._uU(3," highlight_off "),t.qZA()()(),t.TgZ(4,"div",3)(5,"mat-dialog-content")(6,"div",4)(7,"h5",5)(8,"span"),t._uU(9,"Randevu Ge\xe7mi\u015fi"),t.qZA()()(),t.TgZ(10,"div",6)(11,"div",7)(12,"table",8),t.ynx(13,9),t.YNc(14,_o,2,0,"th",10),t.YNc(15,go,4,2,"td",11),t.BQk(),t.ynx(16,12),t.YNc(17,Co,2,0,"th",10),t.YNc(18,To,2,4,"td",13),t.BQk(),t.ynx(19,14),t.YNc(20,Zo,2,0,"th",10),t.YNc(21,vo,2,1,"td",11),t.BQk(),t.YNc(22,bo,1,0,"tr",15),t.YNc(23,Ao,1,0,"tr",16),t.ynx(24,17),t.YNc(25,Do,2,0,"th",10),t.YNc(26,wo,7,0,"td",11),t.BQk(),t.qZA(),t._UZ(27,"mat-paginator",18,19),t.qZA()()()(),t.TgZ(29,"div",20)(30,"button",21),t.NdJ("click",function(){return o.closeDialog()}),t._uU(31," Kapat "),t.qZA()()),2&a&&(t.xp6(1),t.Q6J("tabIndex",-1),t.xp6(11),t.Q6J("dataSource",o.dataSource),t.xp6(10),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(4),t.Q6J("pageSizeOptions",t.DdM(5,yo)))},dependencies:[v.lW,v.RK,w.Hw,r.BZ,r.fO,r.as,r.w1,r.Dz,r.nj,r.ge,r.ev,r.XQ,r.Gk,D.mk,D.O5,E.NW,p.uh,p.xY],styles:[".expired-date[_ngcontent-%COMP%]{background-color:#fcc}"]})}return i})();function So(i,n){1&i&&(t.TgZ(0,"span"),t._uU(1,"Tahsilat Al G\xfcncelle"),t.qZA())}function Uo(i,n){1&i&&(t.TgZ(0,"span"),t._uU(1,"Tahsilat Al Ekle"),t.qZA())}function Io(i,n){if(1&i&&(t.TgZ(0,"mat-option",26),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.textValue)}}function qo(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"mat-option",26),t._uU(2),t.qZA(),t.BQk()),2&i){const e=n.$implicit;t.xp6(1),t.Q6J("value",e.recId),t.xp6(1),t.Oqu(e.name)}}function ko(i,n){if(1&i&&(t.TgZ(0,"mat-option",26),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.taxRatio)}}function Yo(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",10)(1,"mat-form-field",11)(2,"mat-label"),t._uU(3,"KDV (%)"),t.qZA(),t.TgZ(4,"mat-select",27),t.NdJ("ngModelChange",function(o){t.CHM(e);const s=t.oxw();return t.KtG(s.selectedtaxisid=o)}),t.YNc(5,ko,2,2,"mat-option",13),t.qZA()()()}if(2&i){const e=t.oxw();t.xp6(4),t.Q6J("formControlName","taxisId")("ngModel",e.selectedtaxisid)("placeholder","KDV (%)"),t.xp6(1),t.Q6J("ngForOf",e.taxisList)}}let Jo=(()=>{class i{constructor(e,a,o,s,l,C,f){this._dialogRef=e,this._formBuilder=a,this._translocoService=o,this._paymentmethodsService=s,this._customerService=l,this._taxisService=C,this.data=f,this.buttonDisabled=!1,this.ratioVisible=!1,this.payments=[],this.paymentTransaction=[],this.taxisList=[],this.selectedCustomerId=f}ngOnInit(){this.paymentsList(),this.getTaxisList(),this.getPaymentTransactiopnList(),this.getcollection=this._formBuilder.group({collectionId:["",d.kI.required],paymenttype:[1,d.kI.required],amount:[0],ratio:[0],enterAmount:[!1],taxisId:[""]}),this.selectedItemSellingPrice=0,this.getcollection.get("amount").disable()}getFormValueByName(e){return this.getcollection.get(e).value}paymentsList(){this._paymentmethodsService.getPaymentMethodsList().subscribe(e=>{this.payments=e.data,console.log(this.payments)})}getPaymentTransactiopnList(){this._customerService.getPaymentTransactionList({CustomerId:this.selectedCustomerId.customerId}).subscribe(a=>{this.paymentTransaction=a.data,console.log(this.paymentTransaction)})}showSweetAlert(e,a,o){if("success"===e){const s=new _.c(this.translate(a),this.translate("sweetalert.transactionSuccessful"),u.p.success);h.m.sweetAlert(s)}else{const s=new _.c(this.translate(a),this.translate("sweetalert.transactionFailed"),o);h.m.sweetAlert(s)}}translate(e){return this._translocoService.translate(e)}closeDialog(){this._dialogRef.close({status:null})}onSelectionChange(e){this.selectedValue=e.value;const a=this.paymentTransaction.find(o=>o.id===this.selectedValue);a&&(this.selectedItemSellingPrice=a.sellingPrice,this.selectedVaccineid=a.vaccineid,this.selectedtaxisid=a.taxisId,a.isDefaultPrice&&(this.selectedItemSellingPrice=a.price)),this.getcollection.setValue({taxisId:this.selectedtaxisid})}addOrUpdateCollection(){this.buttonDisabled=!0,this.selectedgetcollection?this.updateCollection():this.addCollection()}addCollection(){if(this.fillSelectedInvoice()){const e={CustomerId:this.selectedCustomerId.customerId,CollectionId:this.getFormValueByName("collectionId"),PaymentType:this.getFormValueByName("paymenttype"),Amount:this.selectedItemSellingPrice>0?this.selectedItemSellingPrice:this.getFormValueByName("amount"),Ratio:this.getFormValueByName("ratio"),EnterAmount:this.getFormValueByName("enterAmount"),Vaccineid:this.selectedVaccineid};this._customerService.createCollection(e).subscribe(a=>{a.isSuccessful?(this.showSweetAlert("success","sweetalert.success",u.p.success),this._dialogRef.close({status:!0})):this.showSweetAlert("error",a.errors[0],u.p.error)},a=>{console.log(a)})}}updateCollection(){}fillSelectedInvoice(){return!0}toggleAmountInput(e){e?(this.getcollection.get("amount").enable(),this.ratioVisible=!0):(this.getcollection.get("amount").disable(),this.ratioVisible=!1)}getTaxisList(){this._taxisService.getTaxisList().subscribe(e=>{this.taxisList=e.data})}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(p.so),t.Y36(d.qu),t.Y36(U.Vn),t.Y36(ot.b),t.Y36(I.v),t.Y36(nt.W),t.Y36(p.WI))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-get-collection-editdialog"]],decls:42,vars:17,consts:[["mat-dialog-title","",1,"mat-dialog-title"],[1,"dialog-close-button",3,"tabIndex","click"],[1,"material-icons"],[1,"modalForm"],[1,"modal-header"],[1,"modal-title"],[4,"ngIf"],[1,"modal-body","mbody-store"],[1,"qm-pr-content"],[1,"container-fluid",3,"formGroup"],[1,"flex","float",":","left","gt-xs:flex-row"],[1,"flex-auto","gt-xs:pl-3"],[3,"formControlName","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value","formControlName"],[4,"ngFor","ngForOf"],[1,"boldFont"],["matInput","",1,"disableCustomCss",3,"value","formControlName"],["matSuffix","",1,"icon-size-5",3,"svgIcon"],["class","flex float : left gt-xs:flex-row",4,"ngIf"],[1,"mb-2",3,"color","formControlName","change"],[1,"flex","flex-col","sm:flex-row","sm:items-center","justify-between","mt-4","sm:mt-6"],[1,"-ml-2"],[1,"flex","items-center","mt-4","sm:mt-0"],["mat-stroked-button","",1,"ml-auto","sm:ml-0",3,"click"],["mat-flat-button","",1,"order-first","sm:order-last",3,"color","disabled","click"],[3,"value"],["name","taxisList",3,"formControlName","ngModel","placeholder","ngModelChange"]],template:function(a,o){1&a&&(t.TgZ(0,"h1",0)(1,"button",1),t.NdJ("click",function(){return o.closeDialog()}),t.TgZ(2,"span",2),t._uU(3," highlight_off "),t.qZA()()(),t.TgZ(4,"div",3)(5,"mat-dialog-content")(6,"div",4)(7,"h5",5),t.YNc(8,So,2,0,"span",6),t.YNc(9,Uo,2,0,"span",6),t.qZA()(),t.TgZ(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10)(14,"mat-form-field",11)(15,"mat-label"),t._uU(16,"\xd6demesi Yap\u0131lacak \u0130\u015flem"),t.qZA(),t.TgZ(17,"mat-select",12),t.NdJ("selectionChange",function(l){return o.onSelectionChange(l)}),t.YNc(18,Io,2,2,"mat-option",13),t.qZA()()(),t.TgZ(19,"div",10)(20,"mat-form-field",11)(21,"mat-label"),t._uU(22,"\xd6deme Tipi"),t.qZA(),t.TgZ(23,"mat-select",14),t.YNc(24,qo,3,2,"ng-container",15),t.qZA()()(),t.TgZ(25,"div",10)(26,"mat-form-field",11)(27,"mat-label",16),t._uU(28,"Tutar"),t.qZA(),t._UZ(29,"input",17)(30,"mat-icon",18),t.qZA()(),t.YNc(31,Yo,6,4,"div",19),t.TgZ(32,"div",10)(33,"mat-checkbox",20),t.NdJ("change",function(l){return o.toggleAmountInput(l.checked)}),t._uU(34," Tutar Ve KDV De\u011fi\u015ftir "),t.qZA()()()(),t.TgZ(35,"div",21),t._UZ(36,"div",22),t.TgZ(37,"div",23)(38,"button",24),t.NdJ("click",function(){return o.closeDialog()}),t._uU(39," Vazge\xe7 "),t.qZA(),t.TgZ(40,"button",25),t.NdJ("click",function(){return o.addOrUpdateCollection()}),t._uU(41," Kaydet "),t.qZA()()()()()()),2&a&&(t.xp6(1),t.Q6J("tabIndex",-1),t.xp6(7),t.Q6J("ngIf",o.selectedgetcollection),t.xp6(1),t.Q6J("ngIf",!o.selectedgetcollection),t.xp6(3),t.Q6J("formGroup",o.getcollection),t.xp6(5),t.Q6J("formControlName","collectionId"),t.xp6(1),t.Q6J("ngForOf",o.paymentTransaction),t.xp6(5),t.Q6J("value","all")("formControlName","paymenttype"),t.xp6(1),t.Q6J("ngForOf",o.payments),t.xp6(5),t.Q6J("value",o.selectedItemSellingPrice)("formControlName","amount"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:receipt-tax"),t.xp6(1),t.Q6J("ngIf",o.ratioVisible),t.xp6(2),t.Q6J("color","primary")("formControlName","enterAmount"),t.xp6(7),t.Q6J("color","primary")("disabled",o.buttonDisabled))},dependencies:[d.Fj,d.JJ,d.JL,v.lW,T.KE,T.hX,T.R9,w.Hw,q.Nt,d.sg,d.u,D.sg,D.O5,F.gD,y.ey,V.oG,p.uh,p.xY]})}return i})();const Qo=["paginator"];function Fo(i,n){1&i&&(t.TgZ(0,"th",23),t._uU(1," \u0130\u015flem Numaras\u0131 "),t.qZA())}function Eo(i,n){if(1&i&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e.operationNumber," ")}}function Bo(i,n){1&i&&(t.TgZ(0,"th",23),t._uU(1," Tarih "),t.qZA())}function Mo(i,n){if(1&i&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&i){const e=n.$implicit,a=t.oxw();t.xp6(1),t.hij(" ",a.formatDate(e.date)," ")}}function Lo(i,n){1&i&&(t.TgZ(0,"th",23),t._uU(1," \u0130\u015flem Tipi "),t.qZA())}function Po(i,n){if(1&i&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e.paymentType," ")}}function Oo(i,n){1&i&&(t.TgZ(0,"th",23),t._uU(1," Not "),t.qZA())}function Ro(i,n){if(1&i&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e.note," ")}}function Vo(i,n){1&i&&(t.TgZ(0,"th",23),t._uU(1," Tutar "),t.qZA())}function Go(i,n){if(1&i&&(t.TgZ(0,"td",24),t._uU(1),t.ALo(2,"number"),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.amount,"1.2-2")," ")}}function Ho(i,n){1&i&&t._UZ(0,"tr",25)}function zo(i,n){1&i&&t._UZ(0,"tr",26)}function Ko(i,n){1&i&&(t.TgZ(0,"th",23),t._uU(1," \u0130\u015flemler "),t.qZA())}function $o(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"td",24)(1,"button",27),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.redirectToPrint(s.id))}),t.TgZ(2,"mat-icon",28),t._uU(3,"print"),t.qZA()()()}}const jo=function(){return[5,10,20]};let Wo=(()=>{class i{constructor(e,a,o,s,l){this._dialogRef=e,this._formBuilder=a,this._translocoService=o,this._customerListService=s,this.data=l,this.displayedColumns=["operationNumber","date","paymentType","note","amount","actions"],this.collectionTransactionsList=[],this.dataSource=new r.by(this.collectionTransactionsList),this.selectedCustomerId=l}ngOnInit(){this.getTransactionMovementList()}getTransactionMovementList(){this._customerListService.getTransactionMovementList({CustomerId:this.selectedCustomerId.customerId}).subscribe(a=>{this.collectionTransactionsList=a.data,this.dataSource=new r.by(this.collectionTransactionsList),this.dataSource.paginator=this.paginator})}showSweetAlert(e,a){if("success"===e){const o=new _.c(this.translate(a),this.translate("sweetalert.transactionSuccessful"),u.p.success);h.m.sweetAlert(o)}else{const o=new _.c(this.translate(a),this.translate("sweetalert.transactionFailed"),u.p.error);h.m.sweetAlert(o)}}translate(e){return this._translocoService.translate(e)}closeDialog(){this._dialogRef.close({status:null})}formatDate(e){return new Date(e).toLocaleString("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(p.so),t.Y36(d.qu),t.Y36(U.Vn),t.Y36(I.v),t.Y36(p.WI))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-collection-transactions-dialog"]],viewQuery:function(a,o){if(1&a&&t.Gf(Qo,5),2&a){let s;t.iGM(s=t.CRH())&&(o.paginator=s.first)}},decls:38,vars:6,consts:[["mat-dialog-title","",1,"mat-dialog-title"],[1,"dialog-close-button",3,"tabIndex","click"],[1,"material-icons"],[1,"modalForm"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body","mbody-customeradd"],[1,"mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","operationNumber"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","date"],["matColumnDef","paymentType"],["matColumnDef","note"],["matColumnDef","amount"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["matColumnDef","actions"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["paginator",""],[1,"flex","items-center","mt-4","sm:mt-0","justify-end","mr-7"],["mat-stroked-button","",1,"ml-auto","sm:ml-0",3,"click"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],["mat-icon-button","","color","accent",3,"click"],["aria-label","Print"]],template:function(a,o){1&a&&(t.TgZ(0,"h1",0)(1,"button",1),t.NdJ("click",function(){return o.closeDialog()}),t.TgZ(2,"span",2),t._uU(3," highlight_off "),t.qZA()()(),t.TgZ(4,"div",3)(5,"mat-dialog-content")(6,"div",4)(7,"h5",5)(8,"span"),t._uU(9,"Tahsilat \u0130\u015flemleri"),t.qZA()()(),t.TgZ(10,"div",6)(11,"div",7)(12,"table",8),t.ynx(13,9),t.YNc(14,Fo,2,0,"th",10),t.YNc(15,Eo,2,1,"td",11),t.BQk(),t.ynx(16,12),t.YNc(17,Bo,2,0,"th",10),t.YNc(18,Mo,2,1,"td",11),t.BQk(),t.ynx(19,13),t.YNc(20,Lo,2,0,"th",10),t.YNc(21,Po,2,1,"td",11),t.BQk(),t.ynx(22,14),t.YNc(23,Oo,2,0,"th",10),t.YNc(24,Ro,2,1,"td",11),t.BQk(),t.ynx(25,15),t.YNc(26,Vo,2,0,"th",10),t.YNc(27,Go,3,4,"td",11),t.BQk(),t.YNc(28,Ho,1,0,"tr",16),t.YNc(29,zo,1,0,"tr",17),t.ynx(30,18),t.YNc(31,Ko,2,0,"th",10),t.YNc(32,$o,4,0,"td",11),t.BQk(),t.qZA(),t._UZ(33,"mat-paginator",19,20),t.qZA()()()(),t.TgZ(35,"div",21)(36,"button",22),t.NdJ("click",function(){return o.closeDialog()}),t._uU(37," Kapat "),t.qZA()()),2&a&&(t.xp6(1),t.Q6J("tabIndex",-1),t.xp6(11),t.Q6J("dataSource",o.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(4),t.Q6J("pageSizeOptions",t.DdM(5,jo)))},dependencies:[v.lW,v.RK,w.Hw,r.BZ,r.fO,r.as,r.w1,r.Dz,r.nj,r.ge,r.ev,r.XQ,r.Gk,E.NW,p.uh,p.xY,D.JJ]})}return i})();var Xo=m(67376);let tn=(()=>{class i{constructor(e,a,o){this._formBuilder=e,this._dialogRef=a,this.data=o,this.selectedCustomerId=o}ngOnInit(){throw new Error("Method not implemented.")}closeDialog(){this._dialogRef.close({status:null})}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(d.qu),t.Y36(p.so),t.Y36(p.WI))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["modern"]],decls:147,vars:1,consts:[["mat-dialog-title","",1,"mat-dialog-title"],[1,"dialog-close-button",3,"tabIndex","click"],[1,"material-icons"],[1,"modalForm"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body","mbody-customeradd"],["cdkScrollable","",1,"absolute","inset-0","min-w-0","text-center","overflow-auto","print:overflow-visible"],[1,"inline-block","p-6","sm:p-10","text-left","print:p-0"],[1,"w-240","min-w-240","p-16","rounded-2xl","shadow","bg-card","print:w-auto","print:p-0","print:rounded-none","print:shadow-none","print:bg-transparent"],[1,"flex","items-start"],[1,"grid","grid-rows-2","place-items-start","gap-y-12"],[1,"grid","auto-cols-max","grid-flow-col","gap-x-8"],[1,"place-self-center","w-24"],["src","assets/images/logo/logo.svg",1,"w-24"],[1,"pl-10","border-l","text-md"],[1,"font-medium"],[1,"place-self-center","w-24","text-center","text-2xl","text-secondary"],[1,"grid","grid-cols-2","gap-x-4","gap-y-1","ml-auto"],[1,"justify-self-end","text-4xl","tracking-tight","text-secondary"],[1,"text-4xl"],[1,"justify-self-end","font-medium","tracking-tight","text-secondary"],[1,"grid","grid-cols-12","gap-x-1","mt-16"],[1,"col-span-8","font-medium","text-md","text-secondary"],[1,"font-medium","text-md","text-right","text-secondary"],[1,"col-span-2","font-medium","text-md","text-right","text-secondary"],[1,"col-span-12","my-4","border-b"],[1,"col-span-8"],[1,"text-lg","font-medium"],[1,"mt-2","text-md","text-secondary"],[1,"self-center","text-right"],[1,"col-span-2","self-center","text-right"],[1,"col-span-12","mt-16"],[1,"col-span-10","self-center","font-medium","tracking-tight","text-secondary"],[1,"col-span-2","text-right","text-lg"],[1,"col-span-12","my-3","border-b"],[1,"col-span-10","self-center","text-2xl","font-medium","tracking-tight","text-secondary"],[1,"col-span-2","text-right","text-2xl","font-medium"],[1,"mt-16"],[1,"flex","items-start","mt-4"],["src","assets/images/logo/logo.svg",1,"flex-0","w-10","mt-2"],[1,"ml-6","text-sm","text-secondary"]],template:function(a,o){1&a&&(t.TgZ(0,"h1",0)(1,"button",1),t.NdJ("click",function(){return o.closeDialog()}),t.TgZ(2,"span",2),t._uU(3," highlight_off "),t.qZA()()(),t.TgZ(4,"div",3)(5,"mat-dialog-content")(6,"div",4)(7,"h5",5)(8,"span"),t._uU(9,"A\u015f\u0131 Kart\u0131"),t.qZA()()(),t.TgZ(10,"div",6)(11,"div",7)(12,"div",8)(13,"div",9)(14,"div",10)(15,"div",11)(16,"div",12)(17,"div",13),t._UZ(18,"img",14),t.qZA(),t.TgZ(19,"div",15)(20,"div",16),t._uU(21,"Fuse Inc."),t.qZA(),t.TgZ(22,"div"),t._uU(23,"2810 Country Club Road"),t.qZA(),t.TgZ(24,"div"),t._uU(25,"Cranford, NJ 07016"),t.qZA(),t.TgZ(26,"div"),t._uU(27,"+66 123 455 87"),t.qZA(),t.TgZ(28,"div"),t._uU(29,"hello@fuseinc.com"),t.qZA(),t.TgZ(30,"div"),t._uU(31,"www.fuseinc.com"),t.qZA()()(),t.TgZ(32,"div",12)(33,"div",17),t._uU(34," Bill To "),t.qZA(),t.TgZ(35,"div",15)(36,"div",16),t._uU(37," Brian Hughes "),t.qZA(),t.TgZ(38,"div"),t._uU(39,"9301 Wood Street"),t.qZA(),t.TgZ(40,"div"),t._uU(41,"Philadelphia, PA 19111"),t.qZA(),t.TgZ(42,"div"),t._uU(43,"+55 552 455 87"),t.qZA(),t.TgZ(44,"div"),t._uU(45,"hughes.brian@company.com"),t.qZA()()()(),t.TgZ(46,"div",18)(47,"div",19),t._uU(48," INVOICE "),t.qZA(),t.TgZ(49,"div",20),t._uU(50,"#9-0004"),t.qZA(),t.TgZ(51,"div",21),t._uU(52," INVOICE DATE "),t.qZA(),t.TgZ(53,"div",16),t._uU(54,"Jul 19, 2022"),t.qZA(),t.TgZ(55,"div",21),t._uU(56," DUE DATE "),t.qZA(),t.TgZ(57,"div",16),t._uU(58,"Aug 19, 2022"),t.qZA(),t.TgZ(59,"div",21),t._uU(60," TOTAL DUE "),t.qZA(),t.TgZ(61,"div",16),t._uU(62,"$49,000.00"),t.qZA()()(),t.TgZ(63,"div",22)(64,"div",23),t._uU(65," SERVICE "),t.qZA(),t.TgZ(66,"div",24),t._uU(67," RATE "),t.qZA(),t.TgZ(68,"div",24),t._uU(69," QTY "),t.qZA(),t.TgZ(70,"div",25),t._uU(71," TOTAL "),t.qZA(),t._UZ(72,"div",26),t.TgZ(73,"div",27)(74,"div",28),t._uU(75," Prototype & Design "),t.qZA(),t.TgZ(76,"div",29),t._uU(77," Prototyping of the application's general workflow and the detailed design of its 72 screens as a working prototype. "),t.qZA()(),t.TgZ(78,"div",30),t._uU(79,"$75.00"),t.qZA(),t.TgZ(80,"div",30),t._uU(81,"240"),t.qZA(),t.TgZ(82,"div",31),t._uU(83," $18,000.00 "),t.qZA(),t._UZ(84,"div",26),t.TgZ(85,"div",27)(86,"div",28),t._uU(87," Development "),t.qZA(),t.TgZ(88,"div",29),t._uU(89," The web and mobile development of the application using appropriate tools and registering it to major application stores. "),t.qZA()(),t.TgZ(90,"div",30),t._uU(91,"$60.50"),t.qZA(),t.TgZ(92,"div",30),t._uU(93,"350"),t.qZA(),t.TgZ(94,"div",31),t._uU(95," $21,175.00 "),t.qZA(),t._UZ(96,"div",26),t.TgZ(97,"div",27)(98,"div",28),t._uU(99,"Testing"),t.qZA(),t.TgZ(100,"div",29),t._uU(101," Extensive testing of the application using various mobile and desktop devices with different operating systems. "),t.qZA()(),t.TgZ(102,"div",30),t._uU(103,"$25.00"),t.qZA(),t.TgZ(104,"div",30),t._uU(105,"50"),t.qZA(),t.TgZ(106,"div",31),t._uU(107," $1,250.00 "),t.qZA(),t._UZ(108,"div",26),t.TgZ(109,"div",27)(110,"div",28),t._uU(111," Documentation & Training "),t.qZA(),t.TgZ(112,"div",29),t._uU(113," Development of the detailed documentation, preparing guides and instructional videos and extensive training of 2 people. "),t.qZA()(),t.TgZ(114,"div",30),t._uU(115,"$26.50"),t.qZA(),t.TgZ(116,"div",30),t._uU(117,"260"),t.qZA(),t.TgZ(118,"div",31),t._uU(119," $6,890.00 "),t.qZA(),t._UZ(120,"div",32),t.TgZ(121,"div",33),t._uU(122," SUBTOTAL "),t.qZA(),t.TgZ(123,"div",34),t._uU(124," $47,315.00 "),t.qZA(),t._UZ(125,"div",35),t.TgZ(126,"div",33),t._uU(127," TAX "),t.qZA(),t.TgZ(128,"div",34),t._uU(129," $2,365.75 "),t.qZA(),t._UZ(130,"div",35),t.TgZ(131,"div",33),t._uU(132," DISCOUNT "),t.qZA(),t.TgZ(133,"div",34),t._uU(134," $180.75 "),t.qZA(),t._UZ(135,"div",35),t.TgZ(136,"div",36),t._uU(137," TOTAL "),t.qZA(),t.TgZ(138,"div",37),t._uU(139," $49,000.00 "),t.qZA()(),t.TgZ(140,"div",38)(141,"div",16),t._uU(142," Please pay within 15 days. Thank you for your business. "),t.qZA(),t.TgZ(143,"div",39),t._UZ(144,"img",40),t.TgZ(145,"div",41),t._uU(146," In condimentum malesuada efficitur. Mauris volutpat placerat auctor. Ut ac congue dolor. Quisque scelerisque lacus sed feugiat fermentum. Cras aliquet facilisis pellentesque. Nunc hendrerit quam at leo commodo, a suscipit tellus dapibus. Etiam at felis volutpat est mollis lacinia. Mauris placerat sem sit amet velit mollis, in porttitor ex finibus. Proin eu nibh id libero tincidunt lacinia et eget. "),t.qZA()()()()()()()()()),2&a&&(t.xp6(1),t.Q6J("tabIndex",-1))},dependencies:[Xo.PQ,p.uh,p.xY],encapsulation:2,changeDetection:0})}return i})();function en(i,n){if(1&i&&(t.TgZ(0,"mat-option",15),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",e.name),t.xp6(1),t.Oqu(e.name)}}const an=function(i){return{color:i}};let on=(()=>{class i{constructor(e,a,o,s,l,C){this._dialogRef=e,this._formBuilder=a,this._customerService=o,this._translocoService=s,this._customergroup=l,this.data=C,this.customergroupList=[],this.getCustomerGroupList(),this.customerEditForm=this._formBuilder.group({email:[""],phonenumber:[""],phonenumber2:[""],city:[""],district:[""],taxoffice:[""],vkntcno:[""],note:[""],smsNotification:[""],emailNotification:[""],address:[""],customerdiscount:[""],customerGroup:[""],recordDate:[""]})}ngOnInit(){console.log("data -------\x3e ",this.data),this.customerEditForm.patchValue({firstname:this.data.customerDetailForm.firstname,lastname:this.data.customerDetailForm.lastname,email:this.data.customerDetailForm.email,phonenumber:this.data.customerDetailForm.phonenumber,phonenumber2:this.data.customerDetailForm.phonenumber,city:this.data.customerDetailForm.city,district:this.data.customerDetailForm.district,taxoffice:this.data.customerDetailForm.taxoffice,vkntcno:this.data.customerDetailForm.vkntcno,note:this.data.customerDetailForm.note,smsNotification:this.data.customerDetailForm.smsNotification,emailNotification:this.data.customerDetailForm.emailNotification,address:this.data.customerDetailForm.address,customerdiscount:this.data.customerDetailForm.customerdiscount,customerGroup:this.data.customerDetailForm.customerGroup,recordDate:this.data.customerDetailForm.recordDate})}updateCustomerDetail(){this.updateCustomerDetailDto=this.customerEditForm.value,this.updateCustomerDetailDto.id=this.data.customerId,this.updateCustomerDetailDto.firstname=this.data.firstname,this.updateCustomerDetailDto.lastname=this.data.lastname,this.updateCustomerDetailDto.taxoffice=this.data.taxoffice,this._customerService.updateCustomerById(this.updateCustomerDetailDto).subscribe(a=>{a.isSuccessful&&(console.log(a),this.showSweetAlert("success"),this._dialogRef.close({status:!0}))})}getCustomerGroupList(){this._customergroup.getcustomerGroupList().subscribe(e=>{this.customergroupList=e.data})}showSweetAlert(e){if("success"===e){const a=new _.c(this.translate("sweetalert.success"),this.translate("sweetalert.transactionSuccessful"),u.p.success);h.m.sweetAlert(a)}else{const a=new _.c(this.translate("sweetalert.error"),this.translate("sweetalert.transactionFailed"),u.p.error);h.m.sweetAlert(a)}}translate(e){return this._translocoService.translate(e)}closeDialog(){this._dialogRef.close({status:null})}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(p.so),t.Y36(d.qu),t.Y36(I.v),t.Y36(U.Vn),t.Y36(X.J),t.Y36(p.WI))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-customer-detail-edit-dialog"]],decls:97,vars:35,consts:[["mat-dialog-title","",1,"mat-dialog-title"],[1,"dialog-close-button",3,"tabIndex","click"],[1,"material-icons"],[1,"modalForm"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body","mbody-customeradd"],[1,"qm-pr-content"],[1,"container-fluid",3,"formGroup"],[1,"row"],[1,"col-md-6"],["matInput","",3,"formControlName"],["matSuffix","",1,"icon-size-5",3,"svgIcon"],[1,"flex-auto","gt-xs:pr-3"],["name","smsNotification",3,"formControlName"],[3,"value"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["name","emailNotification",3,"formControlName","ngStyle"],["name","customergroup",3,"placeholder","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-12"],["mat-flat-button","",1,"order-first","sm:order-last","ml-3",3,"color","click"]],template:function(a,o){1&a&&(t.TgZ(0,"h1",0)(1,"button",1),t.NdJ("click",function(){return o.closeDialog()}),t.TgZ(2,"span",2),t._uU(3," highlight_off "),t.qZA()()(),t.TgZ(4,"div",3)(5,"mat-dialog-content")(6,"div",4)(7,"h5",5)(8,"span"),t._uU(9,"M\xfc\u015fteri Bilgileri D\xfczenle"),t.qZA()()(),t.TgZ(10,"div",6)(11,"div",7)(12,"div",8)(13,"div",9)(14,"div",10)(15,"mat-form-field")(16,"mat-label"),t._uU(17,"Email"),t.qZA(),t._UZ(18,"input",11)(19,"mat-icon",12),t.qZA(),t.TgZ(20,"mat-form-field")(21,"mat-label"),t._uU(22,"Telefon No"),t.qZA(),t._UZ(23,"input",11)(24,"mat-icon",12),t.qZA()(),t.TgZ(25,"div",10)(26,"mat-form-field")(27,"mat-label"),t._uU(28,"Telefon No 2"),t.qZA(),t._UZ(29,"input",11)(30,"mat-icon",12),t.qZA(),t.TgZ(31,"mat-form-field")(32,"mat-label"),t._uU(33,"\u0130l"),t.qZA(),t._UZ(34,"input",11)(35,"mat-icon",12),t.qZA()(),t.TgZ(36,"div",10)(37,"mat-form-field")(38,"mat-label"),t._uU(39,"\u0130l\xe7e"),t.qZA(),t._UZ(40,"input",11)(41,"mat-icon",12),t.qZA(),t.TgZ(42,"mat-form-field")(43,"mat-label"),t._uU(44,"Vergi Dairesi"),t.qZA(),t._UZ(45,"input",11),t.qZA()(),t.TgZ(46,"div",10)(47,"mat-form-field")(48,"mat-label"),t._uU(49,"VN/TC No"),t.qZA(),t._UZ(50,"input",11)(51,"mat-icon",12),t.qZA(),t.TgZ(52,"mat-form-field")(53,"mat-label"),t._uU(54,"Not"),t.qZA(),t._UZ(55,"input",11),t.qZA()(),t.TgZ(56,"div",10)(57,"mat-form-field",13)(58,"mat-label"),t._uU(59,"SMS Bildirimi"),t.qZA(),t.TgZ(60,"mat-select",14)(61,"mat-option",15),t._uU(62,"Evet"),t.qZA(),t.TgZ(63,"mat-option",15),t._uU(64,"Hay\u0131r"),t.qZA()(),t._UZ(65,"mat-icon",16),t.qZA(),t.TgZ(66,"mat-form-field",13)(67,"mat-label"),t._uU(68,"E-Mail Bildirimi"),t.qZA(),t.TgZ(69,"mat-select",17)(70,"mat-option",15),t._uU(71,"Evet"),t.qZA(),t.TgZ(72,"mat-option",15),t._uU(73,"Hay\u0131r"),t.qZA()(),t._UZ(74,"mat-icon",16),t.qZA()(),t.TgZ(75,"div",10)(76,"mat-form-field")(77,"mat-label"),t._uU(78,"Adres"),t.qZA(),t._UZ(79,"input",11)(80,"mat-icon",12),t.qZA(),t.TgZ(81,"mat-form-field")(82,"mat-label"),t._uU(83,"M\xfc\u015fteri \u0130ndirim Oran\u0131"),t.qZA(),t._UZ(84,"input",11)(85,"mat-icon",12),t.qZA()(),t.TgZ(86,"div",10)(87,"mat-form-field")(88,"mat-label"),t._uU(89,"M\xfc\u015fteri Grubu"),t.qZA(),t.TgZ(90,"mat-select",18),t.NdJ("ngModelChange",function(l){return o.selectedValue=l}),t.TgZ(91,"mat-option"),t._uU(92,"None"),t.qZA(),t.YNc(93,en,2,2,"mat-option",19),t.qZA()()(),t.TgZ(94,"div",20)(95,"button",21),t.NdJ("click",function(){return o.updateCustomerDetail()}),t._uU(96," Kaydet "),t.qZA()()()()()()()()),2&a&&(t.xp6(1),t.Q6J("tabIndex",-1),t.xp6(11),t.Q6J("formGroup",o.customerEditForm),t.xp6(6),t.Q6J("formControlName","email"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:mail"),t.xp6(4),t.Q6J("formControlName","phonenumber"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:phone"),t.xp6(5),t.Q6J("formControlName","phonenumber2"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:phone"),t.xp6(4),t.Q6J("formControlName","city"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:location-marker"),t.xp6(5),t.Q6J("formControlName","district"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:location-marker"),t.xp6(4),t.Q6J("formControlName","taxoffice"),t.xp6(5),t.Q6J("formControlName","vkntcno"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:identification"),t.xp6(4),t.Q6J("formControlName","note"),t.xp6(5),t.Q6J("formControlName","smsNotification"),t.xp6(1),t.Q6J("value",!0),t.xp6(2),t.Q6J("value",!1),t.xp6(2),t.Q6J("svgIcon","heroicons_solid:location-marker"),t.xp6(4),t.Q6J("formControlName","emailNotification")("ngStyle",t.VKq(33,an,o.customerEditForm.get("emailNotification").value?"green":"red")),t.xp6(1),t.Q6J("value",!0),t.xp6(2),t.Q6J("value",!1),t.xp6(2),t.Q6J("svgIcon","heroicons_solid:location-marker"),t.xp6(5),t.Q6J("formControlName","address"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:location-marker"),t.xp6(4),t.Q6J("formControlName","customerdiscount"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:receipt-tax"),t.xp6(5),t.Q6J("placeholder","M\xfc\u015fteri Grubu")("ngModel",o.selectedValue),t.xp6(3),t.Q6J("ngForOf",o.customergroupList),t.xp6(2),t.Q6J("color","primary"))},dependencies:[d.Fj,d.JJ,d.JL,d.On,v.lW,T.KE,T.hX,T.qo,T.R9,w.Hw,q.Nt,d.sg,d.u,D.sg,D.PC,F.gD,y.ey,p.uh,p.xY]})}return i})(),nn=(()=>{class i{constructor(e,a,o,s,l){this._dialogRef=e,this._formBuilder=a,this._translocoService=o,this._customerService=s,this.data=l,this.buttonDisabled=!1,this.selectedCustomerId=l.customerId}ngOnInit(){this.smstransactionsgroup=this._formBuilder.group({title:["",d.kI.required],content:["",d.kI.required]})}closeDialog(){this._dialogRef.close({status:null})}getFormValueByName(e){return this.smstransactionsgroup.get(e).value}sendSms(){this.buttonDisabled=!0;let e=this.getFormValueByName("title"),a=this.getFormValueByName("content");if(!e||!a)return this.buttonDisabled=!1,void this.showSweetAlert("error","Ba\u015fl\u0131k veya \u0130\xe7erik Bo\u015f B\u0131rak\u0131lamaz.");var o={type:1,title:this.getFormValueByName("title"),content:this.getFormValueByName("content"),customerId:this.selectedCustomerId};this._customerService.sendMessage(o).subscribe(s=>{s.isSuccessful?(this.showSweetAlert("success","sweetalert.transactionSuccessful"),this._dialogRef.close({status:!0})):this.showSweetAlert("error",s.errors)})}showSweetAlert(e,a){if("success"===e){const o=new _.c(this.translate("sweetalert.success"),this.translate(a),u.p.success);h.m.sweetAlert(o)}else{const o=new _.c(this.translate("sweetalert.error"),this.translate(a),u.p.error);h.m.sweetAlert(o)}}translate(e){return this._translocoService.translate(e)}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(p.so),t.Y36(d.qu),t.Y36(U.Vn),t.Y36(I.v),t.Y36(p.WI))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-smstransactions-dialog"]],decls:30,vars:7,consts:[["mat-dialog-title","",1,"mat-dialog-title"],[1,"dialog-close-button",3,"tabIndex","click"],[1,"material-icons"],[1,"modalForm"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body","mbody-store"],[1,"qm-pr-content"],[1,"container-fluid",3,"formGroup"],[1,"flex","float",":","left","gt-xs:flex-row"],[1,"flex-auto","gt-xs:pl-3"],["matInput","",3,"formControlName"],[1,"flex-auto","gt-xs:pr-3"],["matInput","","cdkTextareaAutosize","",3,"cdkAutosizeMinRows","formControlName"],[1,"flex","flex-col","sm:flex-row","sm:items-center","justify-between","mt-4","sm:mt-6"],[1,"-ml-2"],[1,"flex","items-center","mt-4","sm:mt-0"],["mat-stroked-button","",1,"ml-auto","sm:ml-0",3,"click"],["mat-flat-button","",1,"order-first","sm:order-last",3,"color","disabled","click"]],template:function(a,o){1&a&&(t.TgZ(0,"h1",0)(1,"button",1),t.NdJ("click",function(){return o.closeDialog()}),t.TgZ(2,"span",2),t._uU(3," highlight_off "),t.qZA()()(),t.TgZ(4,"div",3)(5,"mat-dialog-content")(6,"div",4)(7,"h5",5)(8,"span"),t._uU(9,"SMS G\xf6nder"),t.qZA()()(),t.TgZ(10,"div",6)(11,"div",7)(12,"div",8)(13,"div",9)(14,"mat-form-field",10)(15,"mat-label"),t._uU(16,"Ba\u015fl\u0131k"),t.qZA(),t._UZ(17,"input",11),t.qZA()(),t.TgZ(18,"div",9)(19,"mat-form-field",12)(20,"mat-label"),t._uU(21,"\u0130\xe7erik"),t.qZA(),t._UZ(22,"textarea",13),t.qZA()()()(),t.TgZ(23,"div",14),t._UZ(24,"div",15),t.TgZ(25,"div",16)(26,"button",17),t.NdJ("click",function(){return o.closeDialog()}),t._uU(27," Vazge\xe7 "),t.qZA(),t.TgZ(28,"button",18),t.NdJ("click",function(){return o.sendSms()}),t._uU(29," G\xf6nder "),t.qZA()()()()()()),2&a&&(t.xp6(1),t.Q6J("tabIndex",-1),t.xp6(11),t.Q6J("formGroup",o.smstransactionsgroup),t.xp6(5),t.Q6J("formControlName","title"),t.xp6(5),t.Q6J("cdkAutosizeMinRows",3)("formControlName","content"),t.xp6(6),t.Q6J("color","primary")("disabled",o.buttonDisabled))},dependencies:[d.Fj,d.JJ,d.JL,v.lW,T.KE,T.hX,q.Nt,ct.IC,d.sg,d.u,p.uh,p.xY]})}return i})();var sn=m(28288);class rn{}class ln{}let rt=(()=>{class i{constructor(){this.dialogClosed=new t.vpe}static#t=this.\u0275fac=function(a){return new(a||i)};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function cn(i,n){1&i&&(t.TgZ(0,"span"),t._uU(1,"Yeni Sat\u0131\u015f Ekle"),t.qZA())}function mn(i,n){1&i&&(t.TgZ(0,"span"),t._uU(1,"Yeni Sat\u0131\u015f G\xfcncelle"),t.qZA())}function un(i,n){1&i&&(t.TgZ(0,"th",47),t._uU(1," \xdcr\xfcn/Hizmet se\xe7iniz "),t.qZA())}function dn(i,n){if(1&i&&(t.TgZ(0,"mat-option",52),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function pn(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"td",48)(1,"mat-form-field",49)(2,"mat-select",50),t.NdJ("valueChange",function(o){const l=t.CHM(e).$implicit;return t.KtG(l.product=o)})("selectionChange",function(){const s=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.onProductSelectionChange(s))}),t.YNc(3,dn,2,2,"mat-option",51),t.qZA()()()}if(2&i){const e=n.$implicit,a=t.oxw();t.xp6(2),t.Q6J("value",e.product),t.xp6(1),t.Q6J("ngForOf",a.products)}}function _n(i,n){1&i&&(t.TgZ(0,"th",47),t._uU(1," Miktar/Birimi "),t.qZA())}function hn(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"td",48)(1,"div",53)(2,"mat-form-field",54)(3,"input",55),t.NdJ("ngModelChange",function(o){const l=t.CHM(e).$implicit;return t.KtG(l.quantity=o)}),t.qZA()()()()}if(2&i){const e=n.$implicit;t.xp6(3),t.Q6J("ngModel",e.quantity)}}function fn(i,n){1&i&&(t.TgZ(0,"th",47),t._uU(1," Birim Fiyat "),t.qZA())}function gn(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"td",48)(1,"mat-form-field",49)(2,"input",55),t.NdJ("ngModelChange",function(o){const l=t.CHM(e).$implicit;return t.KtG(l.unitPrice=o)}),t.qZA()()()}if(2&i){const e=n.$implicit;t.xp6(2),t.Q6J("ngModel",e.unitPrice)}}function Cn(i,n){1&i&&(t.TgZ(0,"th",47),t._uU(1," \u0130skonto(TL) "),t.qZA())}function xn(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"td",48)(1,"mat-form-field",49)(2,"input",55),t.NdJ("ngModelChange",function(o){const l=t.CHM(e).$implicit;return t.KtG(l.discount=o)}),t.qZA()()()}if(2&i){const e=n.$implicit;t.xp6(2),t.Q6J("ngModel",e.discount)}}function Tn(i,n){1&i&&(t.TgZ(0,"th",47),t._uU(1," KDV "),t.qZA())}function Zn(i,n){if(1&i&&(t.TgZ(0,"mat-option",52),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.taxRatio)}}function vn(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"td",48)(1,"mat-form-field",49)(2,"mat-select",56),t.NdJ("valueChange",function(o){const l=t.CHM(e).$implicit;return t.KtG(l.vat=o)}),t.YNc(3,Zn,2,2,"mat-option",51),t.qZA()()()}if(2&i){const e=n.$implicit,a=t.oxw();t.xp6(2),t.Q6J("value",e.vat)("placeholder","KDV (%)"),t.xp6(1),t.Q6J("ngForOf",a.taxisList)}}function bn(i,n){1&i&&(t.TgZ(0,"th",47),t._uU(1," Toplam Tutar "),t.qZA())}function An(i,n){if(1&i&&(t.TgZ(0,"td",57),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&i){const e=n.$implicit,a=t.oxw();t.xp6(1),t.hij(" ",t.xi3(2,1,a.calculateTotal(e),"TRY")," ")}}function Dn(i,n){1&i&&t._UZ(0,"th",47)}function wn(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"td",48)(1,"button",58),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.removeRow(s))}),t.TgZ(2,"mat-icon"),t._uU(3,"delete"),t.qZA()()()}}function yn(i,n){1&i&&t._UZ(0,"tr",59)}function Nn(i,n){1&i&&t._UZ(0,"tr",60)}const Sn={parse:{dateInput:"DD/MM/YYYY"},display:{dateInput:"DD/MM/YYYY",monthYearLabel:"DDD MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"DDD MMMM YYYY"}};let Ct=(()=>{class i{constructor(e,a,o,s,l,C,f,Z,g){this._formBuilder=e,this._dialogRef=a,this._productdescriptionService=o,this._taxisService=s,this._customerService=l,this._translocoService=C,this.data=f,this.eventService=Z,this._dialog=g,this.salesAdded=new t.vpe,this.buttonDisabled=!1,this.displayedColumns=["product","quantity","unitPrice","discount","vat","total","actions"],this.dataSource=[{id:(0,M.Z)(),product:"",quantity:1,unit:"Adet",unitPrice:0,discount:0,vat:"Yok"}],this.products=[],this.taxisList=[],this.destroy$=new H.x,this.selectedCustomerId=f.customerId,this.selectedsales=f.data}ngOnInit(){(0,z.$)(this.getTaxisList(),this.getProductList()).pipe((0,K.R)(this.destroy$)).subscribe({next:e=>{this.setTaxis(e[0]),this.setProductList(e[1])},error:e=>{console.log(e)},complete:()=>{this.fillFormData(this.selectedsales)}}),this.formGroup=this._formBuilder.group({date:new d.NI(new Date),remark:[""]})}fillFormData(e){null!==this.selectedsales&&(this.formGroup.setValue({date:e.date,remark:e.remark}),this.dataSource=[],this.dataSource=e.trans,this.calculateTotalAmount())}onProductSelectionChange(e){const a=this.products.find(o=>o.id===e.product);e.unitPrice=a?a.sellingPrice:null,e.vat=a?a.taxisId:null}addRow(){const e={id:(0,M.Z)(),product:"",quantity:1,unit:"Adet",unitPrice:0,discount:0,vat:"Yok"};this.dataSource=[...this.dataSource,e]}closeDialog(){this._dialogRef.close({status:null})}removeRow(e){this.dataSource=this.dataSource.filter(a=>a!==e)}calculateTotal(e){const a=e.quantity*e.unitPrice;return a-(e.discount||0)+a*("8%"===e.vat?.08:"18%"===e.vat?.18:0)}calculateSubtotal(){return this.dataSource.reduce((e,a)=>e+(a.quantity*a.unitPrice-(a.discount||0)),0)}calculateVat(){return this.dataSource.reduce((e,a)=>e+a.quantity*a.unitPrice*("8%"===a.vat?.08:"18%"===a.vat?.18:0),0)}calculateTotalAmount(){return this.calculateSubtotal()+this.calculateVat()}addOrUpdateSales(){this.buttonDisabled=!0,this.selectedsales?this.updateSales():this.addSales(!1)}getTaxisList(){return this._taxisService.getTaxisList()}setTaxis(e){e.data&&(this.taxisList=e.data)}getProductList(){return this._productdescriptionService.getProductDescriptionFilters({ProductType:1})}setProductList(e){this.products=e.data}getFormValueByName(e){return this.formGroup.get(e).value}showSweetAlert(e,a){if("success"===e){const o=new _.c(this.translate("sweetalert.success"),this.translate(a),u.p.success);h.m.sweetAlert(o)}else{const o=new _.c(this.translate("sweetalert.error"),this.translate(a),u.p.error);h.m.sweetAlert(o)}}translate(e){return this._translocoService.translate(e)}addSales(e){const a=new rn;a.trans=this.dataSource,a.remark=this.getFormValueByName("remark"),a.date=this.getFormValueByName("date"),a.customerId=this.selectedCustomerId,this._customerService.saleCommand(a).subscribe(o=>{o.isSuccessful?(this.showSweetAlert("success","sweetalert.transactionSuccessful"),this._dialogRef.close({status:!0}),e&&this._dialog.open(st,{maxWidth:"100vw !important",disableClose:!0,data:{customerId:this.selectedCustomerId,saleOwnerId:o.data.id,amount:o.data.amount,data:null}}).afterClosed().subscribe(l=>{})):this.showSweetAlert("error","sweetalert.transactionFailed")},o=>{console.log(o)}),this.salesAdded.emit()}updateSales(){const e=new ln;e.id=this.selectedsales.id,e.trans=this.dataSource,e.remark=this.getFormValueByName("remark"),e.date=this.getFormValueByName("date"),this._customerService.updateSale(e).subscribe(a=>{a.isSuccessful?(this.showSweetAlert("success","sweetalert.transactionSuccessful"),this._dialogRef.close({status:!0})):this.showSweetAlert("error","sweetalert.transactionFailed")},a=>{console.log(a)}),this.salesAdded.emit()}addOrUpdateSalesCollection(){this.buttonDisabled=!0,this.selectedsales?this.updateSales():this.addSales(!0)}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(d.qu),t.Y36(p.so),t.Y36(ft.d),t.Y36(nt.W),t.Y36(I.v),t.Y36(U.Vn),t.Y36(p.WI),t.Y36(rt),t.Y36(p.uw))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-sales-dialog"]],outputs:{salesAdded:"salesAdded"},features:[t._Bn([{provide:y._A,useClass:J.t7,deps:[y.Ad,J.o8]},{provide:y.sG,useValue:Sn}])],decls:81,vars:28,consts:[["mat-dialog-title","",1,"mat-dialog-title"],[1,"dialog-close-button",3,"tabIndex","click"],[1,"material-icons"],[1,"modalForm","w-full"],[1,"w-full"],[1,"modal-header"],[1,"modal-title"],[4,"ngIf"],[1,"modal-body","mbody-customeradd","w-full"],[1,"row"],[1,"float",":","left","flex","gt-xs:flex-row",3,"formGroup"],[1,"flex-auto","gt-xs:pr-3"],["matInput","",3,"matDatepicker","formControlName"],["matIconSuffix","",3,"for"],["picker",""],[1,"flex","align-items-center"],["mat-flat-button","",1,"ml-4",3,"color"],[3,"svgIcon"],[1,"ml-2","mr-1"],["mat-table","",1,"shadow-none","z-0","border",3,"dataSource"],["matColumnDef","product"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","quantity"],["matColumnDef","unitPrice"],["matColumnDef","discount"],["matColumnDef","vat"],["matColumnDef","total"],["mat-cell","","class","mt-0",4,"matCellDef"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"w-full","flex","justify-center","items-center"],["mat-flat-button","",1,"my-3","bg-slate-300","w-2/3",3,"click"],[1,"bottom-section","flex","w-full","justify-between"],[1,"sales-notes","w-full"],["appearance","fill",1,"full-width"],["matInput","","placeholder","Sat\u0131\u015f notlar\u0131",3,"formControlName"],[1,"w-full","items-end","mt-3","justify-end"],[1,"justify-end"],[1,"text-end"],[1,"w-full","flex","justify-end","mt-2"],["mat-button","","color","primary",1,""],[1,"flex","items-center","mt-4","sm:mt-2","justify-end","mr-7"],["mat-stroked-button","",1,"ml-auto","sm:ml-0","mr-2",3,"click"],["mat-flat-button","",1,"order-first","sm:order-last","mr-2",3,"color","disabled","click"],["mat-flat-button","",1,"order-first","sm:order-last","bg-green-400","text-white",3,"disabled","click"],["mat-header-cell",""],["mat-cell",""],["appearance","fill"],[1,"text-center",3,"value","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"quantity-container"],["appearance","fill",1,"quantity-field"],["matInput","","type","number",3,"ngModel","ngModelChange"],[3,"value","placeholder","valueChange"],["mat-cell","",1,"mt-0"],["mat-icon-button","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(a,o){if(1&a&&(t.TgZ(0,"h1",0)(1,"button",1),t.NdJ("click",function(){return o.closeDialog()}),t.TgZ(2,"span",2),t._uU(3," highlight_off "),t.qZA()()(),t.TgZ(4,"div",3)(5,"mat-dialog-content",4)(6,"div",5)(7,"h5",6),t.YNc(8,cn,2,0,"span",7),t.YNc(9,mn,2,0,"span",7),t.qZA()(),t.TgZ(10,"div",8)(11,"div",9)(12,"div",10)(13,"mat-form-field",11)(14,"mat-label"),t._uU(15,"Tarih"),t.qZA(),t._UZ(16,"input",12)(17,"mat-datepicker-toggle",13)(18,"mat-datepicker",null,14),t.qZA(),t.TgZ(20,"div",15)(21,"button",16),t._UZ(22,"mat-icon",17),t.TgZ(23,"span",18),t._uU(24,"Barkod Okut"),t.qZA()()()(),t.TgZ(25,"div")(26,"table",19),t.ynx(27,20),t.YNc(28,un,2,0,"th",21),t.YNc(29,pn,4,2,"td",22),t.BQk(),t.ynx(30,23),t.YNc(31,_n,2,0,"th",21),t.YNc(32,hn,4,1,"td",22),t.BQk(),t.ynx(33,24),t.YNc(34,fn,2,0,"th",21),t.YNc(35,gn,3,1,"td",22),t.BQk(),t.ynx(36,25),t.YNc(37,Cn,2,0,"th",21),t.YNc(38,xn,3,1,"td",22),t.BQk(),t.ynx(39,26),t.YNc(40,Tn,2,0,"th",21),t.YNc(41,vn,4,3,"td",22),t.BQk(),t.ynx(42,27),t.YNc(43,bn,2,0,"th",21),t.YNc(44,An,3,4,"td",28),t.BQk(),t.ynx(45,29),t.YNc(46,Dn,1,0,"th",21),t.YNc(47,wn,4,0,"td",22),t.BQk(),t.YNc(48,yn,1,0,"tr",30),t.YNc(49,Nn,1,0,"tr",31),t.qZA()(),t.TgZ(50,"div",32)(51,"button",33),t.NdJ("click",function(){return o.addRow()}),t._uU(52,"Sat\u0131r Ekle"),t.qZA()(),t.TgZ(53,"div",34)(54,"div",35)(55,"h3"),t._uU(56,"Sat\u0131\u015f Notlar\u0131"),t.qZA(),t.TgZ(57,"mat-form-field",36),t._UZ(58,"textarea",37),t.qZA()(),t.TgZ(59,"div",38)(60,"div",39)(61,"div")(62,"p",40),t._uU(63),t.ALo(64,"currency"),t.qZA(),t.TgZ(65,"p",40),t._uU(66),t.ALo(67,"currency"),t.qZA(),t.TgZ(68,"p",40),t._uU(69),t.ALo(70,"currency"),t.qZA()(),t.TgZ(71,"div",41)(72,"button",42),t._uU(73," + Sokak hayvan\u0131 indirimi (%25) "),t.qZA()()()()()()()()(),t.TgZ(74,"div",43)(75,"button",44),t.NdJ("click",function(){return o.closeDialog()}),t._uU(76," Vazge\xe7 "),t.qZA(),t.TgZ(77,"button",45),t.NdJ("click",function(){return o.addOrUpdateSales()}),t._uU(78," Kaydet "),t.qZA(),t.TgZ(79,"button",46),t.NdJ("click",function(){return o.addOrUpdateSalesCollection()}),t._uU(80," Kaydet & \xd6deme Ekle "),t.qZA()()),2&a){const s=t.MAs(19);t.xp6(1),t.Q6J("tabIndex",-1),t.xp6(7),t.Q6J("ngIf",!o.selectedsales),t.xp6(1),t.Q6J("ngIf",o.selectedsales),t.xp6(3),t.Q6J("formGroup",o.formGroup),t.xp6(4),t.Q6J("matDatepicker",s)("formControlName","date"),t.xp6(1),t.Q6J("for",s),t.xp6(4),t.Q6J("color","primary"),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:plus"),t.xp6(4),t.Q6J("dataSource",o.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(9),t.Q6J("formControlName","remark"),t.xp6(5),t.hij("Ara toplam: ",t.xi3(64,19,o.calculateSubtotal(),"TRY"),""),t.xp6(3),t.hij("KDV: ",t.xi3(67,22,o.calculateVat(),"TRY"),""),t.xp6(3),t.hij("Toplam: ",t.xi3(70,25,o.calculateTotalAmount(),"TRY"),""),t.xp6(8),t.Q6J("color","primary")("disabled",o.buttonDisabled),t.xp6(2),t.Q6J("disabled",o.buttonDisabled)}},dependencies:[d.Fj,d.wV,d.JJ,d.JL,d.On,v.lW,v.RK,T.KE,T.hX,T.R9,w.Hw,q.Nt,d.sg,d.u,r.BZ,r.fO,r.as,r.w1,r.Dz,r.nj,r.ge,r.ev,r.XQ,r.Gk,D.sg,D.O5,F.gD,y.ey,p.uh,p.xY,Y.Mq,Y.hl,Y.nW,D.H9],data:{animation:sn.L}})}return i})();var Un=m(19075),xt=m(79458);function In(i,n){1&i&&(t.TgZ(0,"span"),t._uU(1,"Hasta G\xfcncelle"),t.qZA())}function qn(i,n){1&i&&(t.TgZ(0,"span"),t._uU(1,"Hasta Ekle"),t.qZA())}function kn(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"mat-option",41),t._uU(2),t.qZA(),t.BQk()),2&i){const e=n.$implicit;t.xp6(1),t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function Yn(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"mat-option",41),t._uU(2),t.qZA(),t.BQk()),2&i){const e=n.$implicit;t.xp6(1),t.Q6J("value",e.type),t.xp6(1),t.hij(" ",e.name," ")}}function Jn(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"mat-option",41),t._uU(2),t.qZA(),t.BQk()),2&i){const e=n.$implicit;t.xp6(1),t.Q6J("value",e.recId),t.xp6(1),t.hij(" ",e.breedName," ")}}function Qn(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"mat-option",41),t._uU(2),t.qZA(),t.BQk()),2&i){const e=n.$implicit;t.xp6(1),t.Q6J("value",e.recId),t.xp6(1),t.hij(" ",e.name," ")}}const Fn={parse:{dateInput:"DD/MM/YYYY"},display:{dateInput:"DD/MM/YYYY",monthYearLabel:"DDD MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"DDD MMMM YYYY"}};let Tt=(()=>{class i{constructor(e,a,o,s,l,C,f){this._dialogRef=e,this._formBuilder=a,this._translocoService=o,this._animalColorDefService=s,this._customerService=l,this._dialog=C,this.data=f,this.animalcolorDefList=[],this.animalTypesList=[],this.animalBreedsDef=[],this.buttonDisabled=!1,this.destroy$=new H.x,this.sextype=En,this.selectedCustomerId=f.customerId,this.selectedpatients=f.selectedPatients}ngOnInit(){(0,z.$)(this.getAnimalColorsDefList(),this.getAnimalTypesList(),this.getAnimalBreedsDefList()).pipe((0,K.R)(this.destroy$)).subscribe({next:e=>{this.setAnimalColorsDefList(e[0]),this.setAnimalTypesList(e[1]),this.setAnimalBreedsDefList(e[2])},error:e=>{console.log(e)},complete:()=>{this.fillFormData(this.selectedpatients)}}),this.patientDetailsForm=this._formBuilder.group({id:[""],name:["",[d.kI.required]],birthDate:[""],chipNumber:[""],sex:[1],animalType:[0],animalBreed:[],animalColor:[""],reportNumber:[""],specialNote:[""],sterilization:[]})}fillFormData(e){null!=this.selectedpatients&&(this.patientDetailsForm.setValue({id:e.id,name:e.name,birthDate:e.birthDate,chipNumber:e.chipNumber,sex:e.sex,animalType:e.animalType,animalBreed:e.animalBreed,animalColor:e.animalColor,reportNumber:e.reportNumber,specialNote:e.specialNote,sterilization:e.sterilization}),this.filterTagsByVendor(e.animalType))}filterTagsByVendor(e){const a=e.value;this.filteredAnimalBreed=this.animalBreedsDef.filter(o=>o.animaltype==a),this.animalBreedsDef.forEach(o=>{o.isSelected=!1})}addPanelOpen(){this._dialog.open(Un.l,{maxWidth:"100vw !important",disableClose:!0,data:null}).afterClosed().subscribe(a=>{})}closeDialog(){this._dialogRef.close({status:null})}showSweetAlert(e){if("success"===e){const a=new _.c(this.translate("sweetalert.success"),this.translate("sweetalert.transactionSuccessful"),u.p.success);h.m.sweetAlert(a)}else{const a=new _.c(this.translate("sweetalert.error"),this.translate("sweetalert.transactionFailed"),u.p.error);h.m.sweetAlert(a)}}translate(e){return this._translocoService.translate(e)}addOrUpdatePatients(){this.buttonDisabled=!0,this.selectedpatients?this.updatePatients():this.addPatients()}addPatients(){const e={id:(0,M.Z)(),recId:(0,M.Z)(),name:this.patientDetailsForm.value?.name,birthDate:this.patientDetailsForm.value?.birthDate,chipNumber:this.patientDetailsForm.value?.chipNumber,sex:this.patientDetailsForm.value?.sex,animalType:this.patientDetailsForm.value?.animalType,animalBreed:this.patientDetailsForm.value?.animalBreed,animalColor:this.patientDetailsForm.value?.animalColor,reportNumber:this.patientDetailsForm.value?.reportNumber,specialNote:this.patientDetailsForm.value?.specialNote,sterilization:this.patientDetailsForm.value?.sterilization,active:!0,thumbnail:"",images:[]},a=new xt.U(this.selectedCustomerId,e);this._customerService.createPatients(a).subscribe(o=>{o.isSuccessful?(this.showSweetAlert("success"),this._dialogRef.close({status:!0})):(this.showSweetAlert("error"),this.buttonDisabled=!0)},o=>{console.log(o)})}updatePatients(){const e={recId:(0,M.Z)(),id:this.patientDetailsForm.value?.id,name:this.patientDetailsForm.value?.name,birthDate:this.patientDetailsForm.value?.birthDate,chipNumber:this.patientDetailsForm.value?.chipNumber,sex:this.patientDetailsForm.value?.sex,animalType:this.patientDetailsForm.value?.animalType,animalBreed:this.patientDetailsForm.value?.animalBreed,animalColor:this.patientDetailsForm.value?.animalColor,reportNumber:this.patientDetailsForm.value?.reportNumber,specialNote:this.patientDetailsForm.value?.specialNote,sterilization:this.patientDetailsForm.value?.sterilization,active:!0,thumbnail:"",images:[]},a=new xt.U(this.selectedCustomerId,e);this._customerService.updatePatient(a).subscribe(o=>{o.isSuccessful?(this.showSweetAlert("success"),this._dialogRef.close({status:!0})):(this.showSweetAlert("error"),this.buttonDisabled=!0)},o=>{console.log(o)})}getAnimalColorsDefList(){return this._animalColorDefService.getAnimalColorsDefList()}setAnimalColorsDefList(e){e.data&&(this.animalcolorDefList=e.data)}getAnimalTypesList(){return this._customerService.getVetVetAnimalsType()}setAnimalTypesList(e){e.data&&(this.animalTypesList=e.data)}getAnimalBreedsDefList(){return this._customerService.getAnimalBreedsDefList()}setAnimalBreedsDefList(e){e.data&&(this.animalBreedsDef=e.data)}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(p.so),t.Y36(d.qu),t.Y36(U.Vn),t.Y36(Q.x),t.Y36(I.v),t.Y36(p.uw),t.Y36(p.WI))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-create-edit-customerpatients"]],features:[t._Bn([{provide:y._A,useClass:J.t7,deps:[y.Ad,J.o8]},{provide:y.sG,useValue:Fn}])],decls:79,vars:26,consts:[["mat-dialog-title","",1,"mat-dialog-title"],[1,"dialog-close-button",3,"tabIndex","click"],[1,"material-icons"],[1,"modalForm"],[1,"modal-header"],[1,"modal-title"],[4,"ngIf"],[1,"modal-body","mbody-patients"],[1,"qm-pr-content"],[3,"formGroup"],[1,"row"],[1,"col-sm-12","mt-2","common-width"],[1,"w-full"],["matInput","","required","",3,"formControlName"],[1,"float",":","left","flex","gt-xs:flex-row"],[1,"flex-auto","gt-xs:pl-3"],[3,"formControlName"],[4,"ngFor","ngForOf"],[1,"ml-5","flex-auto","gt-xs:pl-3"],[3,"formControlName","selectionChange"],[1,"flex"],[1,"w-1/3","pr-2"],["matInput","",3,"formControlName"],[1,"w-2/3","pl-2"],["matInput","",3,"matDatepicker","formControlName"],["matIconSuffix","",3,"for"],["picker",""],[1,"w-1/2","pl-2"],[1,"flex","align-items-center"],["mat-flat-button","",1,"ml-4",3,"color","click"],[3,"svgIcon"],[1,"ml-2","mr-1"],[1,"w-1/6","pr-2"],[1,"flex","flex-col","mt-8"],[1,"font-semibold","mb-2"],[3,"formControlName","color"],[1,"flex","flex-col","sm:flex-row","sm:items-center","justify-between","mt-4","sm:mt-6"],[1,"-ml-2"],[1,"flex","items-center","mt-4","sm:mt-0"],["mat-stroked-button","",1,"ml-auto","sm:ml-0","mr-2",3,"click"],["mat-flat-button","",1,"order-first","sm:order-last",3,"color","disabled","click"],[3,"value"]],template:function(a,o){if(1&a&&(t.TgZ(0,"h1",0)(1,"button",1),t.NdJ("click",function(){return o.closeDialog()}),t.TgZ(2,"span",2),t._uU(3," highlight_off "),t.qZA()()(),t.TgZ(4,"div",3)(5,"mat-dialog-content")(6,"div",4)(7,"h5",5),t.YNc(8,In,2,0,"span",6),t.YNc(9,qn,2,0,"span",6),t.qZA()(),t.TgZ(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"mat-form-field",12)(16,"mat-label"),t._uU(17,"Hasta Ad\u0131"),t.qZA(),t._UZ(18,"input",13),t.qZA(),t.TgZ(19,"div",14)(20,"mat-form-field",15)(21,"mat-label"),t._uU(22,"Cinsiyeti"),t.qZA(),t.TgZ(23,"mat-select",16),t.YNc(24,kn,3,2,"ng-container",17),t.qZA()(),t.TgZ(25,"mat-form-field",18)(26,"mat-label"),t._uU(27,"T\xfcr"),t.qZA(),t.TgZ(28,"mat-select",19),t.NdJ("selectionChange",function(l){return o.filterTagsByVendor(l)}),t.YNc(29,Yn,3,2,"ng-container",17),t.qZA()(),t.TgZ(30,"mat-form-field",18)(31,"mat-label"),t._uU(32,"Irk\u0131"),t.qZA(),t.TgZ(33,"mat-select",16),t.YNc(34,Jn,3,2,"ng-container",17),t.qZA()()(),t.TgZ(35,"div",20)(36,"mat-form-field",21)(37,"mat-label"),t._uU(38,"\xc7ip Numaras\u0131"),t.qZA(),t._UZ(39,"input",22),t.qZA(),t.TgZ(40,"mat-form-field",23)(41,"mat-label"),t._uU(42,"Karne/K\xfcpe Numaras\u0131"),t.qZA(),t._UZ(43,"input",22),t.qZA()(),t.TgZ(44,"div",20)(45,"mat-form-field",21)(46,"mat-label"),t._uU(47,"Do\u011fum Tarihi"),t.qZA(),t._UZ(48,"input",24)(49,"mat-datepicker-toggle",25)(50,"mat-datepicker",null,26),t.qZA(),t.TgZ(52,"mat-form-field",27)(53,"mat-label"),t._uU(54,"Rengi"),t.qZA(),t.TgZ(55,"mat-select",16),t.YNc(56,Qn,3,2,"ng-container",17),t.qZA()(),t.TgZ(57,"div",28)(58,"button",29),t.NdJ("click",function(){return o.addPanelOpen()}),t._UZ(59,"mat-icon",30),t.TgZ(60,"span",31),t._uU(61,"Renk"),t.qZA()()()(),t.TgZ(62,"div",20)(63,"mat-form-field",32)(64,"mat-label"),t._uU(65,"Hasta \xd6zel Durumu"),t.qZA(),t._UZ(66,"textarea",22),t.qZA()(),t.TgZ(67,"div",33)(68,"span",34),t._uU(69,"K\u0131s\u0131rla\u015ft\u0131r\u0131lm\u0131\u015f"),t.qZA(),t.TgZ(70,"mat-slide-toggle",35),t._uU(71),t.qZA()()()()()(),t.TgZ(72,"div",36),t._UZ(73,"div",37),t.TgZ(74,"div",38)(75,"button",39),t.NdJ("click",function(){return o.closeDialog()}),t._uU(76," Vazge\xe7 "),t.qZA(),t.TgZ(77,"button",40),t.NdJ("click",function(){return o.addOrUpdatePatients()}),t._uU(78," Kaydet "),t.qZA()()()()()()),2&a){const s=t.MAs(51);t.xp6(1),t.Q6J("tabIndex",-1),t.xp6(7),t.Q6J("ngIf",o.selectedpatients),t.xp6(1),t.Q6J("ngIf",!o.selectedpatients),t.xp6(3),t.Q6J("formGroup",o.patientDetailsForm),t.xp6(6),t.Q6J("formControlName","name"),t.xp6(5),t.Q6J("formControlName","sex"),t.xp6(1),t.Q6J("ngForOf",o.sextype),t.xp6(4),t.Q6J("formControlName","animalType"),t.xp6(1),t.Q6J("ngForOf",o.animalTypesList),t.xp6(4),t.Q6J("formControlName","animalBreed"),t.xp6(1),t.Q6J("ngForOf",o.filteredAnimalBreed),t.xp6(5),t.Q6J("formControlName","chipNumber"),t.xp6(4),t.Q6J("formControlName","reportNumber"),t.xp6(5),t.Q6J("matDatepicker",s)("formControlName","birthDate"),t.xp6(1),t.Q6J("for",s),t.xp6(6),t.Q6J("formControlName","animalColor"),t.xp6(1),t.Q6J("ngForOf",o.animalcolorDefList),t.xp6(2),t.Q6J("color","primary"),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:plus"),t.xp6(7),t.Q6J("formControlName","specialNote"),t.xp6(4),t.Q6J("formControlName","sterilization")("color","primary"),t.xp6(1),t.hij(" ",(null!=o.selectedpatients||null!=o.selectedpatients)&&(!0===o.selectedpatients.sterilization?"Evet":"Hay\u0131r")," "),t.xp6(6),t.Q6J("color","primary")("disabled",o.buttonDisabled)}},dependencies:[d.Fj,d.JJ,d.JL,d.Q7,v.lW,T.KE,T.hX,T.R9,w.Hw,q.Nt,d.sg,d.u,D.sg,D.O5,F.gD,y.ey,W.Rr,p.uh,p.xY,Y.Mq,Y.hl,Y.nW]})}return i})();const En=[{id:1,parentId:null,name:"Erkek",slug:"Erkek"},{id:2,parentId:null,name:"Di\u015fi",slug:"Di\u015fi"}];function Bn(i,n){if(1&i&&(t.TgZ(0,"mat-option",29),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",e),t.xp6(1),t.AsE(" ",e.name," (",e.balance,"TL) ")}}function Mn(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"mat-option",29),t._uU(2),t.qZA(),t.BQk()),2&i){const e=n.$implicit;t.xp6(1),t.Q6J("value",e.recId),t.xp6(1),t.Oqu(e.name)}}const Ln={parse:{dateInput:"DD/MM/YYYY"},display:{dateInput:"DD/MM/YYYY",monthYearLabel:"DDD MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"DDD MMMM YYYY"}};let Pn=(()=>{class i{constructor(e,a,o,s,l,C){this._formBuilder=e,this._dialogRef=a,this._translocoService=o,this._customerService=s,this._paymentmethodsService=l,this.data=C,this.buttonDisabled=!1,this.customers=[],this.paymentMethods=["Nakit"],this.collectionAmount=0,this.collectionDate=(new Date).toISOString().split("T")[0],this.payments=[],this.customers=C.customerlist,this.selectedCustomerId=C.customerId,this.selectedCustomer=this.customers[0]}ngOnInit(){this.paymentsList(),this.formGroup=this._formBuilder.group({customer:[this.customers[0]],paymenttype:[1,d.kI.required],date:new d.NI(new Date),remark:[""],amount:[0]})}addCollection(){const e={customerId:this.selectedCustomerId,paymentId:this.getFormValueByName("paymenttype"),date:this.getFormValueByName("date"),amount:this.getFormValueByName("amount"),remark:this.getFormValueByName("remark")};if(e.amount<=0)return this.showSweetAlert("error","Tahsilat Tutatar\u0131 Giriniz..."),void(this.buttonDisabled=!1);this._customerService.balanceCollection(e).subscribe(a=>{a.isSuccessful?(this.showSweetAlert("success","sweetalert.transactionSuccessful"),this._dialogRef.close({status:!0})):this.showSweetAlert("error","sweetalert.transactionFailed")},a=>{console.log(a)})}viewCustomerCard(){console.log("M\xfc\u015fteri kart\u0131 g\xf6r\xfcnt\xfcleniyor:",this.selectedCustomer)}addOrUpdateCollection(){this.buttonDisabled=!0,this.selectedbalancecollection?this.updateCollection():this.addCollection()}updateCollection(){}getFormValueByName(e){return this.formGroup.get(e).value}paymentsList(){this._paymentmethodsService.getPaymentMethodsList().subscribe(e=>{this.payments=e.data,console.log(this.payments)})}closeDialog(){this._dialogRef.close({status:null})}showSweetAlert(e,a){if("success"===e){const o=new _.c(this.translate("sweetalert.success"),this.translate(a),u.p.success);h.m.sweetAlert(o)}else{const o=new _.c(this.translate("sweetalert.error"),this.translate(a),u.p.error);h.m.sweetAlert(o)}}translate(e){return this._translocoService.translate(e)}formatDate(e){return new Date(e).toLocaleString("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}handleClick(){this.formGroup.get("amount").setValue(this.selectedCustomer.balance)}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(d.qu),t.Y36(p.so),t.Y36(U.Vn),t.Y36(I.v),t.Y36(ot.b),t.Y36(p.WI))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-balacecollection"]],features:[t._Bn([{provide:y._A,useClass:J.t7,deps:[y.Ad,J.o8]},{provide:y.sG,useValue:Ln}])],decls:50,vars:15,consts:[["mat-dialog-title","",1,"mat-dialog-title"],[1,"dialog-close-button",3,"tabIndex","click"],[1,"material-icons"],[1,"modalForm"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body","mbody-customeradd",3,"formGroup"],[1,"float",":","left","flex","gt-xs:flex-row"],[1,"flex-auto","gt-xs:pl-3"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],[1,"ml-5","flex-auto","gt-xs:pl-3"],["matInput","","readonly","",3,"disabled","value"],[1,"flex-auto","gt-xs:pl-3","w-1/2"],[3,"value","formControlName"],[4,"ngFor","ngForOf"],[1,"ml-5","flex-auto","mb-0","w-1/2"],["matInput","","type","number","min","0",3,"formControlName"],[1,"flex-auto","underline",3,"click"],[1,"mb-4"],["appearance","fill",1,"w-full"],["matInput","",3,"matDatepicker","formControlName"],["matSuffix","",3,"for"],["picker",""],[1,"flex","flex-col","sm:flex-row","sm:items-center","justify-between","mt-4","sm:mt-6"],[1,"-ml-2"],[1,"flex","items-center","mt-4","sm:mt-0"],["mat-stroked-button","",1,"ml-auto","sm:ml-0","mr-2",3,"click"],["mat-flat-button","",1,"order-first","sm:order-last",3,"color","disabled","click"],[3,"value"]],template:function(a,o){if(1&a&&(t.TgZ(0,"h1",0)(1,"button",1),t.NdJ("click",function(){return o.closeDialog()}),t.TgZ(2,"span",2),t._uU(3," highlight_off "),t.qZA()()(),t.TgZ(4,"div",3)(5,"mat-dialog-content")(6,"div",4)(7,"h5",5)(8,"span"),t._uU(9,"M\xfc\u015fteri Tahsilat\u0131"),t.qZA()()(),t.TgZ(10,"div",6)(11,"div",7)(12,"mat-form-field",8)(13,"mat-label"),t._uU(14,"M\xfc\u015fteri / Sahibi"),t.qZA(),t.TgZ(15,"mat-select",9),t.YNc(16,Bn,2,3,"mat-option",10),t.qZA()(),t.TgZ(17,"mat-form-field",11)(18,"mat-label"),t._uU(19,"Bakiye"),t.qZA(),t._UZ(20,"input",12),t.qZA()(),t.TgZ(21,"div",7)(22,"div",13)(23,"mat-form-field")(24,"mat-label"),t._uU(25,"\xd6deme Tipi"),t.qZA(),t.TgZ(26,"mat-select",14),t.YNc(27,Mn,3,2,"ng-container",15),t.qZA()()(),t.TgZ(28,"div",16)(29,"mat-form-field")(30,"mat-label"),t._uU(31,"Tahsilat tutar\u0131"),t.qZA(),t._UZ(32,"input",17),t.qZA(),t.TgZ(33,"a",18),t.NdJ("click",function(){return o.handleClick()}),t._uU(34,"Bakiye tutar\u0131 kadar"),t.qZA()()(),t.TgZ(35,"div",19)(36,"mat-form-field",20)(37,"mat-label"),t._uU(38,"Tahsilat Tarihi"),t.qZA(),t._UZ(39,"input",21)(40,"mat-datepicker-toggle",22)(41,"mat-datepicker",null,23),t.qZA()(),t.TgZ(43,"div",24),t._UZ(44,"div",25),t.TgZ(45,"div",26)(46,"button",27),t.NdJ("click",function(){return o.closeDialog()}),t._uU(47," Vazge\xe7 "),t.qZA(),t.TgZ(48,"button",28),t.NdJ("click",function(){return o.addOrUpdateCollection()}),t._uU(49," Kaydet "),t.qZA()()()()()()),2&a){const s=t.MAs(42);t.xp6(1),t.Q6J("tabIndex",-1),t.xp6(9),t.Q6J("formGroup",o.formGroup),t.xp6(5),t.Q6J("formControlName","customer"),t.xp6(1),t.Q6J("ngForOf",o.customers),t.xp6(4),t.Q6J("disabled",!0)("value",(null==o.selectedCustomer?null:o.selectedCustomer.balance)+"TL"),t.xp6(6),t.Q6J("value","all")("formControlName","paymenttype"),t.xp6(1),t.Q6J("ngForOf",o.payments),t.xp6(5),t.Q6J("formControlName","amount"),t.xp6(7),t.Q6J("matDatepicker",s)("formControlName","date"),t.xp6(1),t.Q6J("for",s),t.xp6(8),t.Q6J("color","primary")("disabled",o.buttonDisabled)}},dependencies:[d.Fj,d.wV,d.JJ,d.JL,d.qQ,v.lW,T.KE,T.hX,T.R9,q.Nt,d.sg,d.u,D.sg,F.gD,y.ey,p.uh,p.xY,Y.Mq,Y.hl,Y.nW]})}return i})();function On(i,n){if(1&i&&(t.TgZ(0,"div",36)(1,"h2",37),t._uU(2),t.qZA()()),2&i){const e=t.oxw();t.xp6(2),t.AsE(" ",e.firstname," ",e.lastname," ")}}function Rn(i,n){1&i&&(t.TgZ(0,"div",36)(1,"h2",37),t._uU(2," ... "),t.qZA()())}function Vn(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"button",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.openBalanceCollection())}),t._UZ(1,"mat-icon",12),t._uU(2),t.qZA()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("svgIcon","warning"),t.xp6(1),t.hij(" ",e.totalEarnings-e.totalCollection," \u20ba Bakiye ")}}function Gn(i,n){1&i&&(t.TgZ(0,"div",38),t._UZ(1,"div",39)(2,"div",39)(3,"div",39)(4,"div",39),t.qZA())}function Hn(i,n){if(1&i&&(t.TgZ(0,"div",40)(1,"div",41)(2,"div",42)(3,"div",43)(4,"div",44),t._uU(5," Toplam Yap\u0131lan Sat\u0131\u015f "),t.qZA()(),t.TgZ(6,"div",45)(7,"div",46),t._uU(8),t.qZA()()()(),t.TgZ(9,"div",41)(10,"div",42)(11,"div",43)(12,"div",44),t._uU(13," Toplam Ziyaret Say\u0131s\u0131 "),t.qZA()(),t.TgZ(14,"div",45)(15,"div",47),t._uU(16),t.qZA()()()(),t.TgZ(17,"div",41)(18,"div",42)(19,"div",43)(20,"div",44),t._uU(21," Toplam Kazan\xe7 "),t.qZA()(),t.TgZ(22,"div",45)(23,"div",46),t._uU(24),t.qZA()()()(),t.TgZ(25,"div",41)(26,"div",42)(27,"div",43)(28,"div",44),t._uU(29," G\xf6nderilen Mesaj Say\u0131s\u0131 "),t.qZA()(),t.TgZ(30,"div",45)(31,"div",47),t._uU(32," 0 "),t.qZA()()()()()),2&i){const e=t.oxw();t.xp6(8),t.hij(" ",e.totalSaleBuyCount," "),t.xp6(8),t.hij(" ",e.totalVisitCount," "),t.xp6(8),t.hij(" ",e.totalCollection," \u20ba ")}}function zn(i,n){1&i&&(t.TgZ(0,"div",48),t._UZ(1,"div",49)(2,"div",49),t.qZA())}function Kn(i,n){if(1&i&&(t.TgZ(0,"mat-option",77),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",e.name),t.xp6(1),t.Oqu(e.name)}}const Zt=function(){return["./"]};function $n(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"fuse-card",78)(1,"div",79),t._UZ(2,"img",80),t.TgZ(3,"div",81)(4,"div",82),t._uU(5,"Hasta Ad\u0131"),t.qZA(),t.TgZ(6,"div",83),t._uU(7),t.qZA()()(),t.TgZ(8,"div",84)(9,"div",85)(10,"div",86)(11,"div",87),t._uU(12," \xc7ip Numaras\u0131 "),t.qZA(),t.TgZ(13,"div",88),t._uU(14),t.qZA(),t._UZ(15,"div",89),t.qZA(),t.TgZ(16,"div",90)(17,"div",87),t._uU(18," Hasta Tipi "),t.qZA(),t.TgZ(19,"div",88),t._uU(20),t.qZA()()()(),t.TgZ(21,"div",91)(22,"a",92),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.redirectToDeletePatient(s.recId))}),t._uU(23," Sil "),t.qZA(),t.TgZ(24,"a",92),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.redirectToUpdatePatient(s.recId))}),t._uU(25," D\xfczenle "),t.qZA()()()}if(2&i){const e=n.$implicit;t.xp6(7),t.Oqu(e.name),t.xp6(7),t.hij(" ",e.chipNumber," "),t.xp6(6),t.hij(" ",e.animalTypeName," "),t.xp6(2),t.Q6J("color","warn")("routerLink",t.DdM(7,Zt)),t.xp6(2),t.Q6J("color","primary")("routerLink",t.DdM(8,Zt))}}function jn(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",50)(1,"div",51)(2,"div",52),t._UZ(3,"img",53),t.TgZ(4,"h1",54),t._uU(5),t.qZA(),t.TgZ(6,"h1",55),t._uU(7),t.qZA()(),t.TgZ(8,"div",56)(9,"div",57)(10,"div",58)(11,"button",59),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.addPanelOpen())}),t.TgZ(12,"mat-icon",60),t._uU(13,"edit"),t.qZA()()(),t.TgZ(14,"div",61)(15,"mat-form-field",62)(16,"mat-label",63),t._uU(17,"E-mail"),t.qZA(),t._UZ(18,"input",64)(19,"mat-icon",65),t.qZA(),t.TgZ(20,"mat-form-field",66)(21,"mat-label",63),t._uU(22,"Telefon No"),t.qZA(),t._UZ(23,"input",64)(24,"mat-icon",65),t.qZA()(),t.TgZ(25,"div",67)(26,"mat-form-field",68)(27,"mat-label",63),t._uU(28,"Telefon No 2"),t.qZA(),t._UZ(29,"input",64)(30,"mat-icon",65),t.qZA(),t.TgZ(31,"mat-form-field",69)(32,"mat-label",63),t._uU(33,"\u0130l"),t.qZA(),t._UZ(34,"input",64)(35,"mat-icon",65),t.qZA()(),t.TgZ(36,"div",67)(37,"mat-form-field",68)(38,"mat-label",63),t._uU(39,"\u0130l\xe7e"),t.qZA(),t._UZ(40,"input",64)(41,"mat-icon",65),t.qZA(),t.TgZ(42,"mat-form-field",69)(43,"mat-label",63),t._uU(44,"Vergi Dairesi"),t.qZA(),t._UZ(45,"input",64),t.qZA()(),t.TgZ(46,"div",67)(47,"mat-form-field",68)(48,"mat-label",63),t._uU(49,"VN/TC No"),t.qZA(),t._UZ(50,"input",64)(51,"mat-icon",65),t.qZA(),t.TgZ(52,"mat-form-field",69)(53,"mat-label",63),t._uU(54,"Not"),t.qZA(),t._UZ(55,"input",64),t.qZA()(),t.TgZ(56,"div",67)(57,"mat-form-field",68)(58,"mat-label",63),t._uU(59,"Adres"),t.qZA(),t._UZ(60,"input",64)(61,"mat-icon",65),t.qZA(),t.TgZ(62,"mat-form-field",69)(63,"mat-label",63),t._uU(64,"M\xfc\u015fteri \u0130ndirim Oran\u0131"),t.qZA(),t._UZ(65,"input",64)(66,"mat-icon",65),t.qZA()(),t.TgZ(67,"div",67)(68,"mat-form-field",68)(69,"mat-label"),t._uU(70,"M\xfc\u015fteri Grubu"),t.qZA(),t.TgZ(71,"mat-select",70),t.NdJ("ngModelChange",function(o){t.CHM(e);const s=t.oxw();return t.KtG(s.selectedValue=o)}),t.TgZ(72,"mat-option"),t._uU(73,"None"),t.qZA(),t.YNc(74,Kn,2,2,"mat-option",71),t.qZA()(),t.TgZ(75,"mat-form-field",69)(76,"mat-label",63),t._uU(77,"Kay\u0131t Tarihi"),t.qZA(),t._UZ(78,"input",64)(79,"mat-icon",65),t.qZA()(),t.TgZ(80,"div",67)(81,"mat-checkbox",72),t._uU(82," SMS Bildirimi "),t.qZA(),t.TgZ(83,"mat-checkbox",73),t._uU(84," E-Posta Bildirimi "),t.qZA()()()()(),t.TgZ(85,"div",74)(86,"div",75),t.YNc(87,$n,26,9,"fuse-card",76),t.qZA()()()}if(2&i){const e=t.oxw();t.xp6(5),t.AsE("",e.firstname," ",e.lastname,""),t.xp6(2),t.hij("Bakiye: ",e.totalEarnings-e.totalCollection," \u20ba"),t.xp6(1),t.Q6J("formGroup",e.customerDetailForm),t.xp6(10),t.Q6J("formControlName","email"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:mail"),t.xp6(4),t.Q6J("formControlName","phonenumber"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:phone"),t.xp6(5),t.Q6J("formControlName","phonenumber2"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:phone"),t.xp6(4),t.Q6J("formControlName","city"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:location-marker"),t.xp6(5),t.Q6J("formControlName","district"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:location-marker"),t.xp6(4),t.Q6J("formControlName","taxoffice"),t.xp6(5),t.Q6J("formControlName","vkntcno"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:identification"),t.xp6(4),t.Q6J("formControlName","note"),t.xp6(5),t.Q6J("formControlName","address"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:location-marker"),t.xp6(4),t.Q6J("formControlName","customerdiscount"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:receipt-tax"),t.xp6(5),t.Q6J("placeholder","M\xfc\u015fteri Grubu")("ngModel",e.selectedValue),t.xp6(3),t.Q6J("ngForOf",e.customergroupList),t.xp6(4),t.Q6J("formControlName","recordDate"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:user-circle"),t.xp6(2),t.Q6J("checked",!0)("color","primary")("formControlName","smsNotification"),t.xp6(2),t.Q6J("color","primary")("formControlName","emailNotification"),t.xp6(4),t.Q6J("ngForOf",e.patientDetails)}}let lt=(()=>{class i{constructor(e,a,o,s,l,C,f,Z,g){this.route=e,this._router=a,this._formBuilder=o,this._customerService=s,this._translocoService=l,this._dialog=C,this._customerDataService=f,this._eventService=Z,this._customergroup=g,this.salesAdded=new t.vpe,this.formDataChanged=new t.vpe,this.patientDetails=[],this.customergroupList=[],this.patientList=[],this.loader=!0,this.redirectToUpdatePatient=b=>{const A=this.patientDetails.find(N=>N.recId==b);if(A){const N={customerId:this.selectedCustomerId,selectedPatients:A};console.log(N),this._dialog.open(Tt,{maxWidth:"100vw !important",disableClose:!0,data:N}).afterClosed().subscribe(R=>{R.status&&this.getCustomerDetailList()})}},this.redirectToDeletePatient=b=>{const A=new _.c(this.translate("sweetalert.areYouSure"),this.translate("sweetalert.areYouSureDelete"),u.p.warning);h.m.sweetAlertOfQuestion(A).then(N=>{N.isConfirmed&&this._customerService.deletePatients({id:b}).subscribe(R=>{if(R.isSuccessful){this.getCustomerDetailList();const Ls=new _.c(this.translate("sweetalert.success"),this.translate("sweetalert.transactionSuccessful"),u.p.success);h.m.sweetAlert(Ls)}else console.error("Silme i\u015flemi ba\u015far\u0131s\u0131z.")})})}}ngOnInit(){this.route.params.subscribe(e=>{this.selectedCustomerId=e.id,console.log("M\xfc\u015fteri ID:",this.selectedCustomerId)}),this.getCustomerDetailList(),this.getCustomerGroupList(),this._customerDataService.setCustomerId(this.selectedCustomerId),this.customerDetailForm=this._formBuilder.group({email:[{value:"",disabled:!0}],phonenumber:[{value:"",disabled:!0}],phonenumber2:[{value:"",disabled:!0}],city:[{value:"",disabled:!0}],district:[{value:"",disabled:!0}],taxoffice:[{value:"",disabled:!0}],vkntcno:[{value:"",disabled:!0}],note:[{value:"",disabled:!0}],smsNotification:[{value:"",disabled:!0}],emailNotification:[{value:"",disabled:!0}],address:[{value:"",disabled:!0}],customerdiscount:[{value:"",disabled:!0}],customerGroup:[{value:"",disabled:!0}],recordDate:[{value:"",disabled:!0}]})}addSale(){this.salesAdded.emit()}addPanelOpen(){this._dialog.open(on,{maxWidth:"100vw !important",disableClose:!0,data:{customerId:this.selectedCustomerId,firstname:this.customerDetail.firstname,lastname:this.customerDetail.lastname,customerDetailForm:this.customerDetailForm.value}}).afterClosed().subscribe(o=>{o.status&&this.getCustomerDetailList()})}getCustomerGroupList(){this._customergroup.getcustomerGroupList().subscribe(e=>{this.customergroupList=e.data})}trackByFn(e,a){return a.id||e}showSweetAlert(e){if("success"===e){const a=new _.c(this.translate("sweetalert.success"),this.translate("sweetalert.transactionSuccessful"),u.p.success);h.m.sweetAlert(a)}else{const a=new _.c(this.translate("sweetalert.error"),this.translate("sweetalert.transactionFailed"),u.p.error);h.m.sweetAlert(a)}}translate(e){return this._translocoService.translate(e)}getCustomerDetailList(){this._customerService.getCustomersFindById({id:this.selectedCustomerId}).subscribe(a=>{a.isSuccessful?(this.customerDetail=a.data,this.patientDetails=this.customerDetail.patientDetails,this.firstname=this.customerDetail.firstname,this.lastname=this.customerDetail.lastname,this.phonenumber=this.customerDetail.phonenumber,this.email=this.customerDetail.email,this.totalSaleBuyCount=a.data.totalData.totalSaleBuyCount,this.totalVisitCount=a.data.totalData.totalVisitCount,this.totalEarnings=a.data.totalData.totalEarnings,this.totalCollection=a.data.totalData.totalCollection,this.customerDetailForm.patchValue({email:this.customerDetail.email,phonenumber:this.customerDetail.phonenumber,phonenumber2:this.customerDetail.phonenumber2,city:this.customerDetail.city,district:this.customerDetail.district,taxoffice:this.customerDetail.taxoffice,vkntcno:this.customerDetail.vkntcno,note:this.customerDetail.note,smsNotification:this.customerDetail.isphone,emailNotification:this.customerDetail.isemail,address:this.customerDetail.longadress,customerdiscount:this.customerDetail.discountrate,customerGroup:this.customerDetail.customergroup,recordDate:this.customerDetail.createdate})):this.showSweetAlert("error"),this.loader=!1})}openSaleCustomers(){const e={customerId:this.selectedCustomerId};console.log(e),this._dialog.open(Ct,{minWidth:"800px",disableClose:!0,data:e}).afterClosed().subscribe(o=>{o.status&&(this._eventService.dialogClosed.emit(!0),this.getCustomerDetailList())})}openNewPatients(){const e={customerId:this.selectedCustomerId};console.log(e),this._dialog.open(Tt,{maxWidth:"100vw !important",disableClose:!0,data:e}).afterClosed().subscribe(o=>{o.status&&this.getCustomerDetailList()})}addAppointment(){const e={customerId:this.selectedCustomerId,visibleCustomer:!1,patientId:null,patinetlist:null};this._customerService.getPatientsByCustomerId({id:this.selectedCustomerId}).subscribe(o=>{this.patientList=o.data,1===this.patientList.length&&(e.patientId=this.patientList[0].id),this.patientList.length>0&&(e.patinetlist=this.patientList),this._dialog.open(ao.Q,{maxWidth:"100vw !important",disableClose:!0,data:e}).afterClosed().subscribe(l=>{})})}openAppointmentHistory(){const e={customerId:this.selectedCustomerId,visibleCustomer:!1};console.log(e),this._dialog.open(No,{maxWidth:"100vw !important",disableClose:!0,data:e}).afterClosed().subscribe(o=>{o.status&&this.getCustomerDetailList()})}openGetCollection(){const e={customerId:this.selectedCustomerId};console.log(e),this._dialog.open(Jo,{maxWidth:"100vw !important",disableClose:!0,data:e}).afterClosed().subscribe(o=>{o.status&&this.getCustomerDetailList()})}openCollectionTransaction(){const e={customerId:this.selectedCustomerId};console.log(e),this._dialog.open(Wo,{maxWidth:"100vw !important",disableClose:!0,data:e}).afterClosed().subscribe(o=>{})}openBalanceCollection(){let e=[];e.push({name:this.firstname+" "+this.lastname,id:this.selectedCustomerId,balance:this.totalEarnings-this.totalCollection});const o={customerId:this.selectedCustomerId,customerlist:e};console.log(o),this._dialog.open(Pn,{maxWidth:"100vw !important",disableClose:!0,data:o}).afterClosed().subscribe(l=>{})}openPayChart(){const e={customerId:this.selectedCustomerId};console.log(e),this._dialog.open(tt,{maxWidth:"100vw !important",disableClose:!0,data:e}).afterClosed().subscribe(o=>{})}openvaccinationcard(){const e={customerId:this.selectedCustomerId};console.log(e),this._dialog.open(tn,{maxWidth:"100vw !important",disableClose:!0,data:e}).afterClosed().subscribe(o=>{o.status&&this.getCustomerDetailList()})}smstransactions(){this._dialog.open(nn,{maxWidth:"100vw !important",disableClose:!0,data:{customerId:this.selectedCustomerId}}).afterClosed().subscribe(o=>{o.status&&this.getCustomerDetailList()})}openPatientTab(){this._customerDataService.setCustomerId(this.selectedCustomerId)}onTabChange(e){this._eventService.dialogClosed.emit(!0)}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(x.gz),t.Y36(x.F0),t.Y36(d.QS),t.Y36(I.v),t.Y36(U.Vn),t.Y36(p.uw),t.Y36(O.q),t.Y36(rt),t.Y36(X.J))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["customerdetails"]],outputs:{salesAdded:"salesAdded",formDataChanged:"formDataChanged"},decls:67,vars:21,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex","flex-col","sm:flex-row","flex-0","sm:items-center","sm:justify-between","p-6","pb-22","sm:pt-12","sm:pb-28","sm:px-10","bg-default","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1"],["class","mt-2",4,"ngIf"],[1,"font-medium","tracking-tight","text-secondary"],[1,"flex-auto","-mt-16","p-6","sm:p-10","rounded-t-2xl","shadow","bg-card"],[1,"flex","flex-wrap","gap-2","shrink-0","items-center","mt-6","sm:mt-0","sm:ml-4"],["mat-flat-button","",3,"color","click"],[1,"icon-size-5","mr-2",3,"svgIcon"],["mat-stroked-button","",1,"ml-3",3,"click"],["mat-flat-button","",1,"ml-3",3,"color","click"],["mat-stroked-button","",1,"ml-3",3,"matMenuTriggerFor"],["svgIcon","heroicons_outline:chevron-down"],["menu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"click",4,"ngIf"],["menus","matMenu"],["mat-menu-item",""],[1,"fab","fa-whatsapp"],[1,"my-10","border-t"],["mat-stretch-tabs","false",1,"sm:px-2",3,"animationDuration","selectedIndexChange"],["label","Genel Bak\u0131\u015f"],["role","status","class","animate-pulse grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 w-full min-w-0",4,"ngIf"],["class","grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 w-full min-w-0",4,"ngIf"],["role","status","class","animate-pulse grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 gap-6 w-full min-w-0",4,"ngIf"],["class","flex flex-wrap",4,"ngIf"],["label","Hastalar"],["label","Muayeneler"],["label","A\u015f\u0131 Takvimi"],["label","Konaklama"],["label","Sat\u0131\u015flar"],["label","\xd6deme Tablosu"],[1,"mt-2"],[1,"text-3xl","md:text-4xl","font-extrabold","tracking-tight","leading-7","sm:leading-10","truncate"],["role","status",1,"animate-pulse","grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-4","gap-6","w-full","min-w-0"],[1,"flex","items-center","justify-center","h-36","mb-4","bg-gray-300","rounded-2xl","dark:bg-gray-700"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-4","gap-6","w-full","min-w-0"],[1,"flex","flex-col","flex-auto","bg-card","shadow","rounded-2xl","overflow-hidden"],[1,"flex","flex-col","flex-auto","p-6","bg-card","shadow","rounded-2xl","overflow-hidden"],[1,"flex","items-start","justify-between"],[1,"text-lg","font-medium","tracking-tight","leading-6","truncate"],[1,"flex","flex-col","items-center","mt-2"],[1,"text-7xl","sm:text-8xl","font-bold","tracking-tight","leading-none","text-blue-500"],[1,"text-7xl","sm:text-8xl","font-bold","tracking-tight","leading-none","text-red-500"],["role","status",1,"animate-pulse","grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-2","gap-6","w-full","min-w-0"],[1,"flex","items-center","justify-center","h-192","mb-4","bg-gray-300","rounded-2xl","dark:bg-gray-700"],[1,"flex","flex-wrap"],[1,"w-full","md:w-6/12","p-2"],[1,"flex","flex-row","flex-auto","p-6","bg-card","shadow","rounded-2xl","overflow-hidden","z-50",2,"justify-content","space-between","margin-bottom","3px","position","absolute","width","38%","margin-left","4rem"],["src","assets/images/avatars/noimage.jpg","alt","User avatar",1,"w-32","h-32","rounded-full","ring-4","ring-bg-card"],[2,"font-size","40px","padding-top","50px","padding-left","25px"],[2,"padding-top","110px"],[1,"flex-auto","p-6","sm:p-10","rounded-t-2xl","shadow","bg-card","overflow-hidden",2,"margin-top","5rem",3,"formGroup"],[2,"margin-top","5rem"],[1,"flex","float:right","md:max-sm:flex-column",2,"justify-content","flex-end"],["mat-icon-button","","color","accent","matTooltip","D\xfczenle",3,"click"],["aria-label","Edit"],[1,"flex","float:left","md:max-sm:flex-column"],[1,"flex-auto","gt-xs:pr-6"],[1,"boldFont"],["matInput","","disabled","true",1,"disableCustomCss",3,"formControlName"],["matSuffix","",1,"icon-size-5",3,"svgIcon"],[1,"ml-5","flex-auto","gt-xs:pl-6"],[1,"flex","float:left","gt-xs:flex-row"],[1,"flex-auto","gt-xs:pr-3"],[1,"ml-5","flex-auto","gt-xs:pl-3"],["name","customergroup","disabled","true",3,"placeholder","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"flex-auto","gt-xs:pr-3",3,"checked","color","formControlName"],[1,"ml-5","flex-auto","gt-xs:pl-3",3,"color","formControlName"],[1,"w-full","md:w-6/12","lg:w-6/12","p-2"],[1,"flex","flex-wrap","gap-4","flex-auto","p-6","bg-card","shadow","rounded-2xl","overflow-hidden",2,"justify-content","space-between"],["class","flex flex-col max-w-80 w-full p-8 pb-4 filter-article",4,"ngFor","ngForOf"],[3,"value"],[1,"flex","flex-col","max-w-80","w-full","p-8","pb-4","filter-article"],[1,"flex","items-center"],["src","assets/images/avatars/noimage.jpg","alt","Card cover image",1,"w-20","rounded-lg","object-cover"],[1,"flex","flex-col","ml-6"],[1,"text-2xl","font-semibold","leading-tight"],[1,"text-secondary","font-medium","text-md"],[1,"container",2,"margin-top","1rem","padding","0"],[1,"row"],[1,"col-md-6",2,"border-right","1px solid rgba(var(--fuse-text-secondary-rgb), var(--tw-text-opacity))","display","flex","flex-direction","column","align-items","center","position","relative"],[2,"font-weight","600"],[2,"font-weight","500","font-size","0.8rem","color","rgba(var(--fuse-text-secondary-rgb), var(--tw-text-opacity)) !important"],[2,"content","","position","absolute","height","100%","width","1px","background-color","black","right","0"],[1,"col-md-6",2,"display","flex","flex-direction","column","align-items","center","justify-content","flex-end","position","relative"],[1,"flex","flex-wrap","mt-3","-mx-3",2,"justify-content","space-between"],["mat-button","",1,"px-3",3,"color","routerLink","click"]],template:function(a,o){if(1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"a",4),t._UZ(6,"mat-icon",5),t.TgZ(7,"span",6),t._uU(8,"Back"),t.qZA()()()(),t.YNc(9,On,3,2,"div",7),t.YNc(10,Rn,3,0,"div",7),t.TgZ(11,"div",8),t._uU(12),t.qZA()()(),t.TgZ(13,"div",9)(14,"div",10)(15,"button",11),t.NdJ("click",function(){return o.openSaleCustomers()}),t._UZ(16,"mat-icon",12),t._uU(17," \xa0Sat\u0131\u015f "),t.qZA(),t.TgZ(18,"button",13),t.NdJ("click",function(){return o.addAppointment()}),t._UZ(19,"mat-icon",12),t._uU(20," \xa0Randevu/A\u015f\u0131 Takvimi Olu\u015ftur "),t.qZA(),t.TgZ(21,"button",14),t.NdJ("click",function(){return o.openAppointmentHistory()}),t._UZ(22,"mat-icon",12),t._uU(23," \xa0Randevu Ge\xe7mi\u015fi "),t.qZA(),t.TgZ(24,"button",13),t.NdJ("click",function(){return o.openNewPatients()}),t._UZ(25,"mat-icon",12),t._uU(26," \xa0Hasta Ekle "),t.qZA(),t.TgZ(27,"button",15),t._UZ(28,"mat-icon",16),t._uU(29," \xa0Tahsilat"),t.qZA(),t.TgZ(30,"mat-menu",null,17)(32,"button",18),t.NdJ("click",function(){return o.openGetCollection()}),t._UZ(33,"mat-icon",12),t._uU(34," Randevu Tahsilat\u0131 Al"),t.qZA(),t.YNc(35,Vn,3,2,"button",19),t.qZA(),t.TgZ(36,"button",15),t._UZ(37,"mat-icon",16),t._uU(38," \xa0Mesaj G\xf6nder"),t.qZA(),t.TgZ(39,"mat-menu",null,20)(41,"button",18),t.NdJ("click",function(){return o.smstransactions()}),t._UZ(42,"mat-icon",12),t._uU(43," SMS G\xf6nder"),t.qZA(),t.TgZ(44,"button",21),t._UZ(45,"i",22),t._uU(46," Whatsapp Mesaj G\xf6nder"),t.qZA()()(),t._UZ(47,"div",23),t.TgZ(48,"mat-tab-group",24),t.NdJ("selectedIndexChange",function(l){return o.onTabChange(l)}),t.TgZ(49,"mat-tab",25),t.YNc(50,Gn,5,0,"div",26),t.YNc(51,Hn,33,3,"div",27),t._UZ(52,"br"),t.YNc(53,zn,3,0,"div",28),t.YNc(54,jn,88,33,"div",29),t.qZA(),t.TgZ(55,"mat-tab",30),t._UZ(56,"app-patient-tab"),t.qZA(),t.TgZ(57,"mat-tab",31),t._UZ(58,"app-examination-tab"),t.qZA(),t.TgZ(59,"mat-tab",32),t._UZ(60,"app-vaccine-tab"),t.qZA(),t.TgZ(61,"mat-tab",33),t._UZ(62,"app-accommodations-tab"),t.qZA(),t.TgZ(63,"mat-tab",34),t._UZ(64,"app-sales-tab"),t.qZA(),t.TgZ(65,"mat-tab",35),t._UZ(66,"app-pay-chart-tab"),t.qZA()()()()),2&a){const s=t.MAs(31),l=t.MAs(40);t.xp6(5),t.Q6J("routerLink","./.."),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:chevron-left"),t.xp6(3),t.Q6J("ngIf",!o.loader),t.xp6(1),t.Q6J("ngIf",o.loader),t.xp6(2),t.Oqu(o.phonenumber+" / "+o.email),t.xp6(3),t.Q6J("color","primary"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:pencil-alt"),t.xp6(3),t.Q6J("svgIcon","heroicons_solid:pencil-alt"),t.xp6(2),t.Q6J("color","primary"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:link"),t.xp6(3),t.Q6J("svgIcon","heroicons_solid:pencil-alt"),t.xp6(2),t.Q6J("matMenuTriggerFor",s),t.xp6(6),t.Q6J("svgIcon","calendar_today"),t.xp6(2),t.Q6J("ngIf",o.totalEarnings-o.totalCollection>0),t.xp6(1),t.Q6J("matMenuTriggerFor",l),t.xp6(6),t.Q6J("svgIcon","textsms"),t.xp6(6),t.Q6J("animationDuration","0"),t.xp6(2),t.Q6J("ngIf",o.loader),t.xp6(1),t.Q6J("ngIf",!o.loader),t.xp6(2),t.Q6J("ngIf",o.loader),t.xp6(1),t.Q6J("ngIf",!o.loader)}},styles:[".disableCustomCss[_ngcontent-%COMP%]{color:#000000b3!important}.boldFont[_ngcontent-%COMP%]{font-weight:700}.shadow[_ngcontent-%COMP%]{--tw-shadow: 0 1px 10px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important}@media (min-width: 640px){.card[_ngcontent-%COMP%]{flex-direction:row}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%;object-fit:cover}.card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{width:50%;padding:1rem}.col-span-6[_ngcontent-%COMP%]{grid-column:span 6}.md\\:col-span-3[_ngcontent-%COMP%]{grid-column:span 3}.lg\\:col-span-2[_ngcontent-%COMP%], .xl\\:col-span-2[_ngcontent-%COMP%]{grid-column:span 2}}"]})}return i})();var Wn=m(40182);const Xn=["paginator"];function ts(i,n){1&i&&(t.TgZ(0,"th",14),t._uU(1," Sat\u0131\u015f \u0130\xe7eri\u011fi "),t.qZA())}function es(i,n){if(1&i&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e.salesContent," ")}}function is(i,n){1&i&&(t.TgZ(0,"th",14),t._uU(1," Tutar "),t.qZA())}function as(i,n){if(1&i&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e.amount," TL ")}}function os(i,n){1&i&&(t.TgZ(0,"th",14),t._uU(1," Tahsilat "),t.qZA())}function ns(i,n){if(1&i&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e.collection," TL ")}}function ss(i,n){1&i&&(t.TgZ(0,"th",14),t._uU(1," Kalan Bakiye "),t.qZA())}function rs(i,n){1&i&&(t.TgZ(0,"span"),t._uU(1,"\xd6denmi\u015f"),t.qZA())}function ls(i,n){1&i&&(t.TgZ(0,"span"),t._uU(1,"\xd6denmemi\u015f"),t.qZA())}function cs(i,n){1&i&&(t.TgZ(0,"span"),t._uU(1,"K\u0131smen \xd6denmi\u015f"),t.qZA())}const ms=function(i){return{color:i}},us=function(i,n){return{paid:i,unpaid:n}};function ds(i,n){if(1&i&&(t.TgZ(0,"td",16),t._uU(1),t._UZ(2,"br"),t.YNc(3,rs,2,0,"span",17),t.YNc(4,ls,2,0,"span",17),t.YNc(5,cs,2,0,"span",17),t.qZA()),2&i){const e=n.$implicit;t.Q6J("ngStyle",t.VKq(6,ms,e.rameiningBalance>0?"red":"green"))("ngClass",t.WLB(8,us,0===e.rameiningBalance,e.rameiningBalance>0)),t.xp6(1),t.hij(" ",e.rameiningBalance,"TL "),t.xp6(2),t.Q6J("ngIf",0===e.rameiningBalance),t.xp6(1),t.Q6J("ngIf",e.rameiningBalance===e.amount&&0!==e.rameiningBalance),t.xp6(1),t.Q6J("ngIf",e.rameiningBalance!=e.amount&&e.rameiningBalance>0)}}function ps(i,n){1&i&&(t.TgZ(0,"th",14),t._uU(1," \u0130\u015flemler "),t.qZA())}function _s(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"td",15)(1,"div",18)(2,"button",19),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.opencreateeditsales(s.saleOwnerId))}),t.TgZ(3,"mat-icon"),t._uU(4,"add"),t.qZA(),t._uU(5,"\xd6deme Ekle"),t.qZA(),t.TgZ(6,"button",20),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.redirectToUpdate(s.saleOwnerId))}),t.TgZ(7,"mat-icon"),t._uU(8,"visibility"),t.qZA(),t._uU(9,"Sat\u0131\u015f detaylar\u0131"),t.qZA(),t.TgZ(10,"button",21)(11,"mat-icon"),t._uU(12,"more_vert"),t.qZA()()(),t.TgZ(13,"mat-menu",null,22)(15,"button",23),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.openPayChart(s.saleOwnerId))}),t.TgZ(16,"mat-icon"),t._uU(17,"payment"),t.qZA(),t.TgZ(18,"span"),t._uU(19,"Yap\u0131lan \xd6demeler"),t.qZA()(),t.TgZ(20,"button",24),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.redirectToDelete(s.saleOwnerId))}),t.TgZ(21,"mat-icon"),t._uU(22,"delete"),t.qZA(),t.TgZ(23,"span"),t._uU(24,"Sil"),t.qZA()()()()}if(2&i){const e=n.$implicit,a=t.MAs(14);t.xp6(2),t.Q6J("disabled",0===e.rameiningBalance),t.xp6(4),t.Q6J("disabled","MUAYENE SATIS"===e.salesContent),t.xp6(4),t.Q6J("matMenuTriggerFor",a),t.xp6(5),t.Q6J("disabled",e.rameiningBalance>0)}}function hs(i,n){1&i&&t._UZ(0,"tr",25)}function fs(i,n){1&i&&t._UZ(0,"tr",26)}const gs=function(){return[5,10,20]};let Cs=(()=>{class i{constructor(e,a,o,s,l,C,f){this._customerDataService=e,this._customerService=a,this._translocoService=o,this.customerDetailsComponent=s,this.eventService=l,this._dialog=C,this._salebuyservice=f,this.displayedColumns=["salesContent","amount","collection","rameiningBalance","actions"],this.salesCustomerLis=[],this.destroy$=new H.x,this.opencreateeditsales=Z=>{const g=this.salesCustomerLis.find(b=>b.saleOwnerId==Z);if(null!=g){const b={customerId:this.receivedCustomerId,saleOwnerId:g.saleOwnerId,amount:g.rameiningBalance,data:null};console.log(b),this._dialog.open(st,{maxWidth:"100vw !important",disableClose:!0,data:b}).afterClosed().subscribe(N=>{N.status&&this.getSalesCustomerList()})}},this.redirectToUpdate=Z=>{const g={customerId:this.receivedCustomerId,data:null},b=this.salesCustomerLis.find(A=>A.saleOwnerId===Z);b&&(0,z.$)(this.getSalesByIdQuery({Id:b.saleOwnerId})).pipe((0,K.R)(this.destroy$)).subscribe({next:N=>{this.setSaleByIdQuery(N[0])},error:N=>{console.log(N)},complete:()=>{this.salesOwnerByIdList&&(g.data=this.salesOwnerByIdList,this._dialog.open(Ct,{maxWidth:"100vw !important",disableClose:!0,data:g}).afterClosed().subscribe(L=>{L.status&&this.getSalesCustomerList()}))}})},this.redirectToDelete=Z=>{const g=this.salesCustomerLis.find(A=>A.saleOwnerId===Z);if(0===g.rameiningBalance&&!g.isExaminations)return void this.showSweetAlert("error","Tahsilat Olan Sat\u0131\u015f Silinemez. Tahsilat\u0131n\u0131 Siliniz.");const b=new _.c(this.translate("sweetalert.areYouSure"),this.translate("sweetalert.areYouSureDelete"),u.p.warning);h.m.sweetAlertOfQuestion(b).then(A=>{A.isConfirmed&&this._salebuyservice.deletedSaleBuy({id:Z}).subscribe(L=>{if(L.isSuccessful){this.getSalesCustomerList();const R=new _.c(this.translate("sweetalert.success"),this.translate("sweetalert.transactionSuccessful"),u.p.success);h.m.sweetAlert(R)}else console.error("Silme i\u015flemi ba\u015far\u0131s\u0131z.")})})},this.openPayChart=Z=>{const g={customerId:this.receivedCustomerId,saleBuyId:Z};console.log(g),this._dialog.open(tt,{maxWidth:"100vw !important",disableClose:!0,data:g}).afterClosed().subscribe(A=>{})},this.eventService.dialogClosed.subscribe(Z=>{Z&&this.refreshSalesTab()})}ngAfterViewInit(){this.getSalesCustomerList(),this.customerDetailsComponent.salesAdded.subscribe(()=>{this.refreshSalesTab()})}ngOnInit(){this.receivedCustomerId=this._customerDataService.getCustomerId()}refreshSalesTab(){this._customerService.getSalesCustomerList({customerId:this.receivedCustomerId}).subscribe({next:a=>{this.salesCustomerLis=a.data,this.dataSource=new r.by(this.salesCustomerLis),this.dataSource.paginator=this.paginator},error:a=>{console.error(a),this.showSweetAlert("error","Failed to load patient data.")}})}getSalesCustomerList(){this._customerService.getSalesCustomerList({customerId:this.receivedCustomerId}).subscribe({next:a=>{this.salesCustomerLis=a.data,this.dataSource=new r.by(this.salesCustomerLis),this.dataSource.paginator=this.paginator},error:a=>{console.error(a),this.showSweetAlert("error","Failed to load patient data.")}})}showSweetAlert(e,a){let o;o="success"===e?new _.c(this.translate("sweetalert.success"),a||this.translate("sweetalert.transactionSuccessful"),u.p.success):new _.c(this.translate("sweetalert.error"),a||this.translate("sweetalert.transactionFailed"),u.p.error),h.m.sweetAlert(o)}translate(e){return this._translocoService.translate(e)}formatDate(e){return new Date(e).toLocaleString("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit"})}getSalesByIdQuery(e){return this._customerService.getSalesByIdQuery(e)}setSaleByIdQuery(e){e.data&&(this.salesOwnerByIdList=e.data)}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(O.q),t.Y36(I.v),t.Y36(U.Vn),t.Y36(lt),t.Y36(rt),t.Y36(p.uw),t.Y36(Wn.I))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-sales-tab"]],viewQuery:function(a,o){if(1&a&&t.Gf(Xn,5),2&a){let s;t.iGM(s=t.CRH())&&(o.paginator=s.first)}},decls:21,vars:6,consts:[[1,"mat-elevation-z8"],["mat-table","",1,"full-width-table",3,"dataSource"],["matColumnDef","salesContent"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","amount"],["matColumnDef","collection"],["matColumnDef","rameiningBalance"],["mat-cell","",3,"ngStyle","ngClass",4,"matCellDef"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions","pageSize"],["paginator",""],["mat-header-cell",""],["mat-cell",""],["mat-cell","",3,"ngStyle","ngClass"],[4,"ngIf"],[1,"button-container","gap-x-2"],["mat-flat-button","","color","primary",3,"disabled","click"],["mat-button","","color","primary",3,"disabled","click"],["mat-icon-button","","aria-label","Example icon-button with a menu",1,"menu-button",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"disabled","click"],["mat-menu-item","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(a,o){1&a&&(t.TgZ(0,"div",0)(1,"table",1),t.ynx(2,2),t.YNc(3,ts,2,0,"th",3),t.YNc(4,es,2,1,"td",4),t.BQk(),t.ynx(5,5),t.YNc(6,is,2,0,"th",3),t.YNc(7,as,2,1,"td",4),t.BQk(),t.ynx(8,6),t.YNc(9,os,2,0,"th",3),t.YNc(10,ns,2,1,"td",4),t.BQk(),t.ynx(11,7),t.YNc(12,ss,2,0,"th",3),t.YNc(13,ds,6,11,"td",8),t.BQk(),t.ynx(14,9),t.YNc(15,ps,2,0,"th",3),t.YNc(16,_s,25,4,"td",4),t.BQk(),t.YNc(17,hs,1,0,"tr",10),t.YNc(18,fs,1,0,"tr",11),t.qZA(),t._UZ(19,"mat-paginator",12,13),t.qZA()),2&a&&(t.xp6(1),t.Q6J("dataSource",o.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(5,gs))("pageSize",10))},dependencies:[v.lW,v.RK,w.Hw,k.VK,k.OP,k.p6,r.BZ,r.fO,r.as,r.w1,r.Dz,r.nj,r.ge,r.ev,r.XQ,r.Gk,D.mk,D.O5,D.PC,E.NW],styles:[".full-width-table[_ngcontent-%COMP%]{width:100%}.paid[_ngcontent-%COMP%]{color:#155724}.unpaid[_ngcontent-%COMP%]{color:#721c24}.menu-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.button-container[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center}"]})}return i})();var xs=m(77331),Ts=m(73546),Zs=m(35861),vs=m(50138),bs=m(98358),As=m(96829),vt=m(19602);function Ds(i,n){1&i&&(t.TgZ(0,"th",33),t._uU(1," A\u015f\u0131 Ad\u0131 "),t.qZA())}function ws(i,n){if(1&i&&(t.TgZ(0,"td",34),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e.vaccineName," ")}}function ys(i,n){1&i&&(t.TgZ(0,"th",33),t._uU(1," Takvime Eklensin Mi? "),t.qZA())}function Ns(i,n){1&i&&(t.TgZ(0,"span",39),t._uU(1,"Eklensin"),t.qZA())}function Ss(i,n){1&i&&(t.TgZ(0,"span",39),t._uU(1,"Eklenmesin"),t.qZA())}function Us(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"td",34)(1,"label",35)(2,"input",36),t.NdJ("ngModelChange",function(o){const l=t.CHM(e).$implicit;return t.KtG(l.isAdd=o)}),t.qZA(),t._UZ(3,"div",37),t.YNc(4,Ns,2,0,"span",38),t.YNc(5,Ss,2,0,"span",38),t.qZA()()}if(2&i){const e=n.$implicit;t.xp6(2),t.Q6J("ngModel",e.isAdd),t.xp6(2),t.Q6J("ngIf",e.isAdd),t.xp6(1),t.Q6J("ngIf",!e.isAdd)}}function Is(i,n){1&i&&(t.TgZ(0,"th",33),t._uU(1," Yenileme "),t.qZA())}function qs(i,n){1&i&&(t.TgZ(0,"span",39),t._uU(1,"Yap\u0131ld\u0131"),t.qZA())}function ks(i,n){1&i&&(t.TgZ(0,"span",39),t._uU(1,"Yap\u0131lmad\u0131"),t.qZA())}function Ys(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"td",40)(1,"label",35)(2,"input",36),t.NdJ("ngModelChange",function(o){const l=t.CHM(e).$implicit;return t.KtG(l.isDone=o)}),t.qZA(),t._UZ(3,"div",41),t.YNc(4,qs,2,0,"span",38),t.YNc(5,ks,2,0,"span",38),t.qZA()()}if(2&i){const e=n.$implicit;t.xp6(2),t.Q6J("ngModel",e.isDone),t.xp6(2),t.Q6J("ngIf",e.isDone),t.xp6(1),t.Q6J("ngIf",!e.isDone)}}function Js(i,n){1&i&&(t.TgZ(0,"th",33),t._uU(1," A\u015f\u0131 Tarihi "),t.qZA())}function Qs(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"td",34)(1,"div",42)(2,"dx-date-box",43),t.NdJ("onValueChanged",function(o){t.CHM(e);const s=t.oxw();return t.KtG(s.onStayDateEndChanged(o))}),t.qZA()()()}if(2&i){const e=n.$implicit;t.xp6(2),t.Q6J("value",e.vaccineDate)("stylingMode","filled")("type","date")("displayFormat","dd.MM.yyyy")("useMaskBehavior",!0)("pickerType","calendar")}}function Fs(i,n){1&i&&t._UZ(0,"tr",44)}function Es(i,n){1&i&&t._UZ(0,"tr",45)}const Bs=[{path:"",component:mi},{path:"customerdetails/:id",component:lt},{path:"createvaccine/:id",component:(()=>{class i{constructor(e,a,o,s,l,C,f,Z){this.route=e,this._translocoService=a,this._dialog=o,this._vaccineService=s,this._customerService=l,this._patientService=C,this._vaccineCalendarService=f,this.router=Z,this.vaccine=[],this.dataSource=new r.by(this.vaccine),this.displayedColumns=["vaccineName","timeDone","renewalOption","totalSaleAmount"],this.animalTypesList=[],this.isAdd=!1,this.isDone=!1,this.createVaccineExaminationList=[],this.destroy$=new H.x,this.redirectToDetail=g=>{console.log(g),this.router.navigate(["/patientslist/patientdetails/",g])},this.redirectToDelete=g=>{const b=new _.c(this.translate("sweetalert.areYouSure"),this.translate("sweetalert.areYouSureDelete"),u.p.warning);h.m.sweetAlertOfQuestion(b).then(A=>{A.isConfirmed&&this._vaccineService.deleteVaccine({id:g}).subscribe(L=>{if(L.isSuccessful){this.getVaccineList();const R=new _.c(this.translate("sweetalert.success"),this.translate("sweetalert.transactionSuccessful"),u.p.success);h.m.sweetAlert(R)}else this.showSweetAlert("error",L.errors[0]),console.log(L.errors[0])})})}}ngOnInit(){this.route.params.subscribe(e=>{this.selectedPatientId=e.id,console.log("M\xfc\u015fteri ID:",this.selectedPatientId)}),(0,z.$)(this.getPatient(),this.getAnimalTypesList()).pipe((0,K.R)(this.destroy$)).subscribe({next:e=>{this.setPatient(e[0]),this.setAnimalType(e[1])},error:e=>{console.log(e)},complete:()=>{this.getVaccineList()}})}getVaccineList(){this._vaccineService.getVaccineList({AnimalType:this.animalType}).subscribe(a=>{this.vaccine=a.data,console.log(this.vaccine),this.dataSource=new r.by(this.vaccine),this.vaccine.forEach(o=>{o.isAdd=o.timeDone>0,o.isDone=!1;const s=new Date(this.birthDate);s.setDate(s.getDate()+o.timeDone),o.vaccineDate=s})})}saveData(){this.createVaccineExaminationList=this.dataSource.data.map(a=>({vaccineName:a.vaccineName,isAdd:a.isAdd,vaccineDate:a.vaccineDate,isDone:a.isDone,patientId:this.selectedPatientId,customerId:this.patient.customerId,animalType:this.animalType,vaccineId:a.id})),console.log("Saved Data:",this.createVaccineExaminationList),this._vaccineCalendarService.createVaccineExaminations({VaccineCalendars:this.createVaccineExaminationList}).subscribe(a=>{a.isSuccessful?(this.showSweetAlert("success","success"),this.redirectToDetail(this.patient.id)):this.showSweetAlert("error","error")},a=>{console.log(a)})}getPatient(){return this._patientService.getPatientFindById({Id:this.selectedPatientId})}setPatient(e){e.data&&(this.patient=e.data,this.animalType=this.patient.animalType,this.birthDate=new Date(this.patient.birthDate))}getAnimalTypesList(){return this._customerService.getVetVetAnimalsType()}setAnimalType(e){e.data&&(this.animalTypesList=e.data)}addPanelOpen(){this.isUpdateButtonActive=!1,this._dialog.open(Zs.G,{maxWidth:"100vw !important",disableClose:!0,data:null}).afterClosed().subscribe(a=>{a.status&&this.getVaccineList()})}getRenewalOptionText(e){switch(e){case 1:return"Yenilenmesin";case 2:return"Her hafta";case 3:return"Her ay";case 4:return"Her y\u0131l";case 5:return"2 haftada 1";case 6:return"3 haftada 1";case 7:return"10 haftada 1";case 8:return"2 ayda 1";case 9:return"3 ayda 1";case 10:return"4 ayda 1";case 11:return"6 ayda 1";case 12:return"8 ayda 1";case 13:return"2 y\u0131lda 1";case 14:return"3 y\u0131lda 1";case 15:return"4 y\u0131lda 1";case 16:return"45 g\xfcnde 1";default:return""}}getAnimalTypeText(e){const a=parseInt(e,10);if(!isNaN(a)){const o=this.animalTypesList.find(s=>s.type===a);if(o)return o.name}return""}getTotalSaleAmountText(e){return 0===e?"-":e.toFixed(2)}translate(e){return this._translocoService.translate(e)}showSweetAlert(e,a){if("success"===e){const o=new _.c(this.translate("sweetalert.success"),this.translate("sweetalert.transactionSuccessful"),u.p.success);h.m.sweetAlert(o)}else{const o=new _.c(this.translate("sweetalert.error"),this.translate(a),u.p.error);h.m.sweetAlert(o)}}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(x.gz),t.Y36(U.Vn),t.Y36(p.uw),t.Y36(vs.s),t.Y36(I.v),t.Y36(bs.P),t.Y36(As.s),t.Y36(x.F0))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-createvaccine"]],decls:46,vars:10,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex","flex-col","sm:flex-row","flex-0","sm:items-center","sm:justify-between","p-6","pb-22","sm:pt-12","sm:pb-28","sm:px-10","bg-default","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1"],[1,"mt-2"],[1,"text-3xl","md:text-4xl","font-extrabold","tracking-tight","leading-7","sm:leading-10","truncate"],[1,"flex","shrink-0","items-center","mt-6","sm:mt-0","sm:ml-4"],["mat-flat-button","",1,"ml-3",3,"color","click"],[1,"icon-size-5","mr-2",3,"svgIcon"],[1,"flex-auto","-mt-16","p-6","sm:p-10","rounded-t-2xl","shadow","bg-card"],[1,"w-full","flex"],[1,"w-1/6"],["appearance","fill"],["matInput","",3,"value","matDatepicker"],["matIconSuffix","",3,"for"],["picker",""],[1,"w-full","flex","justify-center","p-4"],[1,"my-auto"],[1,"min-h-10","p-4","bg-orange-400","text-white"],[1,"rounded-3xl"],["mat-table","",1,"border","bg-slate-50",3,"dataSource"],["matColumnDef","vaccineName"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","timeDone"],["matColumnDef","renewalOption"],["mat-cell","","class","my-2",4,"matCellDef"],["matColumnDef","totalSaleAmount"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[1,"inline-flex","items-center","cursor-pointer"],["type","checkbox",1,"sr-only","peer",3,"ngModel","ngModelChange"],[1,"relative","w-14","h-7","bg-gray-200","peer-focus:outline-none","peer-focus:ring-4","peer-focus:ring-blue-300","dark:peer-focus:ring-blue-800","rounded-full","peer","dark:bg-gray-700","peer-checked:after:translate-x-full","rtl:peer-checked:after:-translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-0.5","after:left-1","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-6","after:w-6","after:transition-all","dark:border-gray-600","peer-checked:bg-blue-600"],["class","ms-3 text-gray-900 dark:text-gray-300",4,"ngIf"],[1,"ms-3","text-gray-900","dark:text-gray-300"],["mat-cell","",1,"my-2"],[1,"relative","w-14","h-7","bg-gray-200","peer-focus:outline-none","peer-focus:ring-4","peer-focus:ring-green-300","dark:peer-focus:ring-green-800","rounded-full","peer","dark:bg-gray-700","peer-checked:after:translate-x-full","rtl:peer-checked:after:-translate-x-full","after:left-1","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-0.5","after:start-[4px]","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-6","after:w-6","after:transition-all","dark:border-gray-600","peer-checked:bg-green-600"],[1,"dx-field"],["labelMode","floating",3,"value","stylingMode","type","displayFormat","useMaskBehavior","pickerType","onValueChanged"],["mat-header-row",""],["mat-row",""]],template:function(a,o){if(1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"a",4),t._UZ(6,"mat-icon",5),t.TgZ(7,"span",6),t._uU(8,"Back"),t.qZA()()()(),t.TgZ(9,"div",7)(10,"h2",8),t._uU(11," Otomatik A\u015f\u0131 Sihirbaz\u0131 "),t.qZA()()(),t.TgZ(12,"div",9)(13,"button",10),t.NdJ("click",function(){return o.saveData()}),t._UZ(14,"mat-icon",11),t._uU(15," Kaydet "),t.qZA()()(),t.TgZ(16,"div",12)(17,"div",13)(18,"div",14)(19,"mat-form-field",15)(20,"mat-label"),t._uU(21,"Ba\u015flang\u0131\xe7 Tarihi"),t.qZA(),t._UZ(22,"input",16)(23,"mat-datepicker-toggle",17)(24,"mat-datepicker",null,18),t.qZA()(),t.TgZ(26,"div",19)(27,"div",20)(28,"fuse-card",21),t._uU(29," Altta yer alan a\u015f\u0131 takvimi, Deneme adl\u0131 hastan\u0131n do\u011fum tarihi baz al\u0131narak otomatik olarak haz\u0131rlanm\u0131\u015ft\u0131r. Kaydetmedi\u011finiz s\xfcrece a\u015f\u0131lar hastan\u0131n takvimine eklenmeyecektir. "),t.qZA()()()(),t.TgZ(30,"div",22)(31,"table",23),t.ynx(32,24),t.YNc(33,Ds,2,0,"th",25),t.YNc(34,ws,2,1,"td",26),t.BQk(),t.ynx(35,27),t.YNc(36,ys,2,0,"th",25),t.YNc(37,Us,6,3,"td",26),t.BQk(),t.ynx(38,28),t.YNc(39,Is,2,0,"th",25),t.YNc(40,Ys,6,3,"td",29),t.BQk(),t.ynx(41,30),t.YNc(42,Js,2,0,"th",25),t.YNc(43,Qs,3,6,"td",26),t.BQk(),t.YNc(44,Fs,1,0,"tr",31),t.YNc(45,Es,1,0,"tr",32),t.qZA()()()()),2&a){const s=t.MAs(25);t.xp6(5),t.Q6J("routerLink","./.."),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:chevron-left"),t.xp6(7),t.Q6J("color","primary"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:link"),t.xp6(8),t.Q6J("value",o.birthDate)("matDatepicker",s),t.xp6(1),t.Q6J("for",s),t.xp6(8),t.Q6J("dataSource",o.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns)}},dependencies:[d.Wl,d.JJ,d.On,v.lW,T.KE,T.hX,T.R9,w.Hw,q.Nt,vt.y,r.BZ,r.fO,r.as,r.w1,r.Dz,r.nj,r.ge,r.ev,r.XQ,r.Gk,D.O5,Y.Mq,Y.hl,Y.nW,it.M,x.rH]})}return i})()}];let Ms=(()=>{class i{static#t=this.\u0275fac=function(a){return new(a||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[d.u5,v.ot,T.lN,w.Ps,q.c,d.u5,d.UX,pt.J,k.Tx,d.u5,r.p0,D.ez,w.Ps,T.lN,v.ot,T.lN,w.Ps,q.c,d.u5,d.UX,pt.J,k.Tx,F.LD,w.Ps,V.p9,v.ot,V.p9,T.lN,w.Ps,q.c,k.Tx,E.TU,_t.Cv,y.si,ht.JX,F.LD,W.rP,et.AV,ui.m,p.Is,Y.FA,T.lN,q.c,Y.FA,y.XK,di.FF,pi.vV,_i.t,w.Ps,k.Tx,_t.Cv,ht.JX,r.p0,et.AV,hi.X,P.T5,it.k,fi.W,at.Nh,xs.Hi,Be,Ts.QW,x.Bz.forChild(Bs)]})}return i})();t.B6R(lt,function(){return[d.Fj,d.JJ,d.JL,d.On,v.zs,v.lW,v.RK,T.KE,T.hX,T.R9,w.Hw,q.Nt,d.sg,d.u,vt.y,k.VK,k.OP,k.p6,D.sg,D.O5,F.gD,y.ey,V.oG,et.gM,at.uX,at.SP,x.rH,qi,Xi,ha,La,io,Cs]},[])},28597:(B,S,m)=>{m.d(S,{I:()=>x});class x{}},79458:(B,S,m)=>{m.d(S,{U:()=>x});class x{constructor(p,_){this.customerId=p,this.patientDetails=_}}}}]);