"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[861],{4668:(_e,lt,d)=>{d.r(lt),d.d(lt,{AgendaModule:()=>j});var P=d(9299),i=d(4650),A=d(6895),X=d(7376),F=d(3353),v=d(1281),ct=d(2687),m=d(7579),M=d(727),Ft=d(4986),mt=d(5963),w=d(6406),h=d(9751),u=d(6451),p=d(2722),T=d(8675),f=d(4004),D=d(5698),S=d(8505),x=d(3900),k=d(445);function I(r,e,t){for(let n in e)if(e.hasOwnProperty(n)){const s=e[n];s?r.setProperty(n,s,t?.has(n)?"important":""):r.removeProperty(n)}return r}function R(r,e){const t=e?"":"none";I(r.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function Ot(r,e,t){I(r.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},t)}function dt(r,e){return e&&"none"!=e?r+" "+e:r}function Mt(r){const e=r.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(r)*e}function Dt(r,e){return r.getPropertyValue(e).split(",").map(n=>n.trim())}function yt(r){const e=r.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}function bt(r,e,t){const{top:n,bottom:s,left:o,right:a}=r;return t>=n&&t<=s&&e>=o&&e<=a}function tt(r,e,t){r.top+=e,r.bottom=r.top+r.height,r.left+=t,r.right=r.left+r.width}function Zt(r,e,t,n){const{top:s,right:o,bottom:a,left:l,width:c,height:g}=r,_=c*e,y=g*e;return n>s-y&&n<a+y&&t>l-_&&t<o+_}class Nt{constructor(e){this._document=e,this.positions=new Map}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:yt(t)})})}handleScroll(e){const t=(0,F.sA)(e),n=this.positions.get(t);if(!n)return null;const s=n.scrollPosition;let o,a;if(t===this._document){const g=this.getViewportScrollPosition();o=g.top,a=g.left}else o=t.scrollTop,a=t.scrollLeft;const l=s.top-o,c=s.left-a;return this.positions.forEach((g,_)=>{g.clientRect&&t!==_&&t.contains(_)&&tt(g.clientRect,l,c)}),s.top=o,s.left=a,{top:l,left:c}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function Bt(r){const e=r.cloneNode(!0),t=e.querySelectorAll("[id]"),n=r.nodeName.toLowerCase();e.removeAttribute("id");for(let s=0;s<t.length;s++)t[s].removeAttribute("id");return"canvas"===n?Vt(r,e):("input"===n||"select"===n||"textarea"===n)&&zt(r,e),Ut("canvas",r,e,Vt),Ut("input, textarea, select",r,e,zt),e}function Ut(r,e,t,n){const s=e.querySelectorAll(r);if(s.length){const o=t.querySelectorAll(r);for(let a=0;a<s.length;a++)n(s[a],o[a])}}let me=0;function zt(r,e){"file"!==e.type&&(e.value=r.value),"radio"===e.type&&e.name&&(e.name=`mat-clone-${e.name}-${me++}`)}function Vt(r,e){const t=e.getContext("2d");if(t)try{t.drawImage(r,0,0)}catch{}}const Qt=(0,F.i$)({passive:!0}),ht=(0,F.i$)({passive:!1}),xt=new Set(["position"]);class De{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(e){const t=(0,v.Ig)(e);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(n=>R(n,t)))}constructor(e,t,n,s,o,a){this._config=t,this._document=n,this._ngZone=s,this._viewportRuler=o,this._dragDropRegistry=a,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new m.x,this._pointerMoveSubscription=M.w0.EMPTY,this._pointerUpSubscription=M.w0.EMPTY,this._scrollSubscription=M.w0.EMPTY,this._resizeSubscription=M.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new m.x,this.started=new m.x,this.released=new m.x,this.ended=new m.x,this.entered=new m.x,this.exited=new m.x,this.dropped=new m.x,this.moved=this._moveEvents,this._pointerDown=l=>{if(this.beforeStarted.next(),this._handles.length){const c=this._getTargetHandle(l);c&&!this._disabledHandles.has(c)&&!this.disabled&&this._initializeDragSequence(c,l)}else this.disabled||this._initializeDragSequence(this._rootElement,l)},this._pointerMove=l=>{const c=this._getPointerPositionOnPage(l);if(!this._hasStartedDragging){if(Math.abs(c.x-this._pickupPositionOnPage.x)+Math.abs(c.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const N=Date.now()>=this._dragStartTime+this._getDragStartDelay(l),B=this._dropContainer;if(!N)return void this._endDragSequence(l);(!B||!B.isDragging()&&!B.isReceiving())&&(l.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(l)))}return}l.preventDefault();const g=this._getConstrainedPointerPosition(c);if(this._hasMoved=!0,this._lastKnownPointerPosition=c,this._updatePointerDirectionDelta(g),this._dropContainer)this._updateActiveDropContainer(g,c);else{const _=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,y=this._activeTransform;y.x=g.x-_.x+this._passiveTransform.x,y.y=g.y-_.y+this._passiveTransform.y,this._applyRootElementTransform(y.x,y.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:g,event:l,distance:this._getDragDistance(g),delta:this._pointerDirectionDelta})})},this._pointerUp=l=>{this._endDragSequence(l)},this._nativeDragStart=l=>{if(this._handles.length){const c=this._getTargetHandle(l);c&&!this._disabledHandles.has(c)&&!this.disabled&&l.preventDefault()}else this.disabled||l.preventDefault()},this.withRootElement(e).withParent(t.parentDragRef||null),this._parentPositions=new Nt(n),a.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(n=>(0,v.fI)(n)),this._handles.forEach(n=>R(n,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(n=>{this._handles.indexOf(n)>-1&&t.add(n)}),this._disabledHandles=t,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){const t=(0,v.fI)(e);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,ht),t.addEventListener("touchstart",this._pointerDown,Qt),t.addEventListener("dragstart",this._nativeDragStart,ht)}),this._initialTransform=void 0,this._rootElement=t),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?(0,v.fI)(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),R(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),R(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){const e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){const e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:e}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t,event:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){et(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._dropContainer;if(t){const n=this._rootElement,s=n.parentNode,o=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment(""),l=this._getShadowRoot();s.insertBefore(a,n),this._initialTransform=n.style.transform||"",this._preview=this._createPreviewElement(),Ot(n,!1,xt),this._document.body.appendChild(s.replaceChild(o,n)),this._getPreviewInsertionPoint(s,l).appendChild(this._preview),this.started.next({source:this,event:e}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this,event:e}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(e,t){this._parentDragRef&&t.stopPropagation();const n=this.isDragging(),s=et(t),o=!s&&0!==t.button,a=this._rootElement,l=(0,F.sA)(t),c=!s&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),g=s?(0,ct.yG)(t):(0,ct.X6)(t);if(l&&l.draggable&&"mousedown"===t.type&&t.preventDefault(),n||o||c||g)return;if(this._handles.length){const E=a.style;this._rootElementTapHighlight=E.webkitTapHighlightColor||"",E.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(E=>this._updateOnScroll(E)),this._boundaryElement&&(this._boundaryRect=yt(this._boundaryElement));const _=this._previewTemplate;this._pickupPositionInElement=_&&_.template&&!_.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,e,t);const y=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:y.x,y:y.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){Ot(this._rootElement,!0,xt),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,n=t.getItemIndex(this),s=this._getPointerPositionOnPage(e),o=this._getDragDistance(s),a=t._isOverContainer(s.x,s.y);this.ended.next({source:this,distance:o,dropPoint:s,event:e}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:a,distance:o,dropPoint:s,event:e}),t.drop(this,n,this._initialIndex,this._initialContainer,a,o,s,e),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t},{x:n,y:s}){let o=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=o,this._dropContainer.enter(this,e,t,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(n,s),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(e,t):this._applyPreviewTransform(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_createPreviewElement(){const e=this._previewTemplate,t=this.previewClass,n=e?e.template:null;let s;if(n&&e){const o=e.matchSize?this._initialClientRect:null,a=e.viewContainer.createEmbeddedView(n,e.context);a.detectChanges(),s=Yt(a,this._document),this._previewRef=a,e.matchSize?Gt(s,o):s.style.transform=gt(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else s=Bt(this._rootElement),Gt(s,this._initialClientRect),this._initialTransform&&(s.style.transform=this._initialTransform);return I(s.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},xt),R(s,!1),s.classList.add("cdk-drag-preview"),s.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(o=>s.classList.add(o)):s.classList.add(t)),s}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);const t=function fe(r){const e=getComputedStyle(r),t=Dt(e,"transition-property"),n=t.find(l=>"transform"===l||"all"===l);if(!n)return 0;const s=t.indexOf(n),o=Dt(e,"transition-duration"),a=Dt(e,"transition-delay");return Mt(o[s])+Mt(a[s])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(n=>{const s=a=>{(!a||(0,F.sA)(a)===this._preview&&"transform"===a.propertyName)&&(this._preview?.removeEventListener("transitionend",s),n(),clearTimeout(o))},o=setTimeout(s,1.5*t);this._preview.addEventListener("transitionend",s)}))}_createPlaceholderElement(){const e=this._placeholderTemplate,t=e?e.template:null;let n;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),n=Yt(this._placeholderRef,this._document)):n=Bt(this._rootElement),n.style.pointerEvents="none",n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(e,t,n){const s=t===this._rootElement?null:t,o=s?s.getBoundingClientRect():e,a=et(n)?n.targetTouches[0]:n,l=this._getViewportScrollPosition();return{x:o.left-e.left+(a.pageX-o.left-l.left),y:o.top-e.top+(a.pageY-o.top-l.top)}}_getPointerPositionOnPage(e){const t=this._getViewportScrollPosition(),n=et(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,s=n.pageX-t.left,o=n.pageY-t.top;if(this._ownerSVGElement){const a=this._ownerSVGElement.getScreenCTM();if(a){const l=this._ownerSVGElement.createSVGPoint();return l.x=s,l.y=o,l.matrixTransform(a.inverse())}}return{x:s,y:o}}_getConstrainedPointerPosition(e){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:n,y:s}=this.constrainPosition?this.constrainPosition(e,this,this._initialClientRect,this._pickupPositionInElement):e;if("x"===this.lockAxis||"x"===t?s=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===t)&&(n=this._pickupPositionOnPage.x),this._boundaryRect){const{x:o,y:a}=this._pickupPositionInElement,l=this._boundaryRect,{width:c,height:g}=this._getPreviewRect(),_=l.top+a,y=l.bottom-(g-a);n=Jt(n,l.left+o,l.right-(c-o)),s=Jt(s,_,y)}return{x:n,y:s}}_updatePointerDirectionDelta(e){const{x:t,y:n}=e,s=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,a=Math.abs(t-o.x),l=Math.abs(n-o.y);return a>this._config.pointerDirectionChangeThreshold&&(s.x=t>o.x?1:-1,o.x=t),l>this._config.pointerDirectionChangeThreshold&&(s.y=n>o.y?1:-1,o.y=n),s}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,R(this._rootElement,e))}_removeRootElementListeners(e){e.removeEventListener("mousedown",this._pointerDown,ht),e.removeEventListener("touchstart",this._pointerDown,Qt),e.removeEventListener("dragstart",this._nativeDragStart,ht)}_applyRootElementTransform(e,t){const n=gt(e,t),s=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=s.transform&&"none"!=s.transform?s.transform:""),s.transform=dt(n,this._initialTransform)}_applyPreviewTransform(e,t){const n=this._previewTemplate?.template?void 0:this._initialTransform,s=gt(e,t);this._preview.style.transform=dt(s,n)}_getDragDistance(e){const t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(0===e&&0===t||this.isDragging()||!this._boundaryElement)return;const n=this._rootElement.getBoundingClientRect(),s=this._boundaryElement.getBoundingClientRect();if(0===s.width&&0===s.height||0===n.width&&0===n.height)return;const o=s.left-n.left,a=n.right-s.right,l=s.top-n.top,c=n.bottom-s.bottom;s.width>n.width?(o>0&&(e+=o),a>0&&(e-=a)):e=0,s.height>n.height?(l>0&&(t+=l),c>0&&(t-=c)):t=0,(e!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:e})}_getDragStartDelay(e){const t=this.dragStartDelay;return"number"==typeof t?t:et(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){const t=this._parentPositions.handleScroll(e);if(t){const n=(0,F.sA)(e);this._boundaryRect&&n!==this._boundaryElement&&n.contains(this._boundaryElement)&&tt(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,F.kV)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,t){const n=this._previewContainer||"global";if("parent"===n)return e;if("global"===n){const s=this._document;return t||s.fullscreenElement||s.webkitFullscreenElement||s.mozFullScreenElement||s.msFullscreenElement||s.body}return(0,v.fI)(n)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(e){return this._handles.find(t=>e.target&&(e.target===t||t.contains(e.target)))}}function gt(r,e){return`translate3d(${Math.round(r)}px, ${Math.round(e)}px, 0)`}function Jt(r,e,t){return Math.max(e,Math.min(t,r))}function et(r){return"t"===r.type[0]}function Yt(r,e){const t=r.rootNodes;if(1===t.length&&t[0].nodeType===e.ELEMENT_NODE)return t[0];const n=e.createElement("div");return t.forEach(s=>n.appendChild(s)),n}function Gt(r,e){r.style.width=`${e.width}px`,r.style.height=`${e.height}px`,r.style.transform=gt(e.left,e.top)}function Ht(r,e,t){const n=it(e,r.length-1),s=it(t,r.length-1);if(n===s)return;const o=r[n],a=s<n?-1:1;for(let l=n;l!==s;l+=a)r[l]=r[l+a];r[s]=o}function it(r,e){return Math.max(0,Math.min(e,r))}class ye{constructor(e,t){this._element=e,this._dragDropRegistry=t,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(e){this.withItems(e)}sort(e,t,n,s){const o=this._itemPositions,a=this._getItemIndexFromPointerPosition(e,t,n,s);if(-1===a&&o.length>0)return null;const l="horizontal"===this.orientation,c=o.findIndex(L=>L.drag===e),g=o[a],y=g.clientRect,E=c>a?1:-1,N=this._getItemOffsetPx(o[c].clientRect,y,E),B=this._getSiblingOffsetPx(c,o,E),W=o.slice();return Ht(o,c,a),o.forEach((L,Bi)=>{if(W[Bi]===L)return;const ue=L.drag===e,Lt=ue?N:B,pe=ue?e.getPlaceholderElement():L.drag.getRootElement();L.offset+=Lt,l?(pe.style.transform=dt(`translate3d(${Math.round(L.offset)}px, 0, 0)`,L.initialTransform),tt(L.clientRect,0,Lt)):(pe.style.transform=dt(`translate3d(0, ${Math.round(L.offset)}px, 0)`,L.initialTransform),tt(L.clientRect,Lt,0))}),this._previousSwap.overlaps=bt(y,t,n),this._previousSwap.drag=g.drag,this._previousSwap.delta=l?s.x:s.y,{previousIndex:c,currentIndex:a}}enter(e,t,n,s){const o=null==s||s<0?this._getItemIndexFromPointerPosition(e,t,n):s,a=this._activeDraggables,l=a.indexOf(e),c=e.getPlaceholderElement();let g=a[o];if(g===e&&(g=a[o+1]),!g&&(null==o||-1===o||o<a.length-1)&&this._shouldEnterAsFirstChild(t,n)&&(g=a[0]),l>-1&&a.splice(l,1),g&&!this._dragDropRegistry.isDragging(g)){const _=g.getRootElement();_.parentElement.insertBefore(c,_),a.splice(o,0,e)}else(0,v.fI)(this._element).appendChild(c),a.push(e);c.style.transform="",this._cacheItemPositions()}withItems(e){this._activeDraggables=e.slice(),this._cacheItemPositions()}withSortPredicate(e){this._sortPredicate=e}reset(){this._activeDraggables.forEach(e=>{const t=e.getRootElement();if(t){const n=this._itemPositions.find(s=>s.drag===e)?.initialTransform;t.style.transform=n||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(e){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(n=>n.drag===e)}updateOnScroll(e,t){this._itemPositions.forEach(({clientRect:n})=>{tt(n,e,t)}),this._itemPositions.forEach(({drag:n})=>{this._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()})}_cacheItemPositions(){const e="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(t=>{const n=t.getVisibleElement();return{drag:t,offset:0,initialTransform:n.style.transform||"",clientRect:yt(n)}}).sort((t,n)=>e?t.clientRect.left-n.clientRect.left:t.clientRect.top-n.clientRect.top)}_getItemOffsetPx(e,t,n){const s="horizontal"===this.orientation;let o=s?t.left-e.left:t.top-e.top;return-1===n&&(o+=s?t.width-e.width:t.height-e.height),o}_getSiblingOffsetPx(e,t,n){const s="horizontal"===this.orientation,o=t[e].clientRect,a=t[e+-1*n];let l=o[s?"width":"height"]*n;if(a){const c=s?"left":"top",g=s?"right":"bottom";-1===n?l-=a.clientRect[c]-o[g]:l+=o[c]-a.clientRect[g]}return l}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return!1;const n=this._itemPositions,s="horizontal"===this.orientation;if(n[0].drag!==this._activeDraggables[0]){const a=n[n.length-1].clientRect;return s?e>=a.right:t>=a.bottom}{const a=n[0].clientRect;return s?e<=a.left:t<=a.top}}_getItemIndexFromPointerPosition(e,t,n,s){const o="horizontal"===this.orientation,a=this._itemPositions.findIndex(({drag:l,clientRect:c})=>l!==e&&((!s||l!==this._previousSwap.drag||!this._previousSwap.overlaps||(o?s.x:s.y)!==this._previousSwap.delta)&&(o?t>=Math.floor(c.left)&&t<Math.floor(c.right):n>=Math.floor(c.top)&&n<Math.floor(c.bottom))));return-1!==a&&this._sortPredicate(a,e)?a:-1}}class be{constructor(e,t,n,s,o){this._dragDropRegistry=t,this._ngZone=s,this._viewportRuler=o,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new m.x,this.entered=new m.x,this.exited=new m.x,this.dropped=new m.x,this.sorted=new m.x,this.receivingStarted=new m.x,this.receivingStopped=new m.x,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=M.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new m.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function vt(r=0,e=Ft.z){return r<0&&(r=0),(0,mt.H)(r,r,e)}(0,w.Z).pipe((0,p.R)(this._stopScrollTimers)).subscribe(()=>{const a=this._scrollNode,l=this.autoScrollStep;1===this._verticalScrollDirection?a.scrollBy(0,-l):2===this._verticalScrollDirection&&a.scrollBy(0,l),1===this._horizontalScrollDirection?a.scrollBy(-l,0):2===this._horizontalScrollDirection&&a.scrollBy(l,0)})},this.element=(0,v.fI)(e),this._document=n,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new Nt(n),this._sortStrategy=new ye(this.element,t),this._sortStrategy.withSortPredicate((a,l)=>this.sortPredicate(a,l,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,t,n,s){this._draggingStarted(),null==s&&this.sortingDisabled&&(s=this._draggables.indexOf(e)),this._sortStrategy.enter(e,t,n,s),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,n,s,o,a,l,c={}){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:n,container:this,previousContainer:s,isPointerOverContainer:o,distance:a,dropPoint:l,event:c})}withItems(e){const t=this._draggables;return this._draggables=e,e.forEach(n=>n._withDropContainer(this)),this.isDragging()&&(t.filter(s=>s.isDragging()).every(s=>-1===e.indexOf(s))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(e){return this._sortStrategy.direction=e,this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){return this._sortStrategy.orientation=e,this}withScrollableParents(e){const t=(0,v.fI)(this.element);return this._scrollableElements=-1===e.indexOf(t)?[t,...e]:e.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?this._sortStrategy.getItemIndex(e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,n,s){if(this.sortingDisabled||!this._clientRect||!Zt(this._clientRect,.05,t,n))return;const o=this._sortStrategy.sort(e,t,n,s);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:e})}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let n,s=0,o=0;if(this._parentPositions.positions.forEach((a,l)=>{l===this._document||!a.clientRect||n||Zt(a.clientRect,.05,e,t)&&([s,o]=function xe(r,e,t,n){const s=qt(e,n),o=jt(e,t);let a=0,l=0;if(s){const c=r.scrollTop;1===s?c>0&&(a=1):r.scrollHeight-c>r.clientHeight&&(a=2)}if(o){const c=r.scrollLeft;1===o?c>0&&(l=1):r.scrollWidth-c>r.clientWidth&&(l=2)}return[a,l]}(l,a.clientRect,e,t),(s||o)&&(n=l))}),!s&&!o){const{width:a,height:l}=this._viewportRuler.getViewportSize(),c={width:a,height:l,top:0,right:a,bottom:l,left:0};s=qt(c,t),o=jt(c,e),n=window}n&&(s!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||n!==this._scrollNode)&&(this._verticalScrollDirection=s,this._horizontalScrollDirection=o,this._scrollNode=n,(s||o)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const e=(0,v.fI)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const e=(0,v.fI)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(e).clientRect}_reset(){this._isDragging=!1;const e=(0,v.fI)(this.element).style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(t=>t._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(e,t){return null!=this._clientRect&&bt(this._clientRect,e,t)}_getSiblingContainerFromPosition(e,t,n){return this._siblings.find(s=>s._canReceive(e,t,n))}_canReceive(e,t,n){if(!this._clientRect||!bt(this._clientRect,t,n)||!this.enterPredicate(e,this))return!1;const s=this._getShadowRoot().elementFromPoint(t,n);if(!s)return!1;const o=(0,v.fI)(this.element);return s===o||o.contains(s)}_startReceiving(e,t){const n=this._activeSiblings;!n.has(e)&&t.every(s=>this.enterPredicate(s,this)||this._draggables.indexOf(s)>-1)&&(n.add(e),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:e,receiver:this,items:t}))}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:e,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(e);t&&this._sortStrategy.updateOnScroll(t.top,t.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const e=(0,F.kV)((0,v.fI)(this.element));this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const e=this._sortStrategy.getActiveItemsSnapshot().filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,e))}}function qt(r,e){const{top:t,bottom:n,height:s}=r,o=.05*s;return e>=t-o&&e<=t+o?1:e>=n-o&&e<=n+o?2:0}function jt(r,e){const{left:t,right:n,width:s}=r,o=.05*s;return e>=t-o&&e<=t+o?1:e>=n-o&&e<=n+o?2:0}const ut=(0,F.i$)({passive:!1,capture:!0});let we=(()=>{class r{constructor(t,n){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=s=>s.isDragging(),this.pointerMove=new m.x,this.pointerUp=new m.x,this.scroll=new m.x,this._preventDefaultWhileDragging=s=>{this._activeDragInstances.length>0&&s.preventDefault()},this._persistentTouchmoveListener=s=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&s.preventDefault(),this.pointerMove.next(s))},this._document=n}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,ut)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,ut)}startDragging(t,n){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const s=n.type.startsWith("touch");this._globalListeners.set(s?"touchend":"mouseup",{handler:o=>this.pointerUp.next(o),options:!0}).set("scroll",{handler:o=>this.scroll.next(o),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:ut}),s||this._globalListeners.set("mousemove",{handler:o=>this.pointerMove.next(o),options:ut}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((o,a)=>{this._document.addEventListener(a,o.handler,o.options)})})}}stopDragging(t){const n=this._activeDragInstances.indexOf(t);n>-1&&(this._activeDragInstances.splice(n,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}scrolled(t){const n=[this.scroll];return t&&t!==this._document&&n.push(new h.y(s=>this._ngZone.runOutsideAngular(()=>{const a=l=>{this._activeDragInstances.length&&s.next(l)};return t.addEventListener("scroll",a,!0),()=>{t.removeEventListener("scroll",a,!0)}}))),(0,u.T)(...n)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,n)=>{this._document.removeEventListener(n,t.handler,t.options)}),this._globalListeners.clear()}}return r.\u0275fac=function(t){return new(t||r)(i.LFG(i.R0b),i.LFG(A.K0))},r.\u0275prov=i.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const Te={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let wt=(()=>{class r{constructor(t,n,s,o){this._document=t,this._ngZone=n,this._viewportRuler=s,this._dragDropRegistry=o}createDrag(t,n=Te){return new De(t,n,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new be(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return r.\u0275fac=function(t){return new(t||r)(i.LFG(A.K0),i.LFG(i.R0b),i.LFG(X.rL),i.LFG(we))},r.\u0275prov=i.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const Tt=new i.OlP("CDK_DRAG_PARENT"),Ct=new i.OlP("CdkDropListGroup"),Wt=new i.OlP("CDK_DRAG_CONFIG");let Ae=0;const Xt=new i.OlP("CdkDropList");let te=(()=>{class r{get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=(0,v.Ig)(t)}constructor(t,n,s,o,a,l,c){this.element=t,this._changeDetectorRef=s,this._scrollDispatcher=o,this._dir=a,this._group=l,this._destroyed=new m.x,this.connectedTo=[],this.id="cdk-drop-list-"+Ae++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new i.vpe,this.entered=new i.vpe,this.exited=new i.vpe,this.sorted=new i.vpe,this._unsortedItems=new Set,this._dropListRef=n.createDropList(t),this._dropListRef.data=this,c&&this._assignDefaults(c),this._dropListRef.enterPredicate=(g,_)=>this.enterPredicate(g.data,_.data),this._dropListRef.sortPredicate=(g,_,y)=>this.sortPredicate(g,_.data,y.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),r._dropLists.push(this),l&&l._items.add(this)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,n)=>t._dragRef.getVisibleElement().compareDocumentPosition(n._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const t=r._dropLists.indexOf(this);t>-1&&r._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(t){this._dir&&this._dir.change.pipe((0,T.O)(this._dir.value),(0,p.R)(this._destroyed)).subscribe(n=>t.withDirection(n)),t.beforeStarted.subscribe(()=>{const n=(0,v.Eq)(this.connectedTo).map(s=>"string"==typeof s?r._dropLists.find(a=>a.id===s):s);if(this._group&&this._group._items.forEach(s=>{-1===n.indexOf(s)&&n.push(s)}),!this._scrollableParentsResolved){const s=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(o=>o.getElementRef().nativeElement);this._dropListRef.withScrollableParents(s),this._scrollableParentsResolved=!0}t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=(0,v.Ig)(this.sortingDisabled),t.autoScrollDisabled=(0,v.Ig)(this.autoScrollDisabled),t.autoScrollStep=(0,v.su)(this.autoScrollStep,2),t.connectedTo(n.filter(s=>s&&s!==this).map(s=>s._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(n=>{this.entered.emit({container:this,item:n.item.data,currentIndex:n.currentIndex})}),t.exited.subscribe(n=>{this.exited.emit({container:this,item:n.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(n=>{this.sorted.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,container:this,item:n.item.data})}),t.dropped.subscribe(n=>{this.dropped.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,previousContainer:n.previousContainer.data,container:n.container.data,item:n.item.data,isPointerOverContainer:n.isPointerOverContainer,distance:n.distance,dropPoint:n.dropPoint,event:n.event}),this._changeDetectorRef.markForCheck()}),(0,u.T)(t.receivingStarted,t.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(t){const{lockAxis:n,draggingDisabled:s,sortingDisabled:o,listAutoScrollDisabled:a,listOrientation:l}=t;this.disabled=s??!1,this.sortingDisabled=o??!1,this.autoScrollDisabled=a??!1,this.orientation=l||"vertical",n&&(this.lockAxis=n)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}}return r._dropLists=[],r.\u0275fac=function(t){return new(t||r)(i.Y36(i.SBq),i.Y36(wt),i.Y36(i.sBO),i.Y36(X.mF),i.Y36(k.Is,8),i.Y36(Ct,12),i.Y36(Wt,8))},r.\u0275dir=i.lG2({type:r,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(t,n){2&t&&(i.uIk("id",n.id),i.ekj("cdk-drop-list-disabled",n.disabled)("cdk-drop-list-dragging",n._dropListRef.isDragging())("cdk-drop-list-receiving",n._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],standalone:!0,features:[i._Bn([{provide:Ct,useValue:void 0},{provide:Xt,useExisting:r}])]}),r})();const At=new i.OlP("CdkDragHandle");let ee=(()=>{class r{get disabled(){return this._disabled}set disabled(t){this._disabled=(0,v.Ig)(t),this._stateChanges.next(this)}constructor(t,n){this.element=t,this._stateChanges=new m.x,this._disabled=!1,this._parentDrag=n}ngOnDestroy(){this._stateChanges.complete()}}return r.\u0275fac=function(t){return new(t||r)(i.Y36(i.SBq),i.Y36(Tt,12))},r.\u0275dir=i.lG2({type:r,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},standalone:!0,features:[i._Bn([{provide:At,useExisting:r}])]}),r})();const ie=new i.OlP("CdkDragPlaceholder"),ne=new i.OlP("CdkDragPreview");let se=(()=>{class r{get matchSize(){return this._matchSize}set matchSize(t){this._matchSize=(0,v.Ig)(t)}constructor(t){this.templateRef=t,this._matchSize=!1}}return r.\u0275fac=function(t){return new(t||r)(i.Y36(i.Rgc))},r.\u0275dir=i.lG2({type:r,selectors:[["ng-template","cdkDragPreview",""]],inputs:{data:"data",matchSize:"matchSize"},standalone:!0,features:[i._Bn([{provide:ne,useExisting:r}])]}),r})(),re=(()=>{class r{get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=(0,v.Ig)(t),this._dragRef.disabled=this._disabled}constructor(t,n,s,o,a,l,c,g,_,y,E){this.element=t,this.dropContainer=n,this._ngZone=o,this._viewContainerRef=a,this._dir=c,this._changeDetectorRef=_,this._selfHandle=y,this._parentDrag=E,this._destroyed=new m.x,this.started=new i.vpe,this.released=new i.vpe,this.ended=new i.vpe,this.entered=new i.vpe,this.exited=new i.vpe,this.dropped=new i.vpe,this.moved=new h.y(N=>{const B=this._dragRef.moved.pipe((0,f.U)(W=>({source:this,pointerPosition:W.pointerPosition,event:W.event,delta:W.delta,distance:W.distance}))).subscribe(N);return()=>{B.unsubscribe()}}),this._dragRef=g.createDrag(t,{dragStartThreshold:l&&null!=l.dragStartThreshold?l.dragStartThreshold:5,pointerDirectionChangeThreshold:l&&null!=l.pointerDirectionChangeThreshold?l.pointerDirectionChangeThreshold:5,zIndex:l?.zIndex}),this._dragRef.data=this,r._dragInstances.push(this),l&&this._assignDefaults(l),n&&(this._dragRef._withDropContainer(n._dropListRef),n.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(t){this._dragRef.setFreeDragPosition(t)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,D.q)(1),(0,p.R)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(t){const n=t.rootElementSelector,s=t.freeDragPosition;n&&!n.firstChange&&this._updateRootElement(),s&&!s.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const t=r._dragInstances.indexOf(this);t>-1&&r._dragInstances.splice(t,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const t=this.element.nativeElement;let n=t;this.rootElementSelector&&(n=void 0!==t.closest?t.closest(this.rootElementSelector):t.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(n||t)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?this.element.nativeElement.closest(t):(0,v.fI)(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const n=this._dir,s=this.dragStartDelay,o=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,a=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof s&&s?s:(0,v.su)(s),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(o).withPreviewTemplate(a).withPreviewContainer(this.previewContainer||"global"),n&&t.withDirection(n.value)}}),t.beforeStarted.pipe((0,D.q)(1)).subscribe(()=>{if(this._parentDrag)return void t.withParent(this._parentDrag._dragRef);let n=this.element.nativeElement.parentElement;for(;n;){if(n.classList.contains("cdk-drag")){t.withParent(r._dragInstances.find(s=>s.element.nativeElement===n)?._dragRef||null);break}n=n.parentElement}})}_handleEvents(t){t.started.subscribe(n=>{this.started.emit({source:this,event:n.event}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(n=>{this.released.emit({source:this,event:n.event})}),t.ended.subscribe(n=>{this.ended.emit({source:this,distance:n.distance,dropPoint:n.dropPoint,event:n.event}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(n=>{this.entered.emit({container:n.container.data,item:this,currentIndex:n.currentIndex})}),t.exited.subscribe(n=>{this.exited.emit({container:n.container.data,item:this})}),t.dropped.subscribe(n=>{this.dropped.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,previousContainer:n.previousContainer.data,container:n.container.data,isPointerOverContainer:n.isPointerOverContainer,item:this,distance:n.distance,dropPoint:n.dropPoint,event:n.event})})}_assignDefaults(t){const{lockAxis:n,dragStartDelay:s,constrainPosition:o,previewClass:a,boundaryElement:l,draggingDisabled:c,rootElementSelector:g,previewContainer:_}=t;this.disabled=c??!1,this.dragStartDelay=s||0,n&&(this.lockAxis=n),o&&(this.constrainPosition=o),a&&(this.previewClass=a),l&&(this.boundaryElement=l),g&&(this.rootElementSelector=g),_&&(this.previewContainer=_)}_setupHandlesListener(){this._handles.changes.pipe((0,T.O)(this._handles),(0,S.b)(t=>{const n=t.filter(s=>s._parentDrag===this).map(s=>s.element);this._selfHandle&&this.rootElementSelector&&n.push(this.element),this._dragRef.withHandles(n)}),(0,x.w)(t=>(0,u.T)(...t.map(n=>n._stateChanges.pipe((0,T.O)(n))))),(0,p.R)(this._destroyed)).subscribe(t=>{const n=this._dragRef,s=t.element.nativeElement;t.disabled?n.disableHandle(s):n.enableHandle(s)})}}return r._dragInstances=[],r.\u0275fac=function(t){return new(t||r)(i.Y36(i.SBq),i.Y36(Xt,12),i.Y36(A.K0),i.Y36(i.R0b),i.Y36(i.s_b),i.Y36(Wt,8),i.Y36(k.Is,8),i.Y36(wt),i.Y36(i.sBO),i.Y36(At,10),i.Y36(Tt,12))},r.\u0275dir=i.lG2({type:r,selectors:[["","cdkDrag",""]],contentQueries:function(t,n,s){if(1&t&&(i.Suo(s,ne,5),i.Suo(s,ie,5),i.Suo(s,At,5)),2&t){let o;i.iGM(o=i.CRH())&&(n._previewTemplate=o.first),i.iGM(o=i.CRH())&&(n._placeholderTemplate=o.first),i.iGM(o=i.CRH())&&(n._handles=o)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,n){2&t&&i.ekj("cdk-drag-disabled",n.disabled)("cdk-drag-dragging",n._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[i._Bn([{provide:Tt,useExisting:r}]),i.TTD]}),r})(),Pe=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=i.oAB({type:r}),r.\u0275inj=i.cJS({providers:[wt],imports:[X.ZD]}),r})();var ke=d(7957),nt=d(4859),Re=d(6709),Z=d(3238),U=d(148),oe=d(4850),St=d(9549),It=d(7392),ae=d(284),b=d(1837);const le=new i.OlP("MAT_LUXON_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:function Ee(){return{useUtc:!1,firstDayOfWeek:0}}});let Fe=(()=>{class r extends Z._A{constructor(t,n){super(),this._useUTC=!!n?.useUtc,this._firstDayOfWeek=n?.firstDayOfWeek||0,this.setLocale(t||b.ou.local().locale)}getYear(t){return t.year}getMonth(t){return t.month-1}getDate(t){return t.day}getDayOfWeek(t){return t.weekday}getMonthNames(t){return b.kI.months(t,{locale:this.locale})}getDateNames(){const t=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return function Le(r,e){const t=Array(r);for(let n=0;n<r;n++)t[n]=e(n);return t}(31,n=>t.format(b.ou.utc(2017,1,n+1).toJSDate()))}getDayOfWeekNames(t){const n=b.kI.weekdays(t,{locale:this.locale});return n.unshift(n.pop()),n}getYearName(t){return t.toFormat("yyyy")}getFirstDayOfWeek(){return this._firstDayOfWeek}getNumDaysInMonth(t){return t.daysInMonth}clone(t){return b.ou.fromObject(t.toObject())}createDate(t,n,s){if(n<0||n>11)throw Error(`Invalid month index "${n}". Month index has to be between 0 and 11.`);if(s<1)throw Error(`Invalid date "${s}". Date has to be greater than 0.`);const o=this._useUTC?b.ou.utc(t,n+1,s):b.ou.local(t,n+1,s);if(!this.isValid(o))throw Error(`Invalid date "${s}". Reason: "${o.invalidReason}".`);return o.setLocale(this.locale)}today(){return(this._useUTC?b.ou.utc():b.ou.local()).setLocale(this.locale)}parse(t,n){const s=this._getOptions();if("string"==typeof t&&t.length>0){const o=b.ou.fromISO(t,s);if(this.isValid(o))return o;const a=Array.isArray(n)?n:[n];if(!n.length)throw Error("Formats array must not be empty.");for(const l of a){const c=b.ou.fromFormat(t,l,s);if(this.isValid(c))return c}return this.invalid()}return"number"==typeof t?b.ou.fromMillis(t,s):t instanceof Date?b.ou.fromJSDate(t,s):t instanceof b.ou?b.ou.fromMillis(t.toMillis(),s):null}format(t,n){if(!this.isValid(t))throw Error("LuxonDateAdapter: Cannot format invalid date.");return t.setLocale(this.locale).setZone(this._useUTC?"utc":void 0).toFormat(n)}addCalendarYears(t,n){return t.plus({years:n}).setLocale(this.locale)}addCalendarMonths(t,n){return t.plus({months:n}).setLocale(this.locale)}addCalendarDays(t,n){return t.plus({days:n}).setLocale(this.locale)}toIso8601(t){return t.toISO()}deserialize(t){const n=this._getOptions();let s;if(t instanceof Date&&(s=b.ou.fromJSDate(t,n)),"string"==typeof t){if(!t)return null;s=b.ou.fromISO(t,n)}return s&&this.isValid(s)?s:super.deserialize(t)}isDateInstance(t){return t instanceof b.ou}isValid(t){return t.isValid}invalid(){return b.ou.invalid("Invalid Luxon DateTime object.")}_getOptions(){return{zone:this._useUTC?"utc":void 0,locale:this.locale}}}return r.\u0275fac=function(t){return new(t||r)(i.LFG(Z.Ad,8),i.LFG(le,8))},r.\u0275prov=i.Yz7({token:r,factory:r.\u0275fac}),r})();const ce={parse:{dateInput:"D"},display:{dateInput:"D",monthYearLabel:"LLL yyyy",dateA11yLabel:"DD",monthYearA11yLabel:"LLLL yyyy"}};let Oe=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=i.oAB({type:r}),r.\u0275inj=i.cJS({providers:[{provide:Z._A,useClass:Fe,deps:[Z.Ad,le]}]}),r})(),Me=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=i.oAB({type:r}),r.\u0275inj=i.cJS({providers:[{provide:Z.sG,useValue:ce}],imports:[Oe]}),r})();var pt=d(8255),Ze=d(3162),Ne=d(1948),Be=d(4385),_t=d(3267),Pt=d(266);class ft{constructor(){}transform(e,t,n){return Array.isArray(e)?e.map(s=>n.find(o=>o[t]===s)):n.find(s=>s[t]===e)}}ft.\u0275fac=function(e){return new(e||ft)},ft.\u0275pipe=i.Yjl({name:"fuseFindByKey",type:ft,pure:!1});class z{}z.\u0275fac=function(e){return new(e||z)},z.\u0275mod=i.oAB({type:z}),z.\u0275inj=i.cJS({});var Ue=d(4466);class V{canDeactivate(e,t,n,s){let o=s.root;for(;o.firstChild;)o=o.firstChild;return!(s.url.includes("/agenda")&&!o.paramMap.get("id"))||e.closeDrawer().then(()=>!0)}}V.\u0275fac=function(e){return new(e||V)},V.\u0275prov=i.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"});var de=d(262),kt=d(2843),he=d(9646),st=d(1135),rt=d(9300),Q=d(1723);class ze{constructor(e,t,n,s,o,a,l,c,g){this.id=e,this.agendano=t,this.agendatype=n,this.agendatype=n,this.isactive=s,this.agendatitle=o,this.priority=a,this.notes=l,this.dueDate=c,this.agendatags=g}}var Ve=d(6717),Qe=d(529);class O{constructor(e,t){this._httpService=e,this._httpClient=t,this._tags=new st.X(null),this._agenda=new st.X(null),this._agendas=new st.X(null),this._agendasDto=new st.X(null),this._agendaDto=new st.X(null)}getAgendaList(){const e=this._httpService.getRequest(Q.z.agenda.agendaList);return e.subscribe(t=>{this._agendasDto.next(t.data),this.getAgenda()}),e}createAgendas(e){return this._httpService.post(Q.z.agenda.Createagenda,e)}updateAgendas(e){return this._httpService.post(Q.z.agenda.Updateagenda,e)}updateAgendasMulti(e){return this._httpService.post(Q.z.agenda.Updateagenda,e)}getAgendaById(e){const t=new ze(e,0,0,0,"0",0,"0","0",[]);return new h.y(n=>{this._httpService.post(Q.z.agenda.agendaListById,t).subscribe(s=>{if(s.isSuccessful){const o=s.data;if(null!=o){const a=o.find(l=>l.id===e)||null;this._agendaDto.next(a),this._agendas.pipe().subscribe(l=>{const c=l[0];if(null!=c){const g=c;return this._agenda.next(g),n.next(a),n.complete(),g}})}}else n.error("Failed to fetch agenda by ID")})})}get agendasservice$(){return this._httpService.getRequest(Q.z.agenda.agendaList)}get tags$(){return this._tags.asObservable()}get agenda$(){return this._agenda.asObservable()}get agendaDto$(){return this._agendaDto.asObservable()}get agendas$(){return this._agendas.asObservable()}get agendasDto$(){return this._agendasDto.asObservable()}getTags(){return this._httpClient.get("api/apps/tasks/tags").pipe((0,S.b)(e=>{this._tags.next(e)}))}createTag(e){return this.tags$.pipe((0,D.q)(1),(0,x.w)(t=>this._httpClient.post("api/apps/tasks/tag",{tag:e}).pipe((0,f.U)(n=>(this._tags.next([...t,n]),n)))))}updateTag(e,t){return this.tags$.pipe((0,D.q)(1),(0,x.w)(n=>this._httpClient.patch("api/apps/tasks/tag",{id:e,tag:t}).pipe((0,f.U)(s=>{const o=n.findIndex(a=>a.id===e);return n[o]=s,this._tags.next(n),s}))))}deleteTag(e){return this.tags$.pipe((0,D.q)(1),(0,x.w)(t=>this._httpClient.delete("api/apps/tasks/tag",{params:{id:e}}).pipe((0,f.U)(n=>{const s=t.findIndex(o=>o.id===e);return t.splice(s,1),this._tags.next(t),n}),(0,rt.h)(n=>n),(0,x.w)(n=>this.agendas$.pipe((0,D.q)(1),(0,f.U)(s=>(s.forEach(o=>{const a=o.agendaTags.findIndex(l=>l===e);a>-1&&o.agendaTags.splice(a,1)}),n)))))))}getAgenda(){return this._httpClient.get("api/apps/tasks/all").pipe((0,S.b)(e=>{this._agendas.next(e)}))}updateAgendasOrders(e){return this._httpClient.patch("api/apps/tasks/order",{agendas:e})}searchAgendas(e){return this._httpClient.get("api/apps/tasks/search",{params:{query:e}})}getAgendaById2(e){return this._agendas.pipe((0,D.q)(1),(0,f.U)(t=>{if(null!=t){const n=t.find(s=>s.id===e)||null;return this._agenda.next(n),n}}),(0,x.w)(t=>t?(0,he.of)(t):(0,kt._)("Could not found agenda with id of "+e+"!")))}createAgenda(e,t){return this.agendas$.pipe((0,D.q)(1),(0,x.w)(n=>this._httpClient.post("api/apps/tasks/task",{type:e}).pipe((0,f.U)(s=>(this._agendas.next([s,...n]),s)))))}updateAgenda(e,t){return this.agendas$.pipe((0,D.q)(1),(0,x.w)(n=>this._httpClient.patch("api/apps/tasks/task",{id:e,agenda:t}).pipe((0,f.U)(s=>{const o=n.findIndex(a=>a.id===e);return n[o]=s,this._agendas.next(n),s}),(0,x.w)(s=>this.agenda$.pipe((0,D.q)(1),(0,rt.h)(o=>o&&o.id===e),(0,S.b)(()=>(this._agenda.next(s),s)))))))}deleteAgenda(e){return this.agendas$.pipe((0,D.q)(1),(0,x.w)(t=>this._httpClient.delete("api/apps/tasks/task",{params:{id:e}}).pipe((0,f.U)(n=>{const s=t.findIndex(o=>o.id===e);return t.splice(s,1),this._agendas.next(t),n}))))}}O.\u0275fac=function(e){return new(e||O)(i.LFG(Ve.O),i.LFG(Qe.eN))},O.\u0275prov=i.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"});class J{constructor(e){this._agendaService=e}resolve(e,t){return this._agendaService.getTags()}}J.\u0275fac=function(e){return new(e||J)(i.LFG(O))},J.\u0275prov=i.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"});class Y{constructor(e){this._agendaService=e}resolve(e,t){return this._agendaService.getAgenda()}}Y.\u0275fac=function(e){return new(e||Y)(i.LFG(O))},Y.\u0275prov=i.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"});class G{constructor(e,t){this._router=e,this._agendaService=t}resolve(e,t){const n=e.paramMap.get("id");return this._agendaService.getAgendaById(n).pipe((0,x.w)(s=>s?(0,he.of)(s):this._agendaService.getAgendaById2(n).pipe((0,de.K)(o=>{console.error(o);const a=t.url.split("/").slice(0,-1).join("/");return this._router.navigateByUrl(a),(0,kt._)(o)}))),(0,de.K)(s=>{console.error(s);const o=t.url.split("/").slice(0,-1).join("/");return this._router.navigateByUrl(o),(0,kt._)(s)}))}}G.\u0275fac=function(e){return new(e||G)(i.LFG(P.F0),i.LFG(O))},G.\u0275prov=i.Yz7({token:G,factory:G.\u0275fac,providedIn:"root"});class ot{constructor(){}}ot.\u0275fac=function(e){return new(e||ot)},ot.\u0275cmp=i.Xpm({type:ot,selectors:[["agenda"]],decls:1,vars:0,template:function(e,t){1&e&&i._UZ(0,"router-outlet")},dependencies:[P.lC],encapsulation:2,changeDetection:0});var Je=d(4968);class Ye{}class Rt{constructor(e,t,n,s,o,a,l,c,g){this.id=e,this.agendaNo=t,this.agendaType=n,this.isActive=s,this.agendaTitle=o,this.priority=a,this.notes=l,this.dueDate=c,this.agendaTags=g}}var Ge=d(4880),He=d(9122);const Ke=["matDrawer"];function $e(r,e){1&r&&(i.TgZ(0,"span"),i._uU(1,"All agendas completed!"),i.qZA())}function qe(r,e){if(1&r&&(i.TgZ(0,"span"),i._uU(1),i.qZA()),2&r){const t=i.oxw();i.xp6(1),i.hij("",t.agendasCount.incomplete," kalan Ajanda")}}function je(r,e){if(1&r){const t=i.EpF();i.TgZ(0,"button",16),i.NdJ("click",function(){i.CHM(t);const s=i.oxw();return i.KtG(s.createAgenda(1))}),i._UZ(1,"mat-icon",17),i.TgZ(2,"span",18),i._uU(3,"B\xf6l\xfcm Ekle"),i.qZA()()}2&r&&(i.Q6J("color","accent")("matTooltip","Shortcut: Ctrl + ."),i.xp6(1),i.Q6J("svgIcon","heroicons_outline:plus"))}function We(r,e){if(1&r){const t=i.EpF();i.TgZ(0,"button",19),i.NdJ("click",function(){i.CHM(t);const s=i.oxw();return i.KtG(s.createAgenda(0))}),i._UZ(1,"mat-icon",17),i.TgZ(2,"span",18),i._uU(3,"Ajanda Ekle"),i.qZA()()}2&r&&(i.Q6J("color","primary")("matTooltip","Shortcut: Ctrl + /"),i.xp6(1),i.Q6J("svgIcon","heroicons_outline:plus"))}function Xe(r,e){1&r&&i._UZ(0,"div",32)}function ti(r,e){1&r&&(i.ynx(0),i._UZ(1,"div",33),i.BQk())}function ei(r,e){1&r&&(i.ynx(0),i._UZ(1,"mat-icon",35),i.BQk()),2&r&&(i.xp6(1),i.Q6J("svgIcon","heroicons_outline:check-circle"))}function ii(r,e){1&r&&(i.ynx(0),i._UZ(1,"mat-icon",36),i.BQk()),2&r&&(i.xp6(1),i.Q6J("svgIcon","heroicons_outline:check-circle"))}function ni(r,e){if(1&r){const t=i.EpF();i.TgZ(0,"button",34),i.NdJ("click",function(){i.CHM(t);const s=i.oxw().$implicit,o=i.oxw(2);return i.KtG(o.toggleCompleted(s))}),i.YNc(1,ei,2,1,"ng-container",10),i.YNc(2,ii,2,1,"ng-container",10),i.qZA()}if(2&r){const t=i.oxw().$implicit;i.xp6(1),i.Q6J("ngIf",t.isActive),i.xp6(1),i.Q6J("ngIf",!t.isActive)}}function si(r,e){if(1&r&&(i.ynx(0),i.TgZ(1,"span"),i._uU(2),i.qZA(),i.BQk()),2&r){const t=i.oxw(3);i.xp6(2),i.Oqu(t.agendas.agendaTags)}}function ri(r,e){if(1&r&&(i.ynx(0,37),i.TgZ(1,"span",38),i._uU(2),i.qZA(),i.BQk()),2&r){const t=i.oxw().$implicit;i.xp6(2),i.Oqu((null==t?null:t.agendaTitle)||"Title")}}function oi(r,e){1&r&&i._UZ(0,"mat-icon",42),2&r&&i.Q6J("svgIcon","heroicons_solid:arrow-narrow-down")("title","Low")}function ai(r,e){1&r&&i._UZ(0,"mat-icon",43),2&r&&i.Q6J("svgIcon","heroicons_solid:arrow-narrow-up")("title","High")}function li(r,e){if(1&r&&(i.ynx(0),i.TgZ(1,"div",39),i.YNc(2,oi,1,2,"mat-icon",40),i.YNc(3,ai,1,2,"mat-icon",41),i.qZA(),i.BQk()),2&r){const t=i.oxw().$implicit;i.xp6(2),i.Q6J("ngIf",0===t.priority),i.xp6(1),i.Q6J("ngIf",2===t.priority)}}function ci(r,e){if(1&r&&(i.TgZ(0,"div",44),i._uU(1),i.ALo(2,"date"),i.qZA()),2&r){const t=i.oxw().$implicit;i.xp6(1),i.hij(" ",i.xi3(2,1,t.dueDate,"LLL dd")," ")}}const di=function(r,e,t){return{"h-12 text-lg font-semibold bg-gray-50 dark:bg-transparent":r,"h-16":e,"text-hint":t}},hi=function(r){return[r]};function gi(r,e){if(1&r&&(i.ynx(0),i.TgZ(1,"div",22),i.YNc(2,Xe,1,0,"div",23),i.TgZ(3,"div",24),i.YNc(4,ti,2,0,"ng-container",10),i.TgZ(5,"div",25),i._UZ(6,"mat-icon",26),i.qZA(),i.YNc(7,ni,3,2,"button",27),i.TgZ(8,"a",28)(9,"div",29),i.YNc(10,si,3,1,"ng-container",10),i.YNc(11,ri,3,1,"ng-container",30),i.qZA(),i.YNc(12,li,4,2,"ng-container",10),i.YNc(13,ci,3,4,"div",31),i.qZA()()(),i.BQk()),2&r){const t=e.$implicit,n=e.first,s=i.oxw(2);i.xp6(1),i.ekj("border-t",n),i.Q6J("id","agendas-"+s.agendas.id)("ngClass",i.kEZ(13,di,1===t.agendaType,0===t.agendaType,t.isActive))("cdkDragLockAxis","y"),i.xp6(3),i.Q6J("ngIf",s.selectedAgenda&&s.selectedAgenda.id===t.id),i.xp6(2),i.Q6J("svgIcon","heroicons_solid:menu"),i.xp6(1),i.Q6J("ngIf",0===t.agendaType),i.xp6(1),i.Q6J("routerLink",i.VKq(17,hi,t.id)),i.xp6(2),i.Q6J("ngIf",s.agendas.agendaTags),i.xp6(1),i.Q6J("ngIf",!s.agendas.agendaTags),i.xp6(1),i.Q6J("ngIf",0===t.agendaType),i.xp6(1),i.Q6J("ngIf",0===t.agendaType)}}function ui(r,e){if(1&r){const t=i.EpF();i.ynx(0),i.TgZ(1,"div",20),i.NdJ("cdkDropListDropped",function(s){i.CHM(t);const o=i.oxw();return i.KtG(o.dropped(s))}),i.YNc(2,gi,14,19,"ng-container",21),i.qZA(),i.BQk()}if(2&r){const t=i.oxw();i.xp6(1),i.Q6J("cdkDropListData",t.agendas),i.xp6(1),i.Q6J("ngForOf",t.agendas)("ngForTrackBy",t.trackByFn)}}function pi(r,e){1&r&&(i.TgZ(0,"div",45),i._UZ(1,"mat-icon",46),i.TgZ(2,"div",47),i._uU(3,"Planlamaya ba\u015flamak i\xe7in bir g\xfcndem ekleyin!"),i.qZA()()),2&r&&(i.xp6(1),i.Q6J("svgIcon","heroicons_outline:clipboard-list"))}class H{constructor(e,t,n,s,o,a,l){this._activatedRoute=e,this._changeDetectorRef=t,this._document=n,this._router=s,this._agendaService=o,this._fuseMediaWatcherService=a,this._fuseNavigationService=l,this.agendasCount={completed:0,incomplete:0,total:0,rowNo:0},this.agendaTagsList=[],this._unsubscribeAll=new m.x,this.visible=!0,this.visible2=!0,this.agendaDtos=new Ye}ngOnInit(){this.createAgendaLoading(0),this.getAgendaTags(),this.getAgendaList(),this._fuseMediaWatcherService.onMediaQueryChange$("(min-width: 1440px)").pipe((0,p.R)(this._unsubscribeAll)).subscribe(e=>{this.drawerMode=e.matches?"side":"over",this._changeDetectorRef.markForCheck()}),(0,Je.R)(this._document,"keydown").pipe((0,p.R)(this._unsubscribeAll),(0,rt.h)(e=>(!0===e.ctrlKey||e.metaKey)&&("/"===e.key||"."===e.key))).subscribe(e=>{"/"===e.key&&this.createAgenda(0),"."===e.key&&this.createAgenda(1)})}createAgendaLoading(e){this._agendaService.createAgenda(e,this.agendasCount).subscribe(t=>{})}getAgendaTags(){this._agendaService.tags$.pipe((0,p.R)(this._unsubscribeAll)).subscribe(e=>{this.tags=e,this._changeDetectorRef.markForCheck()})}getAgendaList(){this._agendaService.getAgendaList().subscribe(e=>{this.agendas=e.data,this.agendasCount.rowNo=this.agendas.length,this.agendasCount.total=this.agendas.filter(t=>0===t.agendaType).length,this.agendasCount.completed=this.agendas.filter(t=>0===t.agendaType&&t.isActive).length,this.agendasCount.incomplete=this.agendasCount.total-this.agendasCount.completed,this._changeDetectorRef.markForCheck(),this.visible=!0,setTimeout(()=>{const t=this._fuseNavigationService.getComponent("mainNavigation");t&&(this._fuseNavigationService.getItem("agenda",t.navigation).subtitle=this.agendasCount.incomplete.toString()+" kalan Ajanda",t.refresh())})})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}onBackdropClicked(){this._router.navigate(["./"],{relativeTo:this._activatedRoute}),this._changeDetectorRef.markForCheck()}createAgenda(e){this._agendaService.createAgenda(e,this.agendasCount).subscribe(t=>{this._router.navigate(["./",t.id],{relativeTo:this._activatedRoute}),this._changeDetectorRef.markForCheck(),this.visible=!1})}getSelectedAgenda(e){}toggleCompleted(e){this.agendaTagsList=e.agendaTags;const t=new Rt(e.id,e.agendaNo,0==e.agendaType?0:1,1===e.isActive?0:1,e.agendaTitle,e.priority,e.notes,e.dueDate,this.agendaTagsList);this._agendaService.updateAgendas(t).subscribe(n=>{n.isSuccessful&&(this.getAgendaTags(),this.getAgendaList(),this._changeDetectorRef.markForCheck())}),this._changeDetectorRef.markForCheck()}dropped(e){Ht(e.container.data,e.previousIndex,e.currentIndex);const t=e.container.data;this.agendas.forEach(n=>{n.agendaNo=t.findIndex(o=>o.id===n.id);const s=new Rt(n.id,n.agendaNo,0==n.agendaType?0:1,n.isActive,n.agendaTitle,n.priority,n.notes,n.dueDate,this.agendaTagsList);this._agendaService.updateAgendasMulti(s).subscribe(o=>{o.isSuccessful&&(this.getAgendaList(),this._changeDetectorRef.markForCheck())})}),this._changeDetectorRef.markForCheck()}trackByFn(e,t){return t.id||e}}H.\u0275fac=function(e){return new(e||H)(i.Y36(P.gz),i.Y36(i.sBO),i.Y36(A.K0),i.Y36(P.F0),i.Y36(O),i.Y36(Ge.T),i.Y36(He.Jf))},H.\u0275cmp=i.Xpm({type:H,selectors:[["agendas-list"]],viewQuery:function(e,t){if(1&e&&i.Gf(Ke,7),2&e){let n;i.iGM(n=i.CRH())&&(t.matDrawer=n.first)}},decls:22,vars:10,consts:[[1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-hidden"],[1,"flex-auto","h-full","bg-card","dark:bg-transparent",3,"backdropClick"],[1,"w-full","sm:w-128","dark:bg-gray-900",3,"mode","opened","position","disableClose"],["matDrawer",""],[1,"flex","flex-col"],[1,"flex","flex-col","flex-auto"],[1,"flex","flex-col","sm:flex-row","items-start","sm:items-center","sm:justify-between","py-8","px-6","md:px-8"],[1,"text-4xl","font-extrabold","tracking-tight","leading-none"],[1,"ml-0.5","font-medium","text-secondary"],[1,"font-medium","tracking-tight","text-secondary"],[4,"ngIf"],[1,"mt-4","sm:mt-0"],["mat-flat-button","",3,"color","matTooltip","click",4,"ngIf"],["class","ml-3","mat-flat-button","",3,"color","matTooltip","click",4,"ngIf"],[4,"ngIf","ngIfElse"],["noAgendas",""],["mat-flat-button","",3,"color","matTooltip","click"],[3,"svgIcon"],[1,"ml-2","mr-1"],["mat-flat-button","",1,"ml-3",3,"color","matTooltip","click"],["cdkDropList","",1,"divide-y",3,"cdkDropListData","cdkDropListDropped"],[4,"ngFor","ngForOf","ngForTrackBy"],["cdkDrag","",1,"group","w-full","select-none","hover:bg-gray-100","dark:hover:bg-hover",3,"id","ngClass","cdkDragLockAxis"],["class","flex flex-0 w-0 h-0",4,"cdkDragPreview"],[1,"relative","flex","items-center","h-full","pl-10"],["cdkDragHandle","",1,"md:hidden","absolute","flex","items-center","justify-center","inset-y-0","left-0","w-8","cursor-move","md:group-hover:flex"],[1,"icon-size-5","text-hint",3,"svgIcon"],["class","mr-2 -ml-2.5 leading-none","mat-icon-button","",3,"click",4,"ngIf"],[1,"flex","flex-auto","items-center","min-w-0","h-full","pr-7",3,"routerLink"],[1,"flex-auto","mr-2","truncate"],["asd","",4,"ngIf"],["class","text-sm whitespace-nowrap text-secondary",4,"ngIf"],[1,"flex","flex-0","w-0","h-0"],[1,"z-10","absolute","-top-px","right-0","-bottom-px","flex","flex-0","w-1","bg-primary"],["mat-icon-button","",1,"mr-2","-ml-2.5","leading-none",3,"click"],[1,"text-primary",3,"svgIcon"],[1,"text-hint",3,"svgIcon"],["asd",""],[1,"select-none","text-hint"],[1,"w-4","h-4","mr-3"],["class","icon-size-4 text-green-600 dark:text-green-400",3,"svgIcon","title",4,"ngIf"],["class","icon-size-4 text-red-600 dark:text-red-400",3,"svgIcon","title",4,"ngIf"],[1,"icon-size-4","text-green-600","dark:text-green-400",3,"svgIcon","title"],[1,"icon-size-4","text-red-600","dark:text-red-400",3,"svgIcon","title"],[1,"text-sm","whitespace-nowrap","text-secondary"],[1,"flex","flex-auto","flex-col","items-center","justify-center","bg-gray-100","dark:bg-transparent"],[1,"icon-size-24",3,"svgIcon"],[1,"mt-4","text-2xl","font-semibold","tracking-tight","text-secondary"]],template:function(e,t){if(1&e&&(i.TgZ(0,"div",0)(1,"mat-drawer-container",1),i.NdJ("backdropClick",function(){return t.onBackdropClicked()}),i.TgZ(2,"mat-drawer",2,3),i._UZ(4,"router-outlet"),i.qZA(),i.TgZ(5,"mat-drawer-content",4)(6,"div",5)(7,"div",6)(8,"div")(9,"div",7),i._uU(10,"Ajanda"),i.qZA(),i.TgZ(11,"div",8)(12,"div",9),i._uU(13,"Ki\u015fisel Hareketlerinizi, Notlar\u0131n\u0131 vb."),i.qZA(),i.YNc(14,$e,2,0,"span",10),i.YNc(15,qe,2,1,"span",10),i.qZA()(),i.TgZ(16,"div",11),i.YNc(17,je,4,3,"button",12),i.YNc(18,We,4,3,"button",13),i.qZA()(),i.YNc(19,ui,3,3,"ng-container",14),i.YNc(20,pi,4,1,"ng-template",null,15,i.W1O),i.qZA()()()()),2&e){const n=i.MAs(21);i.xp6(2),i.Q6J("mode",t.drawerMode)("opened",!1)("position","end")("disableClose",!0),i.xp6(12),i.Q6J("ngIf",0===t.agendasCount.incomplete),i.xp6(1),i.Q6J("ngIf",0!==t.agendasCount.incomplete),i.xp6(2),i.Q6J("ngIf",t.visible),i.xp6(1),i.Q6J("ngIf",t.visible),i.xp6(1),i.Q6J("ngIf",t.agendas&&t.agendas.length>0)("ngIfElse",n)}},dependencies:[P.lC,P.rH,te,re,ee,se,nt.lW,nt.RK,It.Hw,_t.jA,_t.kh,_t.LW,Pt.gM,A.mk,A.sg,A.O5,A.uU],encapsulation:2,changeDetection:0});var C=d(4006),_i=d(4080),ge=d(8372),fi=d(9858);class mi{}class vi{constructor(e,t,n,s,o,a,l,c){this.agendaNo=e,this.agendaType=t,this.isActive=n,this.agendaTitle=s,this.priority=o,this.notes=a,this.dueDate=l,this.agendaTags=c}}var K=d(487),$=d(5263),q=d(9079),Di=d(7401),yi=d(8184),bi=d(5707),xi=d(9349);const wi=["tagsPanelOrigin"],Ti=["tagsPanel"],Ci=["titleField"];function Ai(r,e){1&r&&(i.ynx(0),i.TgZ(1,"div",37),i._UZ(2,"mat-icon",11),i.TgZ(3,"span",38),i._uU(4,"MARK AS COMPLETE"),i.qZA()(),i.BQk()),2&r&&(i.xp6(2),i.Q6J("svgIcon","heroicons_outline:check-circle"))}function Si(r,e){1&r&&(i.ynx(0),i.TgZ(1,"div",37),i._UZ(2,"mat-icon",39),i.TgZ(3,"span",38),i._uU(4,"MARK AS INCOMPLETE"),i.qZA()(),i.BQk()),2&r&&(i.xp6(2),i.Q6J("svgIcon","heroicons_outline:check-circle"))}function Ii(r,e){if(1&r&&(i.TgZ(0,"button",40),i._UZ(1,"mat-icon",11),i.qZA()),2&r){i.oxw();const t=i.MAs(9);i.Q6J("matMenuTriggerFor",t),i.xp6(1),i.Q6J("svgIcon","heroicons_outline:dots-vertical")}}function Pi(r,e){1&r&&(i.ynx(0),i._UZ(1,"mat-icon",27),i.TgZ(2,"span",41),i._uU(3,"Low"),i.qZA(),i.BQk()),2&r&&(i.xp6(1),i.Q6J("svgIcon","heroicons_solid:arrow-narrow-down"))}function ki(r,e){1&r&&(i.ynx(0),i._UZ(1,"mat-icon",42),i.TgZ(2,"span",41),i._uU(3,"Normal"),i.qZA(),i.BQk()),2&r&&(i.xp6(1),i.Q6J("svgIcon","heroicons_solid:minus"))}function Ri(r,e){1&r&&(i.ynx(0),i._UZ(1,"mat-icon",42),i.TgZ(2,"span",41),i._uU(3,"High"),i.qZA(),i.BQk()),2&r&&(i.xp6(1),i.Q6J("svgIcon","heroicons_solid:arrow-narrow-up"))}function Ei(r,e){if(1&r&&(i.ynx(0),i._uU(1),i.ALo(2,"date"),i.BQk()),2&r){const t=i.oxw();i.xp6(1),i.Oqu(i.xi3(2,1,t.agenda.dueDate,"longDate"))}}function Li(r,e){1&r&&(i.ynx(0),i._uU(1,"Se\xe7im Yap\u0131lmad\u0131"),i.BQk())}function Fi(r,e){if(1&r){const t=i.EpF();i.TgZ(0,"button",43),i.NdJ("click",function(){i.CHM(t);const s=i.oxw();return i.KtG(s.saveAgendadetail(s.agenda.agendaType))}),i._UZ(1,"mat-icon",11),i.TgZ(2,"span",44),i._uU(3),i.qZA()()}if(2&r){const t=i.oxw();i.Q6J("color",0===t.agenda.agendaType?"primary":"accent")("matTooltip","Shortcut: Ctrl + ."),i.xp6(1),i.Q6J("svgIcon","heroicons_outline:check"),i.xp6(2),i.Oqu(0===t.agenda.agendaType?"Ajanday\u0131 Kaydet":"B\xf6l\xfcm\xfc Kaydet")}}function Oi(r,e){if(1&r){const t=i.EpF();i.TgZ(0,"button",43),i.NdJ("click",function(){i.CHM(t);const s=i.oxw();return i.KtG(s.updateAgendadetail(s.agendaByIdList))}),i._UZ(1,"mat-icon",11),i.TgZ(2,"span",44),i._uU(3),i.qZA()()}if(2&r){const t=i.oxw();i.Q6J("color",0===t.agendaByIdList.agendaType?"primary":"accent")("matTooltip","Shortcut: Ctrl + ."),i.xp6(1),i.Q6J("svgIcon","heroicons_outline:check"),i.xp6(2),i.Oqu(0===t.agendaByIdList.agendaType?"Ajanday\u0131 G\xfcncelle":"B\xf6l\xfcm\xfc G\xfcncelle")}}const Mi=function(r,e,t){return{"text-green-800 bg-green-200 dark:text-green-100 dark:bg-green-500":r,"text-gray-800 bg-gray-200 dark:text-gray-100 dark:bg-gray-500":e,"text-red-800 bg-red-200 dark:text-red-100 dark:bg-red-500":t}},Et=function(r){return{"bg-hover":r}},Zi=function(r,e,t){return{"text-gray-500 bg-gray-100 dark:text-gray-300 dark:bg-gray-700":r,"text-green-800 bg-green-200 dark:text-green-100 dark:bg-green-500":e,"text-red-800 bg-red-200 dark:text-red-100 dark:bg-red-500":t}};class at{constructor(e,t,n,s,o,a,l,c,g,_,y){this._activatedRoute=e,this._changeDetectorRef=t,this._formBuilder=n,this._fuseConfirmationService=s,this._renderer2=o,this._router=a,this._AgendaListComponent=l,this._AgendaService=c,this._overlay=g,this._viewContainerRef=_,this._translocoService=y,this.displayedColumns=["agendaNo","agendaType","isActive","agendaTitle","priority","dueDate","notes","agendaTags"],this.tagsEditMode=!1,this.tagsLength=0,this._unsubscribeAll=new m.x,this.visibleCheck=!1,this.visible=!0}closePage(){this._router.navigate(["../agenda/"]),this._AgendaListComponent.visible=!0}ngOnInit(){if(this.visible=!0,this.AgendaForm=this._formBuilder.group({id:["",C.kI.required],agendaNo:["",C.kI.required],agendaType:[0,C.kI.required],isActive:["",C.kI.required],agendaTitle:["",C.kI.required],priority:[1,C.kI.required],dueDate:[""],notes:["",C.kI.required],agendaTags:["",C.kI.required]}),this._AgendaListComponent.matDrawer.open(),this._AgendaService.tags$.pipe((0,p.R)(this._unsubscribeAll)).subscribe(e=>{this.tags=e,this.filteredTags=e,this._changeDetectorRef.markForCheck()}),this._AgendaService.agendasDto$.pipe((0,p.R)(this._unsubscribeAll)).subscribe(e=>{this.agendasDtos=e,this._AgendaListComponent.visible=!1,this._changeDetectorRef.markForCheck()}),this._AgendaService.agendaDto$.pipe((0,p.R)(this._unsubscribeAll)).subscribe(e=>{this._AgendaListComponent.matDrawer.open(),this.agendaDto=e,this.agendaByIdList=e,this.AgendaForm.patchValue(e,{emitEvent:!1}),this._changeDetectorRef.markForCheck()}),this._AgendaService.agendas$.pipe((0,p.R)(this._unsubscribeAll)).subscribe(e=>{this.agendas=e,this._AgendaListComponent.visible=!1,this._changeDetectorRef.markForCheck()}),this._AgendaService.agenda$.pipe((0,p.R)(this._unsubscribeAll)).subscribe(e=>{this._AgendaListComponent.matDrawer.open(),this.agenda=e}),null!=this.agendaDto||null!==this.agendaDto){this.visible=!1;const e=this.agendaByIdList.agendaNo,t=this.agendaByIdList.agendaType,n=this.agendaByIdList.agendaTitle,s=this.agendaByIdList.dueDate;if(null!==this.agenda)this.agenda.dueDate=s,this.agenda.priority=this.agendaByIdList.priority,this.agenda.id=this.agendaByIdList.id,this.agenda.agendaNo=e,this.agenda.agendaType=t;else{const o=this.agendaByIdList,a=new mi;a.agendaNo=o.agendaNo,a.id=o.id,a.agendaTags=o.agendaTags,a.agendaTitle=o.agendaTitle,a.dueDate=o.dueDate,a.isActive=o.isActive,a.priority=o.priority,a.agendaType=o.agendaType,a.notes=o.notes,this.agenda=a}0==this.agenda.agendaType&&(this.visibleCheck=!0),this.AgendaForm=this._formBuilder.group({id:[this.agendaDto.id],agendaNo:[e],agendaType:[t],isActive:[this.agendaDto.isActive],agendaTitle:[n],priority:[""===this.agendaDto.priority.toString()?1:this.agendaDto.priority],dueDate:[new Date(s)],notes:[this.agendaDto.notes],agendaTags:[this.agendaDto.agendaTags]})}else this.AgendaForm=this._formBuilder.group({id:[this.agenda.id],agendaNo:[this.agenda.agendaNo],agendaType:[this.agenda.agendaType],isActive:[this.agenda.isActive],agendaTitle:[this.agenda.agendaTitle],priority:[this.agenda.priority],dueDate:[new Date(this.agenda.dueDate)],notes:[this.agenda.notes],agendaTags:[[]]}),this.visible=!0,0==this.agenda.agendaType&&(this.visibleCheck=!0);this.AgendaForm.valueChanges.pipe((0,S.b)(e=>{this.agenda=(0,fi.Z)(this.agenda,e),this._changeDetectorRef.markForCheck()}),(0,ge.b)(300),(0,p.R)(this._unsubscribeAll)).subscribe(e=>{this._AgendaService.updateAgenda(e.id,e).subscribe(),this._changeDetectorRef.markForCheck()}),this._router.events.pipe((0,p.R)(this._unsubscribeAll),(0,rt.h)(e=>e instanceof P.m2)).subscribe(e=>{this.agenda.dueDate=this.agendaByIdList.dueDate,this.agenda.priority=this.agendaByIdList.priority,this.visibleCheck=0===this.agendaByIdList.agendaType,this._titleField.nativeElement.focus(),this._changeDetectorRef.markForCheck()})}ngAfterViewInit(){this._AgendaListComponent.matDrawer.openedChange.pipe((0,p.R)(this._unsubscribeAll),(0,rt.h)(e=>e)).subscribe(()=>{this._titleField.nativeElement.focus()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete(),this._tagsPanelOverlayRef&&this._tagsPanelOverlayRef.dispose()}closeDrawer(){return this._AgendaListComponent.matDrawer.close()}toggleCompleted(){const e=this.AgendaForm.get("isActive");e.setValue(!e.value)}openTagsPanel(){this._tagsPanelOverlayRef=this._overlay.create({backdropClass:"",hasBackdrop:!0,scrollStrategy:this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().flexibleConnectedTo(this._tagsPanelOrigin.nativeElement).withFlexibleDimensions(!0).withViewportMargin(64).withLockedPosition(!0).withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"}])}),this._tagsPanelOverlayRef.attachments().subscribe(()=>{this._tagsPanelOverlayRef.overlayElement.querySelector("input").focus()});const e=new _i.UE(this._tagsPanel,this._viewContainerRef);this._tagsPanelOverlayRef.attach(e),this._tagsPanelOverlayRef.backdropClick().subscribe(()=>{this._tagsPanelOverlayRef&&this._tagsPanelOverlayRef.hasAttached()&&(this._tagsPanelOverlayRef.detach(),this.filteredTags=this.tags,this.tagsEditMode=!1),e&&e.isAttached&&e.detach()})}toggleTagsEditMode(){this.tagsEditMode=!this.tagsEditMode}filterTags(e){const t=e.target.value.toLowerCase();this.filteredTags=this.tags.filter(n=>n.tags.toLowerCase().includes(t))}filterTagsInputKeyDown(e){if("Enter"!==e.key)return;if(0===this.filteredTags.length)return this.createTag(e.target.value),void(e.target.value="");const t=this.filteredTags[0];this.agenda.agendaTags.find(s=>s===t.id)?this.deleteTagFromAgenda(t):this.addTagToAgenda(t)}createTag(e){this._AgendaService.createTag({tags:e}).subscribe(n=>{this.addTagToAgenda(n)})}updateTagTitle(e,t){e.tags=t.target.value,this._AgendaService.updateTag(e.id,e).pipe((0,ge.b)(300)).subscribe(),this._changeDetectorRef.markForCheck()}deleteTag(e){this._AgendaService.deleteTag(e.id).subscribe(),this._changeDetectorRef.markForCheck()}addTagToAgenda(e){this.agenda.agendaTags.unshift(e.id),this._changeDetectorRef.markForCheck()}deleteTagFromAgenda(e){this.agenda.agendaTags.splice(this.agenda.agendaTags.findIndex(t=>t===e.id),1),this.AgendaForm.get("tags").patchValue(this.agenda.agendaTags),this._changeDetectorRef.markForCheck()}toggleAgendaTag(e){this.agenda.agendaTags.includes(e.id)?this.deleteTagFromAgenda(e):this.addTagToAgenda(e)}shouldShowCreateTagButton(e){return!(""===e||this.tags.findIndex(t=>t.tags.toLowerCase()===e.toLowerCase())>-1)}setAgendaPriority(e){this.AgendaForm.get("priority").setValue(e)}isOverdue(){return b.ou.fromISO(this.agenda.dueDate).startOf("day")<b.ou.now().startOf("day")}deleteAgenda(){this._fuseConfirmationService.open({title:"Delete Agenda",message:"Bu G\xfcndemi silmek istedi\u011finizden emin misiniz? Bu i\u015flem geri al\u0131namaz!",actions:{confirm:{label:"Delete"}}}).afterClosed().subscribe(t=>{if("confirmed"===t){const n=this.agenda.id,s=this.agendasDtos.findIndex(l=>l.id===n),a=1===this.agendasDtos.length&&this.agenda[0].id===n?null:this.agendasDtos[s+(s===this.agendasDtos.length-1?-1:1)].id;this._AgendaService.deleteAgenda(n).subscribe(l=>{l&&this._router.navigate(a?["../",a]:["../"],{relativeTo:this._activatedRoute})}),this._changeDetectorRef.markForCheck()}})}controlProperty(){const e=this.getFormValueByName("agendaTitle"),t=this.getFormValueByName("priority"),n=this.getFormValueByName("notes"),s=this.getFormValueByName("dueDate");if(!e||null===e){const a=new K.c(this.translate("sweetalert.error"),this.translate("Ba\u015fl\u0131k Giriniz."),q.p.warning);return $.m.sweetAlert(a),!1}if(null==t){const a=new K.c(this.translate("sweetalert.error"),this.translate("\xd6ncelik Giriniz."),q.p.warning);return $.m.sweetAlert(a),!1}if(!n||null===n){const a=new K.c(this.translate("sweetalert.error"),this.translate("Not Giriniz."),q.p.warning);return $.m.sweetAlert(a),!1}if(!s||null===s){const a=new K.c(this.translate("sweetalert.error"),this.translate("Biti\u015f tarihi Giriniz."),q.p.warning);return $.m.sweetAlert(a),!1}return!0}updateAgendadetail(e){const t=new Rt(e.id,this.getFormValueByName("agendaNo"),0==this.getFormValueByName("agendaType")?0:1,1===this.getFormValueByName("isActive")?0:1,this.getFormValueByName("agendaTitle"),this.getFormValueByName("priority"),this.getFormValueByName("notes"),this.getFormValueByName("dueDate"),[]);this._AgendaService.updateAgendas(t).subscribe(s=>{s.isSuccessful&&(this._AgendaListComponent.getAgendaTags(),this._AgendaListComponent.getAgendaList(),this.closePage(),this._changeDetectorRef.markForCheck())})}saveAgendadetail(e){const t=new vi(this.getFormValueByName("agendaNo"),this.getFormValueByName("agendaType"),this.getFormValueByName("isActive"),this.getFormValueByName("agendaTitle"),this.getFormValueByName("priority"),this.getFormValueByName("notes"),this.getFormValueByName("dueDate"),this.getFormValueByName("agendaTags"));t.agendaNo=this._AgendaListComponent.agendasCount.rowNo,t.agendaTags=[],t.agendaType=e,t.isActive=1==this.agenda.isActive?1:0,this.filteredTags=this.tags.filter(n=>this.agenda.agendaTags.includes(n.id)),this.tagsLength=this.filteredTags.length;for(const n of this.filteredTags){const s={id:"00000000-0000-0000-0000-000000000000",tags:n.tags,tagsId:n.id};try{t.agendaTags.push(s)}catch(o){console.error(o)}}this.controlProperty()&&this._AgendaService.createAgendas(t).subscribe(n=>{n.isSuccessful?(this.showSweetAlert("success"),this._AgendaListComponent.getAgendaTags(),this._AgendaListComponent.getAgendaList(),this.closePage()):this.showSweetAlert("error")},n=>{console.log(n)})}showSweetAlert(e){if("success"===e){const t=new K.c(this.translate("sweetalert.success"),this.translate("sweetalert.transactionSuccessful"),q.p.success);$.m.sweetAlert(t)}else{const t=new K.c(this.translate("sweetalert.error"),this.translate("sweetalert.transactionFailed"),q.p.error);$.m.sweetAlert(t)}}getFormValueByName(e){return this.AgendaForm.get(e).value}trackByFn(e,t){return t.id||e}translate(e){return this._translocoService.translate(e)}}at.\u0275fac=function(e){return new(e||at)(i.Y36(P.gz),i.Y36(i.sBO),i.Y36(C.QS),i.Y36(Di.R),i.Y36(i.Qsj),i.Y36(P.F0),i.Y36(H),i.Y36(O),i.Y36(yi.aV),i.Y36(i.s_b),i.Y36(bi.Vn))},at.\u0275cmp=i.Xpm({type:at,selectors:[["Agenda-details"]],viewQuery:function(e,t){if(1&e&&(i.Gf(wi,5),i.Gf(Ti,5),i.Gf(Ci,5)),2&e){let n;i.iGM(n=i.CRH())&&(t._tagsPanelOrigin=n.first),i.iGM(n=i.CRH())&&(t._tagsPanel=n.first),i.iGM(n=i.CRH())&&(t._titleField=n.first)}},decls:73,vars:51,consts:[[1,"flex","flex-auto"],[1,"flex","flex-col","flex-auto","p-6","pt-10","sm:p-8","sm:pt-10","overflow-y-auto",3,"formGroup"],[1,"flex","items-center","justify-between","-mt-3","-ml-4"],["mat-button","",1,"pr-4","pl-3.5",3,"disabled","click"],[4,"ngIf"],[1,"flex","items-center"],["mat-icon-button","",3,"matMenuTriggerFor",4,"ngIf"],["moreMenu","matMenu"],["mat-menu-item","",3,"click"],[3,"color","svgIcon"],[1,"text-red-500"],[3,"svgIcon"],[1,"mt-6","mb-8"],[1,"w-full",3,"subscriptSizing"],["matInput","","cdkTextareaAutosize","",3,"formControlName","spellcheck"],["titleField",""],[1,"flex","flex-wrap","items-center","mt-8"],[1,"font-medium"],[1,"flex","items-center","mt-1.5","px-4","leading-9","rounded-full","cursor-pointer",3,"ngClass","matMenuTriggerFor"],["priorityMenu","matMenu"],["mat-menu-item","",3,"ngClass","click"],[1,"inline-flex","items-center","justify-between","w-full","min-w-30","leading-5"],[1,"mr-0","icon-size-4","text-green-600","dark:text-green-500",3,"svgIcon"],[1,"mr-0","icon-size-4","text-gray-600","dark:text-gray-500",3,"svgIcon"],[1,"mr-0","icon-size-4","text-red-600","dark:text-red-500",3,"svgIcon"],[1,"ml-6"],[1,"relative","flex","items-center","mt-1.5","px-4","leading-9","rounded-full","cursor-pointer",3,"ngClass","click"],[1,"icon-size-5","text-current",3,"svgIcon"],[1,"ml-2","text-md","font-medium"],[1,"fuse-mat-dense","invisible","absolute","inset-0","-mt-2.5","opacity-0","pointer-events-none",3,"subscriptSizing"],["matInput","",3,"formControlName","matDatepicker"],["dueDatePicker",""],["mat-button","","matDatepickerCancel","",3,"click"],["mat-flat-button","","matDatepickerApply","",1,"",3,"color"],[1,"mt-8"],[1,"mt-4","sm:mt-6"],["mat-flat-button","",3,"color","matTooltip","click",4,"ngIf"],[1,"flex","items-center","justify-center"],[1,"ml-2","font-semibold"],[1,"text-primary",3,"svgIcon"],["mat-icon-button","",3,"matMenuTriggerFor"],[1,"ml-2","mr-1","text-md","font-medium"],[1,"icon-size-4","text-current",3,"svgIcon"],["mat-flat-button","",3,"color","matTooltip","click"],[1,"ml-2","mr-1"]],template:function(e,t){if(1&e){const n=i.EpF();i.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"button",3),i.NdJ("click",function(){return t.toggleCompleted()}),i.YNc(4,Ai,5,1,"ng-container",4),i.YNc(5,Si,5,1,"ng-container",4),i.qZA(),i.TgZ(6,"div",5),i.YNc(7,Ii,2,2,"button",6),i.TgZ(8,"mat-menu",null,7)(10,"button",8),i.NdJ("click",function(){return t.deleteAgenda()}),i._UZ(11,"mat-icon",9),i.TgZ(12,"span",10),i._uU(13),i.qZA()()(),i.TgZ(14,"button",8),i.NdJ("click",function(){return t.closePage()}),i._UZ(15,"mat-icon",11),i.qZA()()(),i._UZ(16,"mat-divider",12),i.TgZ(17,"div")(18,"mat-form-field",13)(19,"mat-label"),i._uU(20),i.qZA(),i._UZ(21,"textarea",14,15),i.qZA()(),i.TgZ(23,"div",16)(24,"div")(25,"div",17),i._uU(26,"\xd6ncelik"),i.qZA(),i.TgZ(27,"div",18),i.YNc(28,Pi,4,1,"ng-container",4),i.YNc(29,ki,4,1,"ng-container",4),i.YNc(30,Ri,4,1,"ng-container",4),i.qZA(),i.TgZ(31,"mat-menu",null,19)(33,"button",20),i.NdJ("click",function(){return t.setAgendaPriority(0)}),i.TgZ(34,"span",21)(35,"span",17),i._uU(36,"Low"),i.qZA(),i._UZ(37,"mat-icon",22),i.qZA()(),i.TgZ(38,"button",20),i.NdJ("click",function(){return t.setAgendaPriority(1)}),i.TgZ(39,"span",21)(40,"span",17),i._uU(41,"Normal"),i.qZA(),i._UZ(42,"mat-icon",23),i.qZA()(),i.TgZ(43,"button",20),i.NdJ("click",function(){return t.setAgendaPriority(2)}),i.TgZ(44,"span",21)(45,"span",17),i._uU(46,"High"),i.qZA(),i._UZ(47,"mat-icon",24),i.qZA()()()(),i.TgZ(48,"div",25)(49,"div",17),i._uU(50,"Biti\u015f Tarihi"),i.qZA(),i.TgZ(51,"div",26),i.NdJ("click",function(){i.CHM(n);const o=i.MAs(59);return i.KtG(o.open())}),i._UZ(52,"mat-icon",27),i.TgZ(53,"span",28),i.YNc(54,Ei,3,4,"ng-container",4),i.YNc(55,Li,2,0,"ng-container",4),i.qZA(),i.TgZ(56,"mat-form-field",29),i._UZ(57,"input",30),i.TgZ(58,"mat-datepicker",null,31)(60,"mat-datepicker-actions")(61,"button",32),i.NdJ("click",function(){return t.AgendaForm.get("dueDate").setValue(null)}),i._uU(62,"Clear "),i.qZA(),i.TgZ(63,"button",33),i._uU(64,"Select "),i.qZA()()()()()()(),i.TgZ(65,"div",34)(66,"mat-form-field",13)(67,"mat-label"),i._uU(68,"Not"),i.qZA(),i._UZ(69,"textarea",14),i.qZA()(),i.TgZ(70,"div",35),i.YNc(71,Fi,4,4,"button",36),i.YNc(72,Oi,4,4,"button",36),i.qZA()()()}if(2&e){const n=i.MAs(32),s=i.MAs(59);i.xp6(1),i.Q6J("formGroup",t.AgendaForm),i.xp6(2),i.Q6J("disabled",!t.visibleCheck),i.xp6(1),i.Q6J("ngIf",!t.AgendaForm.get("isActive").value),i.xp6(1),i.Q6J("ngIf",t.AgendaForm.get("isActive").value),i.xp6(2),i.Q6J("ngIf",!t.visible),i.xp6(4),i.Q6J("color","warn")("svgIcon","heroicons_outline:trash"),i.xp6(2),i.hij("",0===t.agenda.agendaType?"Ajanday\u0131":"B\xf6l\xfcm\xfc"," Sil"),i.xp6(2),i.Q6J("svgIcon","heroicons_outline:x"),i.xp6(3),i.Q6J("subscriptSizing","dynamic"),i.xp6(2),i.Oqu(0===t.agenda.agendaType?"Ajanda Ba\u015fl\u0131\u011f\u0131":"B\xf6l\xfcm Ba\u015fl\u0131\u011f\u0131"),i.xp6(1),i.Q6J("formControlName","agendaTitle")("spellcheck",!1),i.xp6(6),i.Q6J("ngClass",i.kEZ(37,Mi,0===t.agenda.priority,1===t.agenda.priority,2===t.agenda.priority))("matMenuTriggerFor",n),i.xp6(1),i.Q6J("ngIf",0===t.agenda.priority),i.xp6(1),i.Q6J("ngIf",1===t.agenda.priority),i.xp6(1),i.Q6J("ngIf",2===t.agenda.priority),i.xp6(3),i.Q6J("ngClass",i.VKq(41,Et,0===t.agenda.priority)),i.xp6(4),i.Q6J("svgIcon","heroicons_solid:arrow-narrow-down"),i.xp6(1),i.Q6J("ngClass",i.VKq(43,Et,1===t.agenda.priority)),i.xp6(4),i.Q6J("svgIcon","heroicons_solid:minus"),i.xp6(1),i.Q6J("ngClass",i.VKq(45,Et,2===t.agenda.priority)),i.xp6(4),i.Q6J("svgIcon","heroicons_solid:arrow-narrow-up"),i.xp6(4),i.Q6J("ngClass",i.kEZ(47,Zi,!t.agenda.dueDate,t.agenda.dueDate&&!t.isOverdue(),t.agenda.dueDate&&t.isOverdue())),i.xp6(1),i.Q6J("svgIcon","heroicons_solid:calendar"),i.xp6(2),i.Q6J("ngIf",t.agenda.dueDate),i.xp6(1),i.Q6J("ngIf",!t.agenda.dueDate),i.xp6(1),i.Q6J("subscriptSizing","dynamic"),i.xp6(1),i.Q6J("formControlName","dueDate")("matDatepicker",s),i.xp6(6),i.Q6J("color","primary"),i.xp6(3),i.Q6J("subscriptSizing","dynamic"),i.xp6(3),i.Q6J("formControlName","notes")("spellcheck",!1),i.xp6(2),i.Q6J("ngIf",t.visible),i.xp6(1),i.Q6J("ngIf",!t.visible)}},dependencies:[nt.lW,nt.RK,U.Mq,U.hl,U.M5,U.dp,U.DK,oe.d,St.KE,St.hX,It.Hw,ae.Nt,xi.IC,pt.VK,pt.OP,pt.p6,Pt.gM,A.mk,A.O5,C._Y,C.Fj,C.JJ,C.JL,C.sg,C.u,A.uU],encapsulation:2,changeDetection:0});const Ni=[{path:"",component:ot,resolve:{tags:J},children:[{path:"",component:H,resolve:{agendas:Y},children:[{path:":id",component:at,resolve:{agenda:G},canDeactivate:[V]}]}]}];class j{}j.\u0275fac=function(e){return new(e||j)},j.\u0275mod=i.oAB({type:j}),j.\u0275inj=i.cJS({providers:[{provide:Z.sG,useValue:ce}],imports:[P.Bz.forChild(Ni),Pe,ke.Bb,nt.ot,Re.p9,U.FA,oe.t,St.lN,It.Ps,ae.c,Me,pt.Tx,Ze.Cv,Ne.Fk,Z.si,Be.LD,_t.SJ,Pt.AV,z,Ue.m]})},5017:(_e,lt,d)=>{d.d(lt,{A8:()=>mt,Ov:()=>M,Z9:()=>F,eX:()=>m,k:()=>vt,o2:()=>X,yy:()=>ct});var P=d(4033),i=d(7579),A=d(4650);class X{}function F(w){return w&&"function"==typeof w.connect&&!(w instanceof P.c)}class ct{applyChanges(h,u,p,T,f){h.forEachOperation((D,S,x)=>{let k,I;if(null==D.previousIndex){const R=p(D,S,x);k=u.createEmbeddedView(R.templateRef,R.context,R.index),I=1}else null==x?(u.remove(S),I=3):(k=u.get(S),u.move(k,x),I=2);f&&f({context:k?.context,operation:I,record:D})})}detach(){}}class m{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(h,u,p,T,f){h.forEachOperation((D,S,x)=>{let k,I;null==D.previousIndex?(k=this._insertView(()=>p(D,S,x),x,u,T(D)),I=k?1:0):null==x?(this._detachAndCacheView(S,u),I=3):(k=this._moveView(S,x,u,T(D)),I=2),f&&f({context:k?.context,operation:I,record:D})})}detach(){for(const h of this._viewCache)h.destroy();this._viewCache=[]}_insertView(h,u,p,T){const f=this._insertViewFromCache(u,p);if(f)return void(f.context.$implicit=T);const D=h();return p.createEmbeddedView(D.templateRef,D.context,D.index)}_detachAndCacheView(h,u){const p=u.detach(h);this._maybeCacheView(p,u)}_moveView(h,u,p,T){const f=p.get(h);return p.move(f,u),f.context.$implicit=T,f}_maybeCacheView(h,u){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(h);else{const p=u.indexOf(h);-1===p?h.destroy():u.remove(p)}}_insertViewFromCache(h,u){const p=this._viewCache.pop();return p&&u.insert(p,h),p||null}}class M{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(h=!1,u,p=!0,T){this._multiple=h,this._emitChanges=p,this.compareWith=T,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new i.x,u&&u.length&&(h?u.forEach(f=>this._markSelected(f)):this._markSelected(u[0]),this._selectedToEmit.length=0)}select(...h){this._verifyValueAssignment(h),h.forEach(p=>this._markSelected(p));const u=this._hasQueuedChanges();return this._emitChangeEvent(),u}deselect(...h){this._verifyValueAssignment(h),h.forEach(p=>this._unmarkSelected(p));const u=this._hasQueuedChanges();return this._emitChangeEvent(),u}setSelection(...h){this._verifyValueAssignment(h);const u=this.selected,p=new Set(h);h.forEach(f=>this._markSelected(f)),u.filter(f=>!p.has(f)).forEach(f=>this._unmarkSelected(f));const T=this._hasQueuedChanges();return this._emitChangeEvent(),T}toggle(h){return this.isSelected(h)?this.deselect(h):this.select(h)}clear(h=!0){this._unmarkAll();const u=this._hasQueuedChanges();return h&&this._emitChangeEvent(),u}isSelected(h){if(this.compareWith){for(const u of this._selection)if(this.compareWith(u,h))return!0;return!1}return this._selection.has(h)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(h){this._multiple&&this.selected&&this._selected.sort(h)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(h){this.isSelected(h)||(this._multiple||this._unmarkAll(),this.isSelected(h)||this._selection.add(h),this._emitChanges&&this._selectedToEmit.push(h))}_unmarkSelected(h){this.isSelected(h)&&(this._selection.delete(h),this._emitChanges&&this._deselectedToEmit.push(h))}_unmarkAll(){this.isEmpty()||this._selection.forEach(h=>this._unmarkSelected(h))}_verifyValueAssignment(h){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}}let mt=(()=>{class w{constructor(){this._listeners=[]}notify(u,p){for(let T of this._listeners)T(u,p)}listen(u){return this._listeners.push(u),()=>{this._listeners=this._listeners.filter(p=>u!==p)}}ngOnDestroy(){this._listeners=[]}}return w.\u0275fac=function(u){return new(u||w)},w.\u0275prov=A.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const vt=new A.OlP("_ViewRepeater")}}]);